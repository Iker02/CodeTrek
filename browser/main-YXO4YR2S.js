var sF=Object.defineProperty,aF=Object.defineProperties;var cF=Object.getOwnPropertyDescriptors;var ju=Object.getOwnPropertySymbols,lF=Object.getPrototypeOf,IC=Object.prototype.hasOwnProperty,bC=Object.prototype.propertyIsEnumerable,uF=Reflect.get;var EC=(t,e,n)=>e in t?sF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})IC.call(e,n)&&EC(t,n,e[n]);if(ju)for(var n of ju(e))bC.call(e,n)&&EC(t,n,e[n]);return t},de=(t,e)=>aF(t,cF(e));var CC=(t,e)=>{var n={};for(var r in t)IC.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ju)for(var r of ju(t))e.indexOf(r)<0&&bC.call(t,r)&&(n[r]=t[r]);return n};var hi=(t,e,n)=>uF(lF(t),n,e);var C=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function DC(t,e){return Object.is(t,e)}var at=null,Bu=!1,im=1,Dn=Symbol("SIGNAL");function Ee(t){let e=at;return at=t,e}function SC(){return at}var vc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Hu(t){if(Bu)throw new Error("");if(at===null)return;at.consumerOnSignalRead(t);let e=at.nextProducerIndex++;if(Wu(at),e<at.producerNode.length&&at.producerNode[e]!==t&&yc(at)){let n=at.producerNode[e];zu(n,at.producerIndexOfThis[e])}at.producerNode[e]!==t&&(at.producerNode[e]=t,at.producerIndexOfThis[e]=yc(at)?NC(t,at,e):0),at.producerLastReadVersion[e]=t.version}function dF(){im++}function AC(t){if(!(yc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===im)){if(!t.producerMustRecompute(t)&&!sm(t)){TC(t);return}t.producerRecomputeValue(t),TC(t)}}function xC(t){if(t.liveConsumerNode===void 0)return;let e=Bu;Bu=!0;try{for(let n of t.liveConsumerNode)n.dirty||hF(n)}finally{Bu=e}}function RC(){return at?.consumerAllowSignalWrites!==!1}function hF(t){t.dirty=!0,xC(t),t.consumerMarkedDirty?.(t)}function TC(t){t.dirty=!1,t.lastCleanEpoch=im}function qu(t){return t&&(t.nextProducerIndex=0),Ee(t)}function om(t,e){if(Ee(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(yc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)zu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function sm(t){Wu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(AC(n),r!==n.version))return!0}return!1}function am(t){if(Wu(t),yc(t))for(let e=0;e<t.producerNode.length;e++)zu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function NC(t,e,n){if(MC(t),t.liveConsumerNode.length===0&&kC(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=NC(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function zu(t,e){if(MC(t),t.liveConsumerNode.length===1&&kC(t))for(let r=0;r<t.producerNode.length;r++)zu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Wu(i),i.producerIndexOfThis[r]=e}}function yc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function MC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function kC(t){return t.producerNode!==void 0}function PC(t,e){let n=Object.create(fF);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(AC(n),Hu(n),n.value===$u)throw n.error;return n.value};return r[Dn]=n,r}var nm=Symbol("UNSET"),rm=Symbol("COMPUTING"),$u=Symbol("ERRORED"),fF=de(U({},vc),{value:nm,dirty:!0,error:null,equal:DC,kind:"computed",producerMustRecompute(t){return t.value===nm||t.value===rm},producerRecomputeValue(t){if(t.value===rm)throw new Error("Detected cycle in computations.");let e=t.value;t.value=rm;let n=qu(t),r,i=!1;try{r=t.computation(),Ee(null),i=e!==nm&&e!==$u&&r!==$u&&t.equal(e,r)}catch(o){r=$u,t.error=o}finally{om(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function pF(){throw new Error}var OC=pF;function LC(t){OC(t)}function FC(t){OC=t}var gF=null;function VC(t,e){let n=Object.create(cm);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Hu(n),n.value);return r[Dn]=n,r}function Gu(t,e){RC()||LC(t),t.equal(t.value,e)||(t.value=e,mF(t))}function UC(t,e){RC()||LC(t),Gu(t,e(t.value))}var cm=de(U({},vc),{equal:DC,value:void 0,kind:"signal"});function mF(t){t.version++,dF(),xC(t),gF?.()}function jC(t){let e=Ee(null);try{return t()}finally{Ee(e)}}var lm;function _c(){return lm}function Nr(t){let e=lm;return lm=t,e}var um=Symbol("NotFound");function te(t){return typeof t=="function"}function ss(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ku=ss(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Yi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Ku?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{BC(o)}catch(s){e=e??[],s instanceof Ku?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ku(e)}}add(e){var n;if(e&&e!==this)if(this.closed)BC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Yi(n,e)}remove(e){let{_finalizers:n}=this;n&&Yi(n,e),e instanceof t&&e._removeParent(this)}};Ze.EMPTY=(()=>{let t=new Ze;return t.closed=!0,t})();var dm=Ze.EMPTY;function Qu(t){return t instanceof Ze||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function BC(t){te(t)?t():t.unsubscribe()}var Un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var as={setTimeout(t,e,...n){let{delegate:r}=as;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=as;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Yu(t){as.setTimeout(()=>{let{onUnhandledError:e}=Un;if(e)e(t);else throw t})}function wc(){}var $C=hm("C",void 0,void 0);function HC(t){return hm("E",void 0,t)}function qC(t){return hm("N",t,void 0)}function hm(t,e,n){return{kind:t,value:e,error:n}}var Zi=null;function cs(t){if(Un.useDeprecatedSynchronousErrorHandling){let e=!Zi;if(e&&(Zi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Zi;if(Zi=null,n)throw r}}else t()}function zC(t){Un.useDeprecatedSynchronousErrorHandling&&Zi&&(Zi.errorThrown=!0,Zi.error=t)}var Ji=class extends Ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qu(e)&&e.add(this)):this.destination=_F}static create(e,n,r){return new ls(e,n,r)}next(e){this.isStopped?pm(qC(e),this):this._next(e)}error(e){this.isStopped?pm(HC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pm($C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yF=Function.prototype.bind;function fm(t,e){return yF.call(t,e)}var gm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zu(r)}else Zu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zu(n)}}},ls=class extends Ji{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fm(e.next,o),error:e.error&&fm(e.error,o),complete:e.complete&&fm(e.complete,o)}):i=e}this.destination=new gm(i)}};function Zu(t){Un.useDeprecatedSynchronousErrorHandling?zC(t):Yu(t)}function vF(t){throw t}function pm(t,e){let{onStoppedNotification:n}=Un;n&&as.setTimeout(()=>n(t,e))}var _F={closed:!0,next:wc,error:vF,complete:wc};var us=typeof Symbol=="function"&&Symbol.observable||"@@observable";function sn(t){return t}function mm(...t){return ym(t)}function ym(t){return t.length===0?sn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=EF(n)?n:new ls(n,r,i);return cs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=WC(r),new r((i,o)=>{let s=new ls({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[us](){return this}pipe(...n){return ym(n)(this)}toPromise(n){return n=WC(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function WC(t){var e;return(e=t??Un.Promise)!==null&&e!==void 0?e:Promise}function wF(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function EF(t){return t&&t instanceof Ji||wF(t)&&Qu(t)}function vm(t){return te(t?.lift)}function Ie(t){return e=>{if(vm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new _m(t,e,n,r,i)}var _m=class extends Ji{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ds(){return Ie((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var hs=class extends ge{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ze;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ze.EMPTY)}return e}refCount(){return ds()(this)}};var GC=ss(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pt=(()=>{class t extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ju(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new GC}next(n){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?dm:(this.currentObservers=null,o.push(n),new Ze(()=>{this.currentObservers=null,Yi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ge;return n.source=this,n}}return t.create=(e,n)=>new Ju(e,n),t})(),Ju=class extends pt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:dm}};var Ct=class extends pt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wm={now(){return(wm.delegate||Date).now()},delegate:void 0};var Xu=class extends Ze{constructor(e,n){super()}schedule(e,n=0){return this}};var Ec={setInterval(t,e,...n){let{delegate:r}=Ec;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ec;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var fs=class extends Xu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ec.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ec.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Yi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ps=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ps.now=wm.now;var gs=class extends ps{constructor(e,n=ps.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Em=new gs(fs);var ed=class extends fs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var td=class extends gs{};var Im=new td(ed);var Qt=new ge(t=>t.complete());function KC(t){return t&&te(t.schedule)}function QC(t){return t[t.length-1]}function nd(t){return te(QC(t))?t.pop():void 0}function fi(t){return KC(QC(t))?t.pop():void 0}function bm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZC(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function c(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function YC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xi(t){return this instanceof Xi?(this.v=t,this):new Xi(t)}function JC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(M){return new Promise(function(P,q){o.push([y,M,P,q])>1||c(y,M)})},T&&(i[y]=T(i[y])))}function c(y,T){try{u(r[y](T))}catch(M){m(o[0][3],M)}}function u(y){y.value instanceof Xi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){c("next",y)}function p(y){c("throw",y)}function m(y,T){y(T),o.shift(),o.length&&c(o[0][0],o[0][1])}}function XC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof YC=="function"?YC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var rd=t=>t&&typeof t.length=="number"&&typeof t!="function";function id(t){return te(t?.then)}function od(t){return te(t[us])}function sd(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function ad(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cd=IF();function ld(t){return te(t?.[cd])}function ud(t){return JC(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Xi(n.read());if(i)return yield Xi(void 0);yield yield Xi(r)}}finally{n.releaseLock()}})}function dd(t){return te(t?.getReader)}function et(t){if(t instanceof ge)return t;if(t!=null){if(od(t))return bF(t);if(rd(t))return CF(t);if(id(t))return TF(t);if(sd(t))return eT(t);if(ld(t))return DF(t);if(dd(t))return SF(t)}throw ad(t)}function bF(t){return new ge(e=>{let n=t[us]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CF(t){return new ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function TF(t){return new ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Yu)})}function DF(t){return new ge(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function eT(t){return new ge(e=>{AF(t,e).catch(n=>e.error(n))})}function SF(t){return eT(ud(t))}function AF(t,e){var n,r,i,o;return ZC(this,void 0,void 0,function*(){try{for(n=XC(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Yt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function pi(t,e=0){return Ie((n,r)=>{n.subscribe(ye(r,i=>Yt(r,t,()=>r.next(i),e),()=>Yt(r,t,()=>r.complete(),e),i=>Yt(r,t,()=>r.error(i),e)))})}function gi(t,e=0){return Ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function tT(t,e){return et(t).pipe(gi(e),pi(e))}function nT(t,e){return et(t).pipe(gi(e),pi(e))}function rT(t,e){return new ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function iT(t,e){return new ge(n=>{let r;return Yt(n,e,()=>{r=t[cd](),Yt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function hd(t,e){if(!t)throw new Error("Iterable cannot be null");return new ge(n=>{Yt(n,e,()=>{let r=t[Symbol.asyncIterator]();Yt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function oT(t,e){return hd(ud(t),e)}function sT(t,e){if(t!=null){if(od(t))return tT(t,e);if(rd(t))return rT(t,e);if(id(t))return nT(t,e);if(sd(t))return hd(t,e);if(ld(t))return iT(t,e);if(dd(t))return oT(t,e)}throw ad(t)}function We(t,e){return e?sT(t,e):et(t)}function J(...t){let e=fi(t);return We(t,e)}function ms(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new ge(e?i=>e.schedule(r,0,i):r)}function Cm(t){return!!t&&(t instanceof ge||te(t.lift)&&te(t.subscribe))}var Mr=ss(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ve(t,e){return Ie((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:xF}=Array;function RF(t,e){return xF(e)?t(...e):t(e)}function fd(t){return ve(e=>RF(t,e))}var{isArray:NF}=Array,{getPrototypeOf:MF,prototype:kF,keys:PF}=Object;function pd(t){if(t.length===1){let e=t[0];if(NF(e))return{args:e,keys:null};if(OF(e)){let n=PF(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function OF(t){return t&&typeof t=="object"&&MF(t)===kF}function gd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ic(...t){let e=fi(t),n=nd(t),{args:r,keys:i}=pd(t);if(r.length===0)return We([],e);let o=new ge(LF(r,e,i?s=>gd(i,s):sn));return n?o.pipe(fd(n)):o}function LF(t,e,n=sn){return r=>{aT(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)aT(e,()=>{let u=We(t[c],e),h=!1;u.subscribe(ye(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function aT(t,e,n){t?Yt(n,t,e):e()}function cT(t,e,n,r,i,o,s,a){let c=[],u=0,h=0,p=!1,m=()=>{p&&!c.length&&!u&&e.complete()},y=M=>u<r?T(M):c.push(M),T=M=>{o&&e.next(M),u++;let P=!1;et(n(M,h++)).subscribe(ye(e,q=>{i?.(q),o?y(q):e.next(q)},()=>{P=!0},void 0,()=>{if(P)try{for(u--;c.length&&u<r;){let q=c.shift();s?Yt(e,s,()=>T(q)):T(q)}m()}catch(q){e.error(q)}}))};return t.subscribe(ye(e,y,()=>{p=!0,m()})),()=>{a?.()}}function tt(t,e,n=1/0){return te(e)?tt((r,i)=>ve((o,s)=>e(r,o,i,s))(et(t(r,i))),n):(typeof e=="number"&&(n=e),Ie((r,i)=>cT(r,i,t,n)))}function ys(t=1/0){return tt(sn,t)}function lT(){return ys(1)}function vs(...t){return lT()(We(t,fi(t)))}function md(t){return new ge(e=>{et(t()).subscribe(e)})}function Tm(...t){let e=nd(t),{args:n,keys:r}=pd(t),i=new ge(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let h=0;h<s;h++){let p=!1;et(n[h]).subscribe(ye(o,m=>{p||(p=!0,u--),a[h]=m},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(r?gd(r,a):a),o.complete())}))}});return e?i.pipe(fd(e)):i}function an(t,e){return Ie((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function mi(t){return Ie((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=et(t(s,mi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function uT(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(ye(s,h=>{let p=u++;c=a?t(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function yi(t,e){return te(e)?tt(t,e,1):tt(t,1)}function vi(t){return Ie((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function kr(t){return t<=0?()=>Qt:Ie((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function yd(t=FF){return Ie((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function FF(){return new Mr}function _s(t){return Ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Pr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?an((i,o)=>t(i,o,r)):sn,kr(1),n?vi(e):yd(()=>new Mr))}function ws(t){return t<=0?()=>Qt:Ie((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Dm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?an((i,o)=>t(i,o,r)):sn,ws(1),n?vi(e):yd(()=>new Mr))}function Sm(t,e){return Ie(uT(t,e,arguments.length>=2,!0))}function Am(...t){let e=fi(t);return Ie((n,r)=>{(e?vs(t,n,e):vs(t,n)).subscribe(r)})}function cn(t,e){return Ie((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,c=>{i?.unsubscribe();let u=0,h=o++;et(t(c,h)).subscribe(i=ye(r,p=>r.next(e?e(c,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xm(t){return Ie((e,n)=>{et(t).subscribe(ye(n,()=>n.complete(),wc)),!n.closed&&e.subscribe(n)})}function ct(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):sn}var Pm={JSACTION:"jsaction"},Om={JSACTION:"__jsaction",OWNER:"__owner"},pT={};function VF(t){return t[Om.JSACTION]}function dT(t,e){t[Om.JSACTION]=e}function UF(t){return pT[t]}function jF(t,e){pT[t]=e}var Y={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},BF=[Y.MOUSEENTER,Y.MOUSELEAVE,"pointerenter","pointerleave"],ene=[Y.CLICK,Y.DBLCLICK,Y.FOCUSIN,Y.FOCUSOUT,Y.KEYDOWN,Y.KEYUP,Y.KEYPRESS,Y.MOUSEOVER,Y.MOUSEOUT,Y.SUBMIT,Y.TOUCHSTART,Y.TOUCHEND,Y.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],$F=[Y.FOCUS,Y.BLUR,Y.ERROR,Y.LOAD,Y.TOGGLE],Lm=t=>$F.indexOf(t)>=0;function HF(t){return t===Y.MOUSEENTER?Y.MOUSEOVER:t===Y.MOUSELEAVE?Y.MOUSEOUT:t===Y.POINTERENTER?Y.POINTEROVER:t===Y.POINTERLEAVE?Y.POINTEROUT:t}function qF(t,e,n,r){let i=!1;Lm(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function zF(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function WF(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var hT=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function GF(t){return t.which===2||t.which==null&&t.button===4}function KF(t){return hT&&t.metaKey||!hT&&t.ctrlKey||GF(t)||t.shiftKey}function QF(t,e,n){let r=t.relatedTarget;return(t.type===Y.MOUSEOVER&&e===Y.MOUSEENTER||t.type===Y.MOUSEOUT&&e===Y.MOUSELEAVE||t.type===Y.POINTEROVER&&e===Y.POINTERENTER||t.type===Y.POINTEROUT&&e===Y.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function YF(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===Y.MOUSEOVER?n.type=Y.MOUSEENTER:t.type===Y.MOUSEOUT?n.type=Y.MOUSELEAVE:t.type===Y.POINTEROVER?n.type=Y.POINTERENTER:n.type=Y.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var ZF=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Ed=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){ZF&&(this.element.style.cursor="pointer"),this.handlerInfos.push(qF(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)zF(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},JF={EVENT_ACTION_SEPARATOR:":"};function _i(t){return t.eventType}function Fm(t,e){t.eventType=e}function _d(t){return t.event}function gT(t,e){t.event=e}function mT(t){return t.targetElement}function yT(t,e){t.targetElement=e}function vT(t){return t.eic}function XF(t,e){t.eic=e}function eV(t){return t.timeStamp}function tV(t,e){t.timeStamp=e}function wd(t){return t.eia}function _T(t,e,n){t.eia=[e,n]}function Rm(t){t.eia=void 0}function vd(t){return t[1]}function nV(t){return t.eirp}function wT(t,e){t.eirp=e}function ET(t){return t.eir}function IT(t,e){t.eir=e}function bT(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function rV(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Nm=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return _i(this.eventInfo)}setEventType(e){Fm(this.eventInfo,e)}getEvent(){return _d(this.eventInfo)}setEvent(e){gT(this.eventInfo,e)}getTargetElement(){return mT(this.eventInfo)}setTargetElement(e){yT(this.eventInfo,e)}getContainer(){return vT(this.eventInfo)}setContainer(e){XF(this.eventInfo,e)}getTimestamp(){return eV(this.eventInfo)}setTimestamp(e){tV(this.eventInfo,e)}getAction(){let e=wd(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Rm(this.eventInfo);return}_T(this.eventInfo,e.name,e.element)}getIsReplay(){return nV(this.eventInfo)}setIsReplay(e){wT(this.eventInfo,e)}getResolved(){return ET(this.eventInfo)}setResolved(e){IT(this.eventInfo,e)}clone(){return new t(bT(this.eventInfo))}},iV={},oV=/\s*;\s*/,sV=Y.CLICK,Mm=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&_i(e)===Y.CLICK&&KF(_d(e))?Fm(e,Y.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){ET(e)||(this.populateAction(e,mT(e)),IT(e,!0))}resolveParentAction(e){let n=wd(e),r=n&&vd(n);Rm(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==vT(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!wd(e));)r=this.getParentNode(r);let i=wd(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(_i(e)===Y.MOUSEENTER||_i(e)===Y.MOUSELEAVE||_i(e)===Y.POINTERENTER||_i(e)===Y.POINTERLEAVE)))if(QF(_d(e),_i(e),vd(i))){let o=YF(_d(e),vd(i));gT(e,o),yT(e,vd(i))}else Rm(e)}getParentNode(e){let n=e[Om.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[_i(n)];i!==void 0&&_T(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=VF(e);if(!n){let r=e.getAttribute(Pm.JSACTION);if(!r)n=iV,dT(e,n);else{if(n=UF(r),!n){n={};let i=r.split(oV);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(JF.EVENT_ACTION_SEPARATOR),c=a!==-1,u=c?s.substr(0,a).trim():sV,h=c?s.substr(a+1).trim():s;n[u]=h}jF(r,n)}dT(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},CT=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(CT||{}),km=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Nm(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&aV(r.element,n)&&WF(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function aV(t,e){return t.tagName==="A"&&(e.getEventType()===Y.CLICK||e.getEventType()===Y.CLICKMOD)}var TT=Symbol.for("propagationStopped"),Vm={REPLAY:101};var cV="`preventDefault` called during event replay.";var lV="`composedPath` called during event replay.",Id=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Mm({clickModSupport:n}),this.dispatcher=new km(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&hV(e),uV(e);e.getAction();){if(fV(e),Lm(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),dV(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function uV(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[TT]=!0,n()};eo(e,"stopPropagation",r),eo(e,"stopImmediatePropagation",r)}function dV(t){return!!t.getEvent()[TT]}function hV(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);eo(e,"target",n),eo(e,"eventPhase",Vm.REPLAY),eo(e,"preventDefault",()=>{throw r(),new Error(cV+"")}),eo(e,"composedPath",()=>{throw new Error(lV+"")})}function fV(t){let e=t.getEvent(),n=t.getAction()?.element;n&&eo(e,"currentTarget",n,{configurable:!0})}function eo(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function DT(t,e){t.ecrd(n=>{e.dispatch(n)},CT.I_AM_THE_JSACTION_FRAMEWORK)}function pV(t){return t?.q??[]}function gV(t){t&&(fT(t.c,t.et,t.h),fT(t.c,t.etc,t.h,!0))}function fT(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var mV=!1,ST=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=mV;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=rV(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){wT(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&BF.indexOf(n)>=0)return;let o=(a,c,u)=>{this.handleEvent(a,c,u)};this.eventHandlers[n]=o;let s=HF(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),gV(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=bT(i);Fm(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function AT(t,e=window){return pV(e._ejsas?.[t])}function Um(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var OD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,n){super(gh(e,n)),this.code=e}};function gh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var LD=Symbol("InputSignalNode#UNSET"),yV=de(U({},cm),{transformFn:void 0,applyValueToInputSignal(t,e){Gu(t,e)}});function FD(t,e){let n=Object.create(yV);n.value=t,n.transformFn=e?.transform;function r(){if(Hu(n),n.value===LD){let i=null;throw new H(-950,i)}return n.value}return r[Dn]=n,r}function Oc(t){return{toString:t}.toString()}var bd="__parameters__";function vV(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function VD(t,e,n){return Oc(()=>{let r=vV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,h){let p=c.hasOwnProperty(bd)?c[bd]:Object.defineProperty(c,bd,{value:[]})[bd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var dn=globalThis;function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function _V(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Jt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function xT(t,e){return t?e?`${t} ${e}`:t:e||""}var wV=Pe({__forward_ref__:Pe});function Fs(t){return t.__forward_ref__=Fs,t.toString=function(){return Jt(this())},t}function qt(t){return UD(t)?t():t}function UD(t){return typeof t=="function"&&t.hasOwnProperty(wV)&&t.__forward_ref__===Fs}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function mh(t){return RT(t,BD)||RT(t,$D)}function jD(t){return mh(t)!==null}function RT(t,e){return t.hasOwnProperty(e)?t[e]:null}function EV(t){let e=t&&(t[BD]||t[$D]);return e||null}function NT(t){return t&&(t.hasOwnProperty(MT)||t.hasOwnProperty(IV))?t[MT]:null}var BD=Pe({\u0275prov:Pe}),MT=Pe({\u0275inj:Pe}),$D=Pe({ngInjectableDef:Pe}),IV=Pe({ngInjectorDef:Pe}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function HD(t){return t&&!!t.\u0275providers}var bV=Pe({\u0275cmp:Pe}),CV=Pe({\u0275dir:Pe}),TV=Pe({\u0275pipe:Pe}),DV=Pe({\u0275mod:Pe}),Fd=Pe({\u0275fac:Pe}),Dc=Pe({__NG_ELEMENT_ID__:Pe}),kT=Pe({__NG_ENV_ID__:Pe});function Ac(t){return typeof t=="string"?t:t==null?"":String(t)}function SV(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ac(t)}function qD(t,e){throw new H(-200,t)}function Qy(t,e){throw new H(-201,!1)}var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{}),ry;function zD(){return ry}function Zt(t){let e=ry;return ry=t,e}function WD(t,e,n){let r=mh(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&le.Optional)return null;if(e!==void 0)return e;Qy(t,"Injector")}var AV={},to=AV,iy="__NG_DI_FLAG__",Vd=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?um:to,r)}},Ud="ngTempTokenPath",xV="ngTokenPath",RV=/\n/gm,NV="\u0275",PT="__source";function MV(t,e=le.Default){if(_c()===void 0)throw new H(-203,!1);if(_c()===null)return WD(t,void 0,e);{let n=_c(),r;return n instanceof Vd?r=n.injector:r=n,r.get(t,e&le.Optional?null:void 0,e)}}function Q(t,e=le.Default){return(zD()||MV)(qt(t),e)}function k(t,e=le.Default){return Q(t,yh(e))}function yh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function oy(t){let e=[];for(let n=0;n<t.length;n++){let r=qt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=le.Default;for(let s=0;s<r.length;s++){let a=r[s],c=kV(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function GD(t,e){return t[iy]=e,t.prototype[iy]=e,t}function kV(t){return t[iy]}function PV(t,e,n,r){let i=t[Ud];throw e[PT]&&i.unshift(e[PT]),t.message=OV(`
`+t.message,i,n,r),t[xV]=i,t[Ud]=null,t}function OV(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==NV?t.slice(2):t;let i=Jt(e);if(Array.isArray(e))i=e.map(Jt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Jt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(RV,`
  `)}`}var ht=GD(VD("Optional"),8);var LV=GD(VD("SkipSelf"),4);function ro(t,e){let n=t.hasOwnProperty(Fd);return n?t[Fd]:null}function Yy(t,e){t.forEach(n=>Array.isArray(n)?Yy(n,e):e(n))}function KD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function jd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function FV(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function VV(t,e,n){let r=Lc(t,e);return r>=0?t[r|1]=n:(r=~r,FV(t,r,e,n)),r}function jm(t,e){let n=Lc(t,e);if(n>=0)return t[n|1]}function Lc(t,e){return UV(t,e,1)}function UV(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var io={},Sn=[],Ei=new $(""),QD=new $("",-1),YD=new $(""),Bd=class{get(e,n=to){if(n===to){let r=new Error(`NullInjectorError: No provider for ${Jt(e)}!`);throw r.name="NullInjectorError",r}return n}};function ZD(t,e){let n=t[DV]||null;if(!n&&e===!0)throw new Error(`Type ${Jt(t)} does not have '\u0275mod' property.`);return n}function Ii(t){return t[bV]||null}function JD(t){return t[CV]||null}function XD(t){return t[TV]||null}function fn(t){return{\u0275providers:t}}function jV(...t){return{\u0275providers:Zy(!0,t),\u0275fromNgModule:!0}}function Zy(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Yy(e,s=>{let a=s;sy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&eS(i,o),n}function eS(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Jy(i,o=>{e(o,r)})}}function sy(t,e,n,r){if(t=qt(t),!t)return!1;let i=null,o=NT(t),s=!o&&Ii(t);if(!o&&!s){let c=t.ngModule;if(o=NT(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)sy(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Yy(o.imports,h=>{sy(h,e,n,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&eS(u,e)}if(!a){let u=ro(i)||(()=>new i);e({provide:i,useFactory:u,deps:Sn},i),e({provide:YD,useValue:i,multi:!0},i),e({provide:Ei,useValue:()=>Q(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;Jy(c,h=>{e(h,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Jy(t,e){for(let n of t)HD(n)&&(n=n.\u0275providers),Array.isArray(n)?Jy(n,e):e(n)}var BV=Pe({provide:String,useValue:Pe});function tS(t){return t!==null&&typeof t=="object"&&BV in t}function $V(t){return!!(t&&t.useExisting)}function HV(t){return!!(t&&t.useFactory)}function Rs(t){return typeof t=="function"}function qV(t){return!!t.useClass}var vh=new $(""),Nd={},OT={},Bm;function Xy(){return Bm===void 0&&(Bm=new Bd),Bm}var Mt=class{},xc=class extends Mt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,cy(e,s=>this.processProvider(s)),this.records.set(QD,Es(void 0,this)),i.has("environment")&&this.records.set(Mt,Es(void 0,this));let o=this.records.get(vh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(YD,Sn,le.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?um:to,r)}destroy(){Cc(this),this._destroyed=!0;let e=Ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(e)}}onDestroy(e){return Cc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Cc(this);let n=Nr(this),r=Zt(void 0),i;try{return e()}finally{Nr(n),Zt(r)}}get(e,n=to,r=le.Default){if(Cc(this),e.hasOwnProperty(kT))return e[kT](this);r=yh(r);let i,o=Nr(this),s=Zt(void 0);try{if(!(r&le.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=QV(e)&&mh(e);u&&this.injectableDefInScope(u)?c=Es(ay(e),Nd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&le.Self?Xy():this.parent;return n=r&le.Optional&&n===to?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ud]=a[Ud]||[]).unshift(Jt(e)),o)throw a;return PV(a,e,"R3InjectorError",this.source)}else throw a}finally{Zt(s),Nr(o)}}resolveInjectorInitializers(){let e=Ee(null),n=Nr(this),r=Zt(void 0),i;try{let o=this.get(Ei,Sn,le.Self);for(let s of o)s()}finally{Nr(n),Zt(r),Ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Jt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=qt(e);let n=Rs(e)?e:qt(e&&e.provide),r=WV(e);if(!Rs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Es(void 0,Nd,!0),i.factory=()=>oy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ee(null);try{return n.value===OT?qD(Jt(e)):n.value===Nd&&(n.value=OT,n.value=n.factory()),typeof n.value=="object"&&n.value&&KV(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=qt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ay(t){let e=mh(t),n=e!==null?e.factory:ro(t);if(n!==null)return n;if(t instanceof $)throw new H(204,!1);if(t instanceof Function)return zV(t);throw new H(204,!1)}function zV(t){if(t.length>0)throw new H(204,!1);let n=EV(t);return n!==null?()=>n.factory(t):()=>new t}function WV(t){if(tS(t))return Es(void 0,t.useValue);{let e=nS(t);return Es(e,Nd)}}function nS(t,e,n){let r;if(Rs(t)){let i=qt(t);return ro(i)||ay(i)}else if(tS(t))r=()=>qt(t.useValue);else if(HV(t))r=()=>t.useFactory(...oy(t.deps||[]));else if($V(t))r=()=>Q(qt(t.useExisting));else{let i=qt(t&&(t.useClass||t.provide));if(GV(t))r=()=>new i(...oy(t.deps));else return ro(i)||ay(i)}return r}function Cc(t){if(t.destroyed)throw new H(205,!1)}function Es(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function GV(t){return!!t.deps}function KV(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function QV(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function cy(t,e){for(let n of t)Array.isArray(n)?cy(n,e):n&&HD(n)?cy(n.\u0275providers,e):e(n)}function Tt(t,e){let n;t instanceof xc?(Cc(t),n=t):n=new Vd(t);let r,i=Nr(n),o=Zt(void 0);try{return e()}finally{Nr(i),Zt(o)}}function rS(){return zD()!==void 0||_c()!=null}function _h(t){if(!rS())throw new H(-203,!1)}function YV(t){let e=dn.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function ZV(t){return typeof t=="function"}var hn=0,ne=1,re=2,gt=3,Bn=4,qn=5,tr=6,$d=7,Xt=8,bi=9,Or=10,Ge=11,Rc=12,LT=13,Vs=14,xn=15,Ns=16,Is=17,Ms=18,wh=19,iS=20,wi=21,$m=22,Hd=23,An=24,Ds=25,dt=26,oS=1,Lr=6,Fr=7,qd=8,zd=9,un=10;function $n(t){return Array.isArray(t)&&typeof t[oS]=="object"}function or(t){return Array.isArray(t)&&t[oS]===!0}function sS(t){return(t.flags&4)!==0}function fo(t){return t.componentOffset>-1}function ev(t){return(t.flags&1)===1}function nr(t){return!!t.template}function Nc(t){return(t[re]&512)!==0}function Us(t){return(t[re]&256)===256}var ly=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function aS(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Fc=(()=>{let t=()=>cS;return t.ngInherit=!0,t})();function cS(t){return t.type.prototype.ngOnChanges&&(t.setInput=XV),JV}function JV(){let t=uS(this),e=t?.current;if(e){let n=t.previous;if(n===io)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function XV(t,e,n,r,i){let o=this.declaredInputs[r],s=uS(t)||e2(t,{previous:io,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new ly(u&&u.currentValue,n,c===io),aS(t,e,i,n)}var lS="__ngSimpleChanges__";function uS(t){return t[lS]||null}function e2(t,e){return t[lS]=e}var FT=null;var Ne=function(t,e=null,n){FT?.(t,e,n)},dS="svg",t2="math";function Hn(t){for(;Array.isArray(t);)t=t[hn];return t}function hS(t,e){return Hn(e[t])}function sr(t,e){return Hn(e[t.index])}function Eh(t,e){return t.data[e]}function n2(t,e){return t[e]}function rr(t,e){let n=e[t];return $n(n)?n:n[hn]}function tv(t){return(t[re]&128)===128}function r2(t){return or(t[gt])}function Wd(t,e){return e==null?null:t[e]}function fS(t){t[Is]=0}function pS(t){t[re]&1024||(t[re]|=1024,tv(t)&&Vc(t))}function i2(t,e){for(;t>0;)e=e[Vs],t--;return e}function Ih(t){return!!(t[re]&9216||t[An]?.dirty)}function uy(t){t[Or].changeDetectionScheduler?.notify(8),t[re]&64&&(t[re]|=1024),Ih(t)&&Vc(t)}function Vc(t){t[Or].changeDetectionScheduler?.notify(0);let e=oo(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!tv(e)));)e=oo(e)}function gS(t,e){if(Us(t))throw new H(911,!1);t[wi]===null&&(t[wi]=[]),t[wi].push(e)}function o2(t,e){if(t[wi]===null)return;let n=t[wi].indexOf(e);n!==-1&&t[wi].splice(n,1)}function oo(t){let e=t[gt];return or(e)?e[gt]:e}function s2(t){return t[$d]??=[]}function a2(t){return t.cleanup??=[]}var oe={lFrame:CS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dy=!1;function c2(){return oe.lFrame.elementDepthCount}function l2(){oe.lFrame.elementDepthCount++}function u2(){oe.lFrame.elementDepthCount--}function mS(){return oe.bindingsEnabled}function Uc(){return oe.skipHydrationRootTNode!==null}function d2(t){return oe.skipHydrationRootTNode===t}function h2(t){oe.skipHydrationRootTNode=t}function f2(){oe.skipHydrationRootTNode=null}function Re(){return oe.lFrame.lView}function pn(){return oe.lFrame.tView}function Ue(t){return oe.lFrame.contextLView=t,t[Xt]}function je(t){return oe.lFrame.contextLView=null,t}function gn(){let t=yS();for(;t!==null&&t.type===64;)t=t.parent;return t}function yS(){return oe.lFrame.currentTNode}function p2(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function jc(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function vS(){return oe.lFrame.isParent}function g2(){oe.lFrame.isParent=!1}function _S(){return dy}function VT(t){let e=dy;return dy=t,e}function nv(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function m2(){return oe.lFrame.bindingIndex}function y2(t){return oe.lFrame.bindingIndex=t}function rv(){return oe.lFrame.bindingIndex++}function wS(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function v2(){return oe.lFrame.inI18n}function _2(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,hy(e)}function w2(){return oe.lFrame.currentDirectiveIndex}function hy(t){oe.lFrame.currentDirectiveIndex=t}function E2(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ES(t){oe.lFrame.currentQueryIndex=t}function I2(t){let e=t[ne];return e.type===2?e.declTNode:e.type===1?t[qn]:null}function IS(t,e,n){if(n&le.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&le.Host);)if(i=I2(o),i===null||(o=o[Vs],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=bS();return r.currentTNode=e,r.lView=t,!0}function iv(t){let e=bS(),n=t[ne];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function bS(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?CS(t):e}function CS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function TS(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var DS=TS;function ov(){let t=TS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function b2(t){return(oe.lFrame.contextLView=i2(t,oe.lFrame.contextLView))[Xt]}function po(){return oe.lFrame.selectedIndex}function so(t){oe.lFrame.selectedIndex=t}function SS(){let t=oe.lFrame;return Eh(t.tView,t.selectedIndex)}function AS(){oe.lFrame.currentNamespace=dS}function xS(){C2()}function C2(){oe.lFrame.currentNamespace=null}function RS(){return oe.lFrame.currentNamespace}var NS=!0;function sv(){return NS}function Ci(t){NS=t}function T2(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=cS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function MS(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Md(t,e,n){kS(t,e,3,n)}function kd(t,e,n,r){(t[re]&3)===n&&kS(t,e,n,r)}function Hm(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function kS(t,e,n,r){let i=r!==void 0?t[Is]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Is]+=65536),(a<o||o==-1)&&(D2(t,n,e,c),t[Is]=(t[Is]&4294901760)+c+2),c++}function UT(t,e){Ne(4,t,e);let n=Ee(null);try{e.call(t)}finally{Ee(n),Ne(5,t,e)}}function D2(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[re]>>14<t[Is]>>16&&(t[re]&3)===e&&(t[re]+=16384,UT(a,o)):UT(a,o)}var Ss=-1,ao=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function S2(t){return(t.flags&8)!==0}function A2(t){return(t.flags&16)!==0}function x2(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];N2(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function R2(t){return t===3||t===4||t===6}function N2(t){return t.charCodeAt(0)===64}function Mc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?jT(t,n,i,null,e[++r]):jT(t,n,i,null,null))}}return t}function jT(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}var qm={},As=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yh(r);let i=this.injector.get(e,qm,r);return i!==qm||n===qm?i:this.parentInjector.get(e,n,r)}};function PS(t){return t!==Ss}function Gd(t){return t&32767}function M2(t){return t>>16}function Kd(t,e){let n=M2(t),r=e;for(;n>0;)r=r[Vs],n--;return r}var fy=!0;function Qd(t){let e=fy;return fy=t,e}var k2=256,OS=k2-1,LS=5,P2=0,er={};function O2(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Dc)&&(r=n[Dc]),r==null&&(r=n[Dc]=P2++);let i=r&OS,o=1<<i;e.data[t+(i>>LS)]|=o}function Yd(t,e){let n=FS(t,e);if(n!==-1)return n;let r=e[ne];r.firstCreatePass&&(t.injectorIndex=e.length,zm(r.data,t),zm(e,null),zm(r.blueprint,null));let i=av(t,e),o=t.injectorIndex;if(PS(i)){let s=Gd(i),a=Kd(i,e),c=a[ne].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function zm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function FS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function av(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=$S(i),r===null)return Ss;if(n++,i=i[Vs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ss}function py(t,e,n){O2(t,e,n)}function VS(t,e,n){if(n&le.Optional||t!==void 0)return t;Qy(e,"NodeInjector")}function US(t,e,n,r){if(n&le.Optional&&r===void 0&&(r=null),(n&(le.Self|le.Host))===0){let i=t[bi],o=Zt(void 0);try{return i?i.get(e,r,n&le.Optional):WD(e,r,n&le.Optional)}finally{Zt(o)}}return VS(r,e,n)}function jS(t,e,n,r=le.Default,i){if(t!==null){if(e[re]&2048&&!(r&le.Self)){let s=j2(t,e,n,r,er);if(s!==er)return s}let o=BS(t,e,n,r,er);if(o!==er)return o}return US(e,n,r,i)}function BS(t,e,n,r,i){let o=V2(n);if(typeof o=="function"){if(!IS(e,t,r))return r&le.Host?VS(i,n,r):US(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&le.Optional))Qy(n);else return s}finally{DS()}}else if(typeof o=="number"){let s=null,a=FS(t,e),c=Ss,u=r&le.Host?e[xn][qn]:null;for((a===-1||r&le.SkipSelf)&&(c=a===-1?av(t,e):e[a+8],c===Ss||!$T(r,!1)?a=-1:(s=e[ne],a=Gd(c),e=Kd(c,e)));a!==-1;){let h=e[ne];if(BT(o,a,h.data)){let p=L2(a,e,n,s,r,u);if(p!==er)return p}c=e[a+8],c!==Ss&&$T(r,e[ne].data[a+8]===u)&&BT(o,a,e)?(s=h,a=Gd(c),e=Kd(c,e)):a=-1}}return i}function L2(t,e,n,r,i,o){let s=e[ne],a=s.data[t+8],c=r==null?fo(a)&&fy:r!=s&&(a.type&3)!==0,u=i&le.Host&&o===a,h=F2(a,s,n,c,u);return h!==null?Zd(e,s,h,a):er}function F2(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:u;for(let y=p;y<m;y++){let T=s[y];if(y<c&&n===T||y>=c&&T.type===n)return y}if(i){let y=s[c];if(y&&nr(y)&&y.type===n)return c}return null}function Zd(t,e,n,r){let i=t[n],o=e.data;if(i instanceof ao){let s=i;s.resolving&&qD(SV(o[n]));let a=Qd(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Zt(s.injectImpl):null,h=IS(t,r,le.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&T2(n,o[n],e)}finally{u!==null&&Zt(u),Qd(a),s.resolving=!1,DS()}}return i}function V2(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Dc)?t[Dc]:void 0;return typeof e=="number"?e>=0?e&OS:U2:e}function BT(t,e,n){let r=1<<t;return!!(n[e+(t>>LS)]&r)}function $T(t,e){return!(t&le.Self)&&!(t&le.Host&&e)}var no=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jS(this._tNode,this._lView,e,yh(r),n)}};function U2(){return new no(gn(),Re())}function js(t){return Oc(()=>{let e=t.prototype.constructor,n=e[Fd]||gy(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Fd]||gy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function gy(t){return UD(t)?()=>{let e=gy(qt(t));return e&&e()}:ro(t)}function j2(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!Nc(s);){let a=BS(o,s,n,r|le.Self,er);if(a!==er)return a;let c=o.parent;if(!c){let u=s[iS];if(u){let h=u.get(n,er,r);if(h!==er)return h}c=$S(s),s=s[Vs]}o=c}return i}function $S(t){let e=t[ne],n=e.type;return n===2?e.declTNode:n===1?t[qn]:null}function HT(t,e=null,n=null,r){let i=HS(t,e,n,r);return i.resolveInjectorInitializers(),i}function HS(t,e=null,n=null,r,i=new Set){let o=[n||Sn,jV(t)];return r=r||(typeof t=="object"?void 0:Jt(t)),new xc(o,e||Xy(),r||null,i)}var Ve=class t{static THROW_IF_NOT_FOUND=to;static NULL=new Bd;static create(e,n){if(Array.isArray(e))return HT({name:""},n,e,"");{let r=e.name??"";return HT({name:r},e.parent,e.providers,r)}}static \u0275prov=W({token:t,providedIn:"any",factory:()=>Q(QD)});static __NG_ELEMENT_ID__=-1};var B2=new $("");B2.__NG_ELEMENT_ID__=t=>{let e=gn();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(t&le.Optional)return null;throw new H(204,!1)};var qS=!1,Bs=(()=>{class t{static __NG_ELEMENT_ID__=$2;static __NG_ENV_ID__=n=>n}return t})(),my=class extends Bs{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return gS(this._lView,e),()=>o2(this._lView,e)}};function $2(){return new my(Re())}var co=class{},cv=new $("",{providedIn:"root",factory:()=>!1});var zS=new $(""),WS=new $(""),ar=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ct(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})(),bh=(()=>{class t{internalPendingTasks=k(ar);scheduler=k(co);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return C(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})(),yy=class extends pt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,rS()&&(this.destroyRef=k(Bs,{optional:!0})??void 0,this.pendingTasks=k(ar,{optional:!0})??void 0)}emit(e){let n=Ee(null);try{super.next(e)}finally{Ee(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ze&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},lt=yy;function Jd(...t){}function GS(t){let e,n;function r(){t=Jd;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function qT(t){return queueMicrotask(()=>t()),()=>{t=Jd}}var lv="isAngularZone",Xd=lv+"_ID",H2=0,me=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new lt(!1);onMicrotaskEmpty=new lt(!1);onStable=new lt(!1);onError=new lt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=qS}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,W2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(lv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,q2,Jd,Jd);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},q2={};function uv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function z2(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){GS(()=>{t.callbackScheduled=!1,vy(t),t.isCheckStableRunning=!0,uv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),vy(t)}function W2(t){let e=()=>{z2(t)},n=H2++;t._inner=t._inner.fork({name:"angular",properties:{[lv]:!0,[Xd]:n,[Xd+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(G2(c))return r.invokeTask(o,s,a,c);try{return zT(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),WT(t)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return zT(t),r.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!K2(c)&&e(),WT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,vy(t),uv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function vy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function WT(t){t._nesting--,uv(t)}var eh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new lt;onMicrotaskEmpty=new lt;onStable=new lt;onError=new lt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function G2(t){return KS(t,"__ignore_ng_zone__")}function K2(t){return KS(t,"__scheduler_tick__")}function KS(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}function Q2(t="zone.js",e){return t==="noop"?new eh:t==="zone.js"?new me(e):t}var Vr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Y2=new $("",{providedIn:"root",factory:()=>{let t=k(me),e=k(Vr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function GT(t,e){return FD(t,e)}function Z2(t){return FD(LD,t)}var QS=(GT.required=Z2,GT);function J2(){return Ch(gn(),Re())}function Ch(t,e){return new Ti(sr(t,e))}var Ti=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=J2}return t})();function X2(t){return typeof t=="function"&&t[Dn]!==void 0}function $s(t,e){let n=VC(t,e?.equal),r=n[Dn];return n.set=i=>Gu(r,i),n.update=i=>UC(r,i),n.asReadonly=eU.bind(n),n}function eU(){let t=this[Dn];if(t.readonlyFn===void 0){let e=()=>this();e[Dn]=t,t.readonlyFn=e}return t.readonlyFn}function YS(t){return X2(t)&&typeof t.set=="function"}var tU="ngSkipHydration",nU="ngskiphydration";function ZS(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===nU)return!0}return!1}function JS(t){return t.hasAttribute(tU)}function th(t){return(t.flags&128)===128}function rU(t){if(th(t))return!0;let e=t.parent;for(;e;){if(th(t)||ZS(e))return!0;e=e.parent}return!1}var XS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(XS||{}),eA=new Map,iU=0;function oU(){return iU++}function sU(t){eA.set(t[wh],t)}function _y(t){eA.delete(t[wh])}var KT="__ngContext__";function Bc(t,e){$n(e)?(t[KT]=e[wh],sU(e)):t[KT]=e}function tA(t){return rA(t[Rc])}function nA(t){return rA(t[Bn])}function rA(t){for(;t!==null&&!or(t);)t=t[Bn];return t}var wy;function iA(t){wy=t}function $c(){if(wy!==void 0)return wy;if(typeof document<"u")return document;throw new H(210,!1)}var lo=new $("",{providedIn:"root",factory:()=>aU}),aU="ng",dv=new $(""),Di=new $("",{providedIn:"platform",factory:()=>"unknown"});var hv=new $("",{providedIn:"root",factory:()=>$c().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function cU(){let t=new Hs;return t.store=lU($c(),k(lo)),t}var Hs=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:cU});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function lU(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var oA="h",sA="b",uU="f",dU="n",hU="e",fU="t",fv="c",aA="x",nh="r",pU="i",gU="n",cA="d";var mU="di",yU="s",vU="p";var Cd=new $(""),lA=!1,uA=new $("",{providedIn:"root",factory:()=>lA});var dA=new $(""),_U=!1,wU=new $(""),QT=new $("",{providedIn:"root",factory:()=>new Map}),pv=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(pv||{}),qs=new $(""),YT=new Set;function go(t){YT.has(t)||(YT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var hA=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=EU}return t})();function EU(){return new hA(Re(),gn())}var bs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(bs||{}),fA=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})(),IU=[bs.EarlyRead,bs.Write,bs.MixedReadWrite,bs.Read],bU=(()=>{class t{ngZone=k(me);scheduler=k(co);errorHandler=k(Vr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){k(qs,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Ne(16),this.executing=!0;for(let r of IU)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ne(17)}register(n){let{view:r}=n;r!==void 0?((r[Ds]??=[]).push(n),Vc(r),r[re]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(pv.AFTER_NEXT_RENDER,n):n()}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ey=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ds];e&&(this.view[Ds]=e.filter(n=>n!==this))}};function Th(t,e){!e?.injector&&_h(Th);let n=e?.injector??k(Ve);return go("NgAfterNextRender"),TU(t,n,e,!0)}function CU(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function TU(t,e,n,r){let i=e.get(fA);i.impl??=e.get(bU);let o=e.get(qs,null,{optional:!0}),s=n?.phase??bs.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(Bs):null,c=e.get(hA,null,{optional:!0}),u=new Ey(i.impl,CU(t,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var ln=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(ln||{}),ZT=0,DU=1,ut=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(ut||{});var SU=0,Dh=1;var AU=4,xU=5;var RU=7,xs=8,NU=9,pA=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(pA||{});function Pd(t,e){let n=kU(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function MU(t){Pd(1,t),Pd(0,t),Pd(2,t)}function kU(t){let e=AU;return t===1?e=xU:t===2&&(e=NU),e}function gA(t){return t+1}function Hc(t,e){let n=t[ne],r=gA(e.index);return t[r]}function Sh(t,e){let n=gA(e.index);return t.data[n]}function PU(t,e,n){let r=e[ne],i=Sh(r,n);switch(t){case ut.Complete:return i.primaryTmplIndex;case ut.Loading:return i.loadingTmplIndex;case ut.Error:return i.errorTmplIndex;case ut.Placeholder:return i.placeholderTmplIndex;default:return null}}function JT(t,e){return e===ut.Placeholder?t.placeholderBlockConfig?.[ZT]??null:e===ut.Loading?t.loadingBlockConfig?.[ZT]??null:null}function OU(t){return t.loadingBlockConfig?.[DU]??null}function XT(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function LU(t,e){let n=e.primaryTmplIndex+dt;return Eh(t,n)}var Ah="ngb";var FU=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},VU=(t,e)=>{let n=t,r=n.getAttribute(Ah)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var UU=t=>{t.removeAttribute(Pm.JSACTION),t.removeAttribute(Ah),t.__jsaction_fns=void 0},jU=new $("",{providedIn:"root",factory:()=>({})});function mA(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var gv=new $("");var BU="__nghData__",yA=BU,$U="__nghDeferData__",HU=$U,Wm="ngh",qU="nghm",vA=()=>null;function zU(t,e,n=!1){let r=t.getAttribute(Wm);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let h=e.get(Hs,null,{optional:!0});h!==null&&(c=h.get(yA,[])[Number(r)])}let u={data:c,firstChild:t.firstChild??null};return n&&(u.firstChild=t,xh(u,0,t.nextSibling)),a?t.setAttribute(Wm,a):t.removeAttribute(Wm),u}function WU(){vA=zU}function _A(t,e,n=!1){return vA(t,e,n)}function GU(t){let e=t._lView;return e[ne].type===2?null:(Nc(e)&&(e=e[dt]),e)}function KU(t){return t.textContent?.replace(/\s/gm,"")}function QU(t){let e=$c(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=KU(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function xh(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Iy(t,e){return t.segmentHeads?.[e]??null}function YU(t){return t.get(wU,!1,{optional:!0})}function ZU(t,e){let n=t.data,r=n[hU]?.[e]??null;return r===null&&n[fv]?.[e]&&(r=mv(t,e)),r}function wA(t,e){return t.data[fv]?.[e]??null}function mv(t,e){let n=wA(t,e)??[],r=0;for(let i of n)r+=i[nh]*(i[aA]??1);return r}function JU(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[cA];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function qc(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[cA];t.disconnectedNodes=n?new Set(n):null}return!!JU(t)?.has(e)}function XU(t,e){let n=e.get(gv),i=e.get(Hs).get(HU,{}),o=!1,s=t,a=null,c=[];for(;!o&&s;){o=n.has(s);let u=n.hydrating.get(s);if(a===null&&u!=null){a=u.promise;break}c.unshift(s),s=i[s][vU]}return{parentBlockPromise:a,hydrationQueue:c}}function Gm(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===qU}function eD(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function ej(t){for(let r of t.body.childNodes)if(Gm(r))return;let e=eD(t.body.previousSibling);if(Gm(e))return;let n=eD(t.head.lastChild);if(!Gm(n))throw new H(-507,!1)}function EA(t,e){let n=t.contentQueries;if(n!==null){let r=Ee(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];ES(o),a.contentQueries(2,e[s],s)}}}finally{Ee(r)}}}function by(t,e,n){ES(0);let r=Ee(null);try{e(t,n)}finally{Ee(r)}}function IA(t,e,n){if(sS(e)){let r=Ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Ee(r)}}}var ir=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ir||{}),Td;function bA(){if(Td===void 0&&(Td=null,dn.trustedTypes))try{Td=dn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Td}function Rh(t){return bA()?.createHTML(t)||t}function tj(t){return bA()?.createScriptURL(t)||t}var Dd;function CA(){if(Dd===void 0&&(Dd=null,dn.trustedTypes))try{Dd=dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dd}function tD(t){return CA()?.createHTML(t)||t}function nD(t){return CA()?.createScriptURL(t)||t}var Ur=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${OD})`}},Cy=class extends Ur{getTypeName(){return"HTML"}},Ty=class extends Ur{getTypeName(){return"Style"}},Dy=class extends Ur{getTypeName(){return"Script"}},Sy=class extends Ur{getTypeName(){return"URL"}},Ay=class extends Ur{getTypeName(){return"ResourceURL"}};function cr(t){return t instanceof Ur?t.changingThisBreaksApplicationSecurity:t}function Si(t,e){let n=nj(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${OD})`)}return n===e}function nj(t){return t instanceof Ur&&t.getTypeName()||null}function TA(t){return new Cy(t)}function DA(t){return new Ty(t)}function SA(t){return new Dy(t)}function AA(t){return new Sy(t)}function xA(t){return new Ay(t)}function rj(t){let e=new Ry(t);return ij()?new xy(e):e}var xy=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Rh(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Ry=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Rh(e),n}};function ij(){try{return!!new window.DOMParser().parseFromString(Rh(""),"text/html")}catch{return!1}}var oj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yv(t){return t=String(t),t.match(oj)?t:"unsafe:"+t}function $r(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function zc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var RA=$r("area,br,col,hr,img,wbr"),NA=$r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MA=$r("rp,rt"),sj=zc(MA,NA),aj=zc(NA,$r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cj=zc(MA,$r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rD=zc(RA,aj,cj,sj),kA=$r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lj=$r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uj=$r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),dj=zc(kA,lj,uj),hj=$r("script,style,template"),Ny=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=gj(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=pj(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=iD(e).toLowerCase();if(!rD.hasOwnProperty(n))return this.sanitizedSomething=!0,!hj.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!dj.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;kA[a]&&(c=yv(c)),this.buf.push(" ",s,'="',oD(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=iD(e).toLowerCase();rD.hasOwnProperty(n)&&!RA.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(oD(e))}};function fj(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function pj(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw PA(e);return e}function gj(t){let e=t.firstChild;if(e&&fj(t,e))throw PA(e);return e}function iD(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function PA(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var mj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yj=/([^\#-~ |!])/g;function oD(t){return t.replace(/&/g,"&amp;").replace(mj,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(yj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Sd;function vv(t,e){let n=null;try{Sd=Sd||rj(t);let r=e?String(e):"";n=Sd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Sd.getInertBodyElement(r)}while(r!==o);let a=new Ny().sanitizeChildren(sD(n)||n);return Rh(a)}finally{if(n){let r=sD(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function sD(t){return"content"in t&&vj(t)?t.content:null}function vj(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var lr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(lr||{});function OA(t){let e=VA();return e?tD(e.sanitize(lr.HTML,t)||""):Si(t,"HTML")?tD(cr(t)):vv($c(),Ac(t))}function LA(t){let e=VA();if(e)return nD(e.sanitize(lr.RESOURCE_URL,t)||"");if(Si(t,"ResourceURL"))return nD(cr(t));throw new H(904,!1)}function FA(t){return tj(t[0])}function VA(){let t=Re();return t&&t[Or].sanitizer}var _j=/^>|^->|<!--|-->|--!>|<!-$/g,wj=/(<|>)/g,Ej="\u200B$1\u200B";function Ij(t){return t.replace(_j,e=>e.replace(wj,Ej))}function bj(t){return t.ownerDocument.body}function UA(t){return t instanceof Function?t():t}function Cj(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var jA="ng-template";function Tj(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Cj(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(_v(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function _v(t){return t.type===4&&t.value!==jA}function Dj(t,e,n){let r=t.type===4&&!n?jA:t.value;return e===r}function Sj(t,e,n){let r=4,i=t.attrs,o=i!==null?Rj(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!jn(r)&&!jn(c))return!1;if(s&&jn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Dj(t,c,n)||c===""&&e.length===1){if(jn(r))return!1;s=!0}}else if(r&8){if(i===null||!Tj(t,i,c,n)){if(jn(r))return!1;s=!0}}else{let u=e[++a],h=Aj(c,i,_v(t),n);if(h===-1){if(jn(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if(jn(r))return!1;s=!0}}}}return jn(r)||s}function jn(t){return(t&1)===0}function Aj(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Nj(e,t)}function xj(t,e,n=!1){for(let r=0;r<e.length;r++)if(Sj(t,e[r],n))return!0;return!1}function Rj(t){for(let e=0;e<t.length;e++){let n=t[e];if(R2(n))return e}return t.length}function Nj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function aD(t,e){return t?":not("+e.trim()+")":e}function Mj(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jn(s)&&(e+=aD(o,i),i=""),r=s,o=o||!jn(r);n++}return i!==""&&(e+=aD(o,i)),e}function kj(t){return t.map(Mj).join(",")}function Pj(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!jn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var ur={};function BA(t,e){return t.createText(e)}function Oj(t,e,n){t.setValue(e,n)}function $A(t,e){return t.createComment(Ij(e))}function wv(t,e,n){return t.createElement(e,n)}function rh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HA(t,e,n){t.appendChild(e,n)}function cD(t,e,n,r,i){r!==null?rh(t,e,n,r,i):HA(t,e,n)}function Ev(t,e,n){t.removeChild(null,e,n)}function qA(t){t.textContent=""}function Lj(t,e,n){t.setAttribute(e,"style",n)}function Fj(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zA(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&x2(t,e,r),i!==null&&Fj(t,e,i),o!==null&&Lj(t,e,o)}function Iv(t,e,n,r,i,o,s,a,c,u,h){let p=dt+r,m=p+i,y=Vj(p,m),T=typeof u=="function"?u():u;return y[ne]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:T,incompleteFirstPass:!1,ssrId:h}}function Vj(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ur);return n}function Uj(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Iv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bv(t,e,n,r,i,o,s,a,c,u,h){let p=e.blueprint.slice();return p[hn]=i,p[re]=r|4|128|8|64|1024,(u!==null||t&&t[re]&2048)&&(p[re]|=2048),fS(p),p[gt]=p[Vs]=t,p[Xt]=n,p[Or]=s||t&&t[Or],p[Ge]=a||t&&t[Ge],p[bi]=c||t&&t[bi]||null,p[qn]=o,p[wh]=oU(),p[tr]=h,p[iS]=u,p[xn]=e.type==2?t[xn]:p,p}function jj(t,e,n){let r=sr(e,t),i=Uj(n),o=t[Or].rendererFactory,s=Cv(t,bv(t,i,null,WA(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function WA(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function GA(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Cv(t,e){return t[Rc]?t[LT][Bn]=e:t[Rc]=e,t[LT]=e,e}function j(t=1){KA(pn(),Re(),po()+t,!1)}function KA(t,e,n,r){if(!r)if((e[re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Md(e,o,n)}else{let o=t.preOrderHooks;o!==null&&kd(e,o,0,n)}so(n)}var Nh=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Nh||{});function My(t,e,n,r){let i=Ee(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Nh.SignalBased)!==0&&(c=e[o][Dn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):aS(e,c,o,r)}finally{Ee(i)}}function QA(t,e,n,r,i){let o=po(),s=r&2;try{so(-1),s&&e.length>dt&&KA(t,e,dt,!1),Ne(s?2:0,i),n(r,i)}finally{so(o),Ne(s?3:1,i)}}function Tv(t,e,n){Gj(t,e,n),(n.flags&64)===64&&Kj(t,e,n)}function YA(t,e,n=sr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Bj(t,e,n,r){let o=r.get(uA,lA)||n===ir.ShadowDom,s=t.selectRootElement(e,o);return $j(s),s}function $j(t){ZA(t)}var ZA=()=>null;function Hj(t){JS(t)?qA(t):QU(t)}function qj(){ZA=Hj}function zj(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function JA(t,e,n,r,i,o,s,a){if(!a&&Dv(e,t,n,r,i)){fo(e)&&Wj(n,e.index);return}if(e.type&3){let c=sr(e,n);r=zj(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function Wj(t,e){let n=rr(e,t);n[re]&16||(n[re]|=64)}function Gj(t,e,n){let r=n.directiveStart,i=n.directiveEnd;fo(n)&&jj(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Yd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Zd(e,t,s,n);if(Bc(c,e),o!==null&&Yj(e,s-r,c,a,n,o),nr(a)){let u=rr(n.index,e);u[Xt]=Zd(e,t,s,n)}}}function Kj(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=w2();try{so(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];hy(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Qj(c,u)}}finally{so(-1),hy(s)}}function Qj(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function XA(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];xj(e,o.selectors,!1)&&(r??=[],nr(o)?r.unshift(o):r.push(o))}return r}function Yj(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];My(r,n,c,u)}}function Mh(t,e){let n=t[bi],r=n?n.get(Vr,null):null;r&&r.handleError(e)}function Dv(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],h=s[c+1],p=e.data[u];My(p,n[u],h,i),a=!0}if(o)for(let c of o){let u=n[c],h=e.data[c];My(h,u,r,i),a=!0}return a}function Zj(t,e){let n=rr(e,t),r=n[ne];Jj(r,n);let i=n[hn];i!==null&&n[tr]===null&&(n[tr]=_A(i,n[bi])),Ne(18),Sv(r,n,n[Xt]),Ne(19,n[Xt])}function Jj(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Sv(t,e,n){iv(e);try{let r=t.viewQuery;r!==null&&by(1,r,n);let i=t.template;i!==null&&QA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ms]?.finishViewCreation(t),t.staticContentQueries&&EA(t,e),t.staticViewQueries&&by(2,t.viewQuery,n);let o=t.components;o!==null&&Xj(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,ov()}}function Xj(t,e){for(let n=0;n<e.length;n++)Zj(t,e[n])}function ex(t,e,n,r){let i=Ee(null);try{let o=e.tView,a=t[re]&4096?4096:16,c=bv(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Ns]=u;let h=t[Ms];return h!==null&&(c[Ms]=h.createEmbeddedView(o)),Sv(o,c,n),c}finally{Ee(i)}}function ky(t,e){return!e||e.firstChild===null||th(t)}var eB;function Av(t,e){return eB(t,e)}var jr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(jr||{});function zs(t){return(t.flags&32)===32}function Cs(t,e,n,r,i){if(r!=null){let o,s=!1;or(r)?o=r:$n(r)&&(s=!0,r=r[hn]);let a=Hn(r);t===0&&n!==null?i==null?HA(e,n,a):rh(e,n,a,i||null,!0):t===1&&n!==null?rh(e,n,a,i||null,!0):t===2?Ev(e,a,s):t===3&&e.destroyNode(a),o!=null&&hB(e,t,o,n,i)}}function tB(t,e){tx(t,e),e[hn]=null,e[qn]=null}function nB(t,e,n,r,i,o){r[hn]=i,r[qn]=e,kh(t,r,n,1,i,o)}function tx(t,e){e[Or].changeDetectionScheduler?.notify(9),kh(t,e,e[Ge],2,null,null)}function rB(t){let e=t[Rc];if(!e)return Km(t[ne],t);for(;e;){let n=null;if($n(e))n=e[Rc];else{let r=e[un];r&&(n=r)}if(!n){for(;e&&!e[Bn]&&e!==t;)$n(e)&&Km(e[ne],e),e=e[gt];e===null&&(e=t),$n(e)&&Km(e[ne],e),n=e&&e[Bn]}e=n}}function xv(t,e){let n=t[zd],r=n.indexOf(e);n.splice(r,1)}function Rv(t,e){if(Us(e))return;let n=e[Ge];n.destroyNode&&kh(t,e,n,3,null,null),rB(e)}function Km(t,e){if(Us(e))return;let n=Ee(null);try{e[re]&=-129,e[re]|=256,e[An]&&am(e[An]),oB(t,e),iB(t,e),e[ne].type===1&&e[Ge].destroy();let r=e[Ns];if(r!==null&&or(e[gt])){r!==e[gt]&&xv(r,e);let i=e[Ms];i!==null&&i.detachView(t)}_y(e)}finally{Ee(n)}}function iB(t,e){let n=t.cleanup,r=e[$d];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[$d]=null);let i=e[wi];if(i!==null){e[wi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Hd];if(o!==null){e[Hd]=null;for(let s of o)s.destroy()}}function oB(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ao)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ne(4,a,c);try{c.call(a)}finally{Ne(5,a,c)}}else{Ne(4,i,o);try{o.call(i)}finally{Ne(5,i,o)}}}}}function sB(t,e,n){return aB(t,e.parent,n)}function aB(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[hn];if(fo(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ir.None||i===ir.Emulated)return null}return sr(r,n)}function cB(t,e,n){return uB(t,e,n)}function lB(t,e,n){return t.type&40?sr(t,n):null}var uB=lB,lD;function Nv(t,e,n,r){let i=sB(t,r,e),o=e[Ge],s=r.parent||e[qn],a=cB(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)cD(o,i,n[c],a,!1);else cD(o,i,n,a,!1);lD!==void 0&&lD(o,r,e,n,i)}function Tc(t,e){if(e!==null){let n=e.type;if(n&3)return sr(e,t);if(n&4)return Py(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Tc(t,r);{let i=t[e.index];return or(i)?Py(-1,i):Hn(i)}}else{if(n&128)return Tc(t,e.next);if(n&32)return Av(e,t)()||Hn(t[e.index]);{let r=nx(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=oo(t[xn]);return Tc(i,r)}else return Tc(t,e.next)}}}return null}function nx(t,e){if(e!==null){let r=t[xn][qn],i=e.projection;return r.projection[i]}return null}function Py(t,e){let n=un+t+1;if(n<e.length){let r=e[n],i=r[ne].firstChild;if(i!==null)return Tc(r,i)}return e[Fr]}function Mv(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Bc(Hn(a),r),n.flags|=2),!zs(n))if(c&8)Mv(t,e,n.child,r,i,o,!1),Cs(e,t,i,a,o);else if(c&32){let u=Av(n,r),h;for(;h=u();)Cs(e,t,i,h,o);Cs(e,t,i,a,o)}else c&16?dB(t,e,r,n,i,o):Cs(e,t,i,a,o);n=s?n.projectionNext:n.next}}function kh(t,e,n,r,i,o){Mv(n,r,t.firstChild,e,i,o,!1)}function dB(t,e,n,r,i,o){let s=n[xn],c=s[qn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let h=c[u];Cs(e,t,i,h,o)}else{let u=c,h=s[gt];th(r)&&(u.flags|=128),Mv(t,e,u,h,i,o,!0)}}function hB(t,e,n,r,i){let o=n[Fr],s=Hn(n);o!==s&&Cs(e,t,r,o,i);for(let a=un;a<n.length;a++){let c=n[a];kh(c[ne],c,t,e,r,o)}}function fB(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:jr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=jr.Important),t.setStyle(n,r,i,o))}}function ih(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Hn(o)),or(o)&&pB(o,r);let s=n.type;if(s&8)ih(t,e,n.child,r);else if(s&32){let a=Av(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=nx(e,n);if(Array.isArray(a))r.push(...a);else{let c=oo(e[xn]);ih(c[ne],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pB(t,e){for(let n=un;n<t.length;n++){let r=t[n],i=r[ne].firstChild;i!==null&&ih(r[ne],r,i,e)}t[Fr]!==t[hn]&&e.push(t[Fr])}function rx(t){if(t[Ds]!==null){for(let e of t[Ds])e.impl.addSequence(e);t[Ds].length=0}}var ix=[];function gB(t){return t[An]??mB(t)}function mB(t){let e=ix.pop()??Object.create(vB);return e.lView=t,e}function yB(t){t.lView[An]!==t&&(t.lView=null,ix.push(t))}var vB=de(U({},vc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Vc(t.lView)},consumerOnSignalRead(){this.lView[An]=this}});function _B(t){let e=t[An]??Object.create(wB);return e.lView=t,e}var wB=de(U({},vc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=oo(t.lView);for(;e&&!ox(e[ne]);)e=oo(e);e&&pS(e)},consumerOnSignalRead(){this.lView[An]=this}});function ox(t){return t.type!==2}function sx(t){if(t[Hd]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Hd])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[re]&8192)}}var EB=100;function ax(t,e=!0,n=0){let i=t[Or].rendererFactory,o=!1;o||i.begin?.();try{IB(t,n)}catch(s){throw e&&Mh(t,s),s}finally{o||i.end?.()}}function IB(t,e){let n=_S();try{VT(!0),Oy(t,e);let r=0;for(;Ih(t);){if(r===EB)throw new H(103,!1);r++,Oy(t,1)}}finally{VT(n)}}function bB(t,e,n,r){if(Us(e))return;let i=e[re],o=!1,s=!1;iv(e);let a=!0,c=null,u=null;o||(ox(t)?(u=gB(e),c=qu(u)):SC()===null?(a=!1,u=_B(e),c=qu(u)):e[An]&&(am(e[An]),e[An]=null));try{fS(e),y2(t.bindingStartIndex),n!==null&&QA(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Md(e,y,null)}else{let y=t.preOrderHooks;y!==null&&kd(e,y,0,null),Hm(e,0)}if(s||CB(e),sx(e),cx(e,0),t.contentQueries!==null&&EA(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Md(e,y)}else{let y=t.contentHooks;y!==null&&kd(e,y,1),Hm(e,1)}DB(t,e);let p=t.components;p!==null&&ux(e,p,0);let m=t.viewQuery;if(m!==null&&by(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Md(e,y)}else{let y=t.viewHooks;y!==null&&kd(e,y,2),Hm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$m]){for(let y of e[$m])y();e[$m]=null}o||(rx(e),e[re]&=-73)}catch(h){throw o||Vc(e),h}finally{u!==null&&(om(u,c),a&&yB(u)),ov()}}function cx(t,e){for(let n=tA(t);n!==null;n=nA(n))for(let r=un;r<n.length;r++){let i=n[r];lx(i,e)}}function CB(t){for(let e=tA(t);e!==null;e=nA(e)){if(!(e[re]&2))continue;let n=e[zd];for(let r=0;r<n.length;r++){let i=n[r];pS(i)}}}function TB(t,e,n){Ne(18);let r=rr(e,t);lx(r,n),Ne(19,r[Xt])}function lx(t,e){tv(t)&&Oy(t,e)}function Oy(t,e){let r=t[ne],i=t[re],o=t[An],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&sm(o)),s||=!1,o&&(o.dirty=!1),t[re]&=-9217,s)bB(r,t,r.template,t[Xt]);else if(i&8192){sx(t),cx(t,1);let a=r.components;a!==null&&ux(t,a,1),rx(t)}}function ux(t,e,n){for(let r=0;r<e.length;r++)TB(t,e[r],n)}function DB(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)so(~i);else{let o=i,s=n[++r],a=n[++r];_2(s,o);let c=e[o];Ne(24,c),a(2,c),Ne(25,c)}}}finally{so(-1)}}function Ph(t,e){let n=_S()?64:1088;for(t[Or].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=oo(t);if(Nc(t)&&!r)return t;t=r}return null}function dx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function hx(t,e,n,r=!0){let i=e[ne];if(AB(i,e,t,n),r){let s=Py(n,t),a=e[Ge],c=a.parentNode(t[Fr]);c!==null&&nB(i,t[qn],a,e,c,s)}let o=e[tr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function SB(t,e){let n=oh(t,e);return n!==void 0&&Rv(n[ne],n),n}function oh(t,e){if(t.length<=un)return;let n=un+e,r=t[n];if(r){let i=r[Ns];i!==null&&i!==t&&xv(i,r),e>0&&(t[n-1][Bn]=r[Bn]);let o=jd(t,un+e);tB(r[ne],r);let s=o[Ms];s!==null&&s.detachView(o[ne]),r[gt]=null,r[Bn]=null,r[re]&=-129}return r}function AB(t,e,n,r){let i=un+r,o=n.length;r>0&&(n[i-1][Bn]=e),r<o-un?(e[Bn]=n[i],KD(n,un+r,e)):(n.push(e),e[Bn]=null),e[gt]=n;let s=e[Ns];s!==null&&n!==s&&fx(s,e);let a=e[Ms];a!==null&&a.insertView(t),uy(e),e[re]|=128}function fx(t,e){let n=t[zd],r=e[gt];if($n(r))t[re]|=2;else{let i=r[gt][xn];e[xn]!==i&&(t[re]|=2)}n===null?t[zd]=[e]:n.push(e)}var kc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[ne];return ih(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Xt]}set context(e){this._lView[Xt]=e}get destroyed(){return Us(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(or(e)){let n=e[qd],r=n?n.indexOf(this):-1;r>-1&&(oh(e,r),jd(n,r))}this._attachedToViewContainer=!1}Rv(this._lView[ne],this._lView)}onDestroy(e){gS(this._lView,e)}markForCheck(){Ph(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){uy(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,ax(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Nc(this._lView),n=this._lView[Ns];n!==null&&!e&&xv(n,this._lView),tx(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let n=Nc(this._lView),r=this._lView[Ns];r!==null&&!n&&fx(r,this._lView),uy(this._lView)}};var Oh=(()=>{class t{static __NG_ELEMENT_ID__=NB}return t})(),xB=Oh,RB=class extends xB{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ex(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new kc(i)}};function NB(){return MB(gn(),Re())}function MB(t,e){return t.type&4?new RB(e,t,Ch(t,e)):null}function kv(t,e,n,r,i){let o=t.data[e];if(o===null)o=kB(t,e,n,r,i),v2()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=p2();o.injectorIndex=s===null?-1:s.injectorIndex}return jc(o,!0),o}function kB(t,e,n,r,i){let o=yS(),s=vS(),a=s?o:o&&o.parent,c=t.data[e]=OB(t,a,n,e,r,i);return PB(t,c,o,s),c}function PB(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function OB(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Uc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var LB=new RegExp(`^(\\d+)*(${sA}|${oA})*(.*)`);function FB(t){let e=t.match(LB),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,u,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(u,p)}return[s,...a]}function VB(t){return!t.prev&&t.parent?.type===8}function Qm(t){return t.index-dt}function UB(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Lh(t,e,n,r){let i=Qm(r),o=UB(t,i);if(o===void 0){let s=t.data[gU];if(s?.[i])o=BB(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(VB(r)){let u=Qm(r.parent);o=Iy(t,u)}else{let u=sr(c,n);if(a)o=u.firstChild;else{let h=Qm(c),p=Iy(t,h);if(c.type===2&&p){let y=mv(t,h)+1;o=Fh(y,p)}else o=u.nextSibling}}}}return o}function Fh(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function jB(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case uU:n=n.firstChild;break;case dU:n=n.nextSibling;break}}return n}function BB(t,e){let[n,...r]=FB(t),i;if(n===oA)i=e[xn][hn];else if(n===sA)i=bj(e[xn][hn]);else{let o=Number(n);i=Hn(e[o+dt])}return jB(i,r)}var $B=!1;function HB(t){$B=t}function qB(t){let e=t[tr];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[Ge];for(let o of r.values())zB(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function zB(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-dt);i&&Ev(t,i,!1)}}function px(t){let e=t[Lr]??[],r=t[gt][Ge],i=[];for(let o of e)o.data[mU]!==void 0?i.push(o):gx(o,r);t[Lr]=i}function WB(t){let{lContainer:e}=t,n=e[Lr];if(n===null)return;let i=e[gt][Ge];for(let o of n)gx(o,i)}function gx(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[nh];for(;n<i;){let o=r.nextSibling;Ev(e,r,!1),r=o,n++}}}function Vh(t){px(t);let e=t[hn];$n(e)&&sh(e);for(let n=un;n<t.length;n++)sh(t[n])}function sh(t){qB(t);let e=t[ne];for(let n=dt;n<e.bindingStartIndex;n++)if(or(t[n])){let r=t[n];Vh(r)}else $n(t[n])&&sh(t[n])}function mx(t){let e=t._views;for(let n of e){let r=GU(n);r!==null&&r[hn]!==null&&($n(r)?sh(r):Vh(r))}}function GB(t,e,n,r){t!==null&&(n.cleanup(e),Vh(t.lContainer),mx(r))}function KB(t,e){let n=[];for(let r of e)for(let i=0;i<(r[aA]??1);i++){let o={data:r,firstChild:null};r[nh]>0&&(o.firstChild=t,t=Fh(r[nh],t)),n.push(o)}return[t,n]}var yx=()=>null;function QB(t,e){let n=t[Lr];return!e||n===null||n.length===0?null:n[0].data[pU]===e?n.shift():(px(t),null)}function YB(){yx=QB}function uD(t,e){return yx(t,e)}var ZB=class{},vx=class{},Ly=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Jt(e)}.`)}},Uh=class{static NULL=new Ly},ks=class{},mo=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>JB()}return t})();function JB(){let t=Re(),e=gn(),n=rr(e.index,t);return($n(n)?n:t)[Ge]}var XB=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:()=>null})}return t})();function dD(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=xT(i,a);else if(o==2){let c=a,u=e[++s];r=xT(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function z(t,e=le.Default){let n=Re();if(n===null)return Q(t,e);let r=gn();return jS(r,n,qt(t),e)}function _x(){let t="invalid";throw new Error(t)}function wx(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,c=null,u=null,h=t$(s);h===null?a=s:[a,c,u]=h,i$(t,e,n,a,o,c,u)}o!==null&&r!==null&&e$(n,r,o)}function e$(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function t$(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&nr(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,n$(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function n$(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function r$(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function i$(t,e,n,r,i,o,s){let a=r.length,c=!1;for(let m=0;m<a;m++){let y=r[m];!c&&nr(y)&&(c=!0,r$(t,n,m)),py(Yd(n,e),t,y.type)}u$(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let u=!1,h=!1,p=GA(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=Mc(n.mergedAttrs,y.hostAttrs),s$(t,n,e,p,y),l$(p,y,i),s!==null&&s.has(y)){let[M,P]=s.get(y);n.directiveToIndex.set(y.type,[p,M+n.directiveStart,P+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let T=y.type.prototype;!u&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}o$(t,n,o)}function o$(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))hD(0,e,i,r),hD(1,e,i,r),pD(e,r,!1);else{let o=n.get(i);fD(0,e,o,r),fD(1,e,o,r),pD(e,r,!0)}}}function hD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Ex(e,o)}}function fD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Ex(e,s)}}function Ex(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function pD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||_v(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let u=i[c];for(let h of u)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let u=o[c];for(let h=0;h<u.length;h+=2)if(u[h]===e){s??=[],s.push(u[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function s$(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ro(i.type,!0)),s=new ao(o,nr(i),z);t.blueprint[r]=s,n[r]=s,a$(t,e,r,GA(t,n,i.hostVars,ur),i)}function a$(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;c$(s)!=a&&s.push(a),s.push(n,r,o)}}function c$(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function l$(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;nr(e)&&(n[""]=t)}}function u$(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ix(t,e,n,r,i,o,s,a){let c=e.consts,u=Wd(c,s),h=kv(e,t,2,r,u);return o&&wx(e,n,h,Wd(c,a),i),h.mergedAttrs=Mc(h.mergedAttrs,h.attrs),h.attrs!==null&&dD(h,h.attrs,!1),h.mergedAttrs!==null&&dD(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function bx(t,e){MS(t,e),sS(e)&&t.queries.elementEnd(e)}var ah=class extends Uh{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ii(e);return new Ps(n,this.ngModule)}};function d$(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Nh.SignalBased)!==0};return i&&(o.transform=i),o})}function h$(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function f$(t,e,n){let r=e instanceof Mt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new As(n,r):n}function p$(t){let e=t.get(ks,null);if(e===null)throw new H(407,!1);let n=t.get(XB,null),r=t.get(co,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function g$(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return wv(e,n,n==="svg"?dS:n==="math"?t2:null)}var Ps=class extends vx{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=d$(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=h$(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=kj(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Ne(22);let o=Ee(null);try{let s=this.componentDef,a=r?["ng-version","19.2.3"]:Pj(this.componentDef.selectors[0]),c=Iv(0,null,null,1,0,null,null,null,null,[a],null),u=f$(s,i||this.ngModule,e),h=p$(u),p=h.rendererFactory.createRenderer(null,s),m=r?Bj(p,r,s.encapsulation,u):g$(s,p),y=bv(null,c,null,512|WA(s),null,null,h,p,u,null,_A(m,u,!0));y[dt]=m,iv(y);let T=null;try{let M=Ix(dt,c,y,"#host",()=>[this.componentDef],!0,0);m&&(zA(p,m,M),Bc(m,y)),Tv(c,y,M),IA(c,M,y),bx(c,M),n!==void 0&&m$(M,this.ngContentSelectors,n),T=rr(M.index,y),y[Xt]=T[Xt],Sv(c,y,null)}catch(M){throw T!==null&&_y(T),_y(y),M}finally{Ne(23),ov()}return new Fy(this.componentType,y)}finally{Ee(o)}}},Fy=class extends ZB{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Eh(n[ne],dt),this.location=Ch(this._tNode,n),this.instance=rr(this._tNode.index,n)[Xt],this.hostView=this.changeDetectorRef=new kc(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Dv(r,i[ne],i,e,n);this.previousInputValues.set(e,n);let s=rr(r.index,i);Ph(s,1)}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function m$(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ws=(()=>{class t{static __NG_ELEMENT_ID__=y$}return t})();function y$(){let t=gn();return _$(t,Re())}var v$=Ws,Cx=class extends v${_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ch(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){let e=av(this._hostTNode,this._hostLView);if(PS(e)){let n=Kd(e,this._hostLView),r=Gd(e),i=n[ne].data[r+8];return new no(i,n)}else return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=gD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-un}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=uD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ky(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!ZV(e),a;if(s)a=n;else{let T=n||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let c=s?e:new Ps(Ii(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let M=(s?u:this.parentInjector).get(Mt,null);M&&(o=M)}let h=Ii(c.componentType??{}),p=uD(this._lContainer,h?.id??null),m=p?.firstChild??null,y=c.create(u,i,m,o);return this.insertImpl(y.hostView,a,ky(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(r2(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[gt],u=new Cx(c,c[qn],c[gt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return hx(s,i,o,r),e.attachToViewContainerRef(),KD(Ym(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=gD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=oh(this._lContainer,n);r&&(jd(Ym(this._lContainer),n),Rv(r[ne],r))}detach(e){let n=this._adjustIndex(e,-1),r=oh(this._lContainer,n);return r&&jd(Ym(this._lContainer),n)!=null?new kc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function gD(t){return t[qd]}function Ym(t){return t[qd]||(t[qd]=[])}function _$(t,e){let n,r=e[t.index];return or(r)?n=r:(n=dx(r,e,null,t),e[t.index]=n,Cv(e,n)),Tx(n,e,t,r),new Cx(n,t,e)}function w$(t,e){let n=t[Ge],r=n.createComment(""),i=sr(e,t),o=n.parentNode(i);return rh(n,o,r,n.nextSibling(i),!1),r}var Tx=Dx,Pv=()=>!1;function E$(t,e,n){return Pv(t,e,n)}function Dx(t,e,n,r){if(t[Fr])return;let i;n.type&8?i=Hn(r):i=w$(e,n),t[Fr]=i}function I$(t,e,n){if(t[Fr]&&t[Lr])return!0;let r=n[tr],i=e.index-dt;if(!r||rU(e)||qc(r,i))return!1;let s=Iy(r,i),a=r.data[fv]?.[i],[c,u]=KB(s,a);return t[Fr]=c,t[Lr]=u,!0}function b$(t,e,n,r){Pv(t,n,e)||Dx(t,e,n,r)}function C$(){Tx=b$,Pv=I$}function T$(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(x$))}return o}return ch.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,h=i.styleUrls;i.styleUrls.forEach((p,m)=>{a.push(""),s.push(r(p).then(y=>{a[u+m]=y,h.splice(h.indexOf(p),1),h.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>R$(o));e.push(c)}),S$(),Promise.all(e).then(()=>{})}var ch=new Map,D$=new Set;function S$(){let t=ch;return ch=new Map,t}function A$(){return ch.size===0}function x$(t){return typeof t=="string"?t:t.text()}function R$(t){D$.delete(t)}var Os=class{},Ov=class{};var lh=class extends Os{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ah(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=ZD(e);this._bootstrapComponents=UA(o.bootstrap),this._r3Injector=HS(e,n,[{provide:Os,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver},...r],Jt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},uh=class extends Ov{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new lh(this.moduleType,e,[])}};function N$(t,e,n){return new lh(t,e,n,!1)}var Vy=class extends Os{injector;componentFactoryResolver=new ah(this);instance=null;constructor(e){super();let n=new xc([...e.providers,{provide:Os,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver}],e.parent||Xy(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Wc(t,e,n=null){return new Vy({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var M$=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Zy(!1,n.type),i=r.length>0?Wc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:t,providedIn:"environment",factory:()=>new t(Q(Mt))})}return t})();function _e(t){return Oc(()=>{let e=Ax(t),n=de(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===XS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(M$).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ir.Emulated,styles:t.styles||Sn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&go("NgStandalone"),xx(n);let r=t.dependencies;return n.directiveDefs=mD(r,!1),n.pipeDefs=mD(r,!0),n.id=F$(n),n})}function k$(t){return Ii(t)||JD(t)}function P$(t){return t!==null}function tn(t){return Oc(()=>({type:t.type,bootstrap:t.bootstrap||Sn,declarations:t.declarations||Sn,imports:t.imports||Sn,exports:t.exports||Sn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function O$(t,e){if(t==null)return io;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Nh.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function L$(t){if(t==null)return io;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function mn(t){return Oc(()=>{let e=Ax(t);return xx(e),e})}function Sx(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ax(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||io,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Sn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:O$(t.inputs,e),outputs:L$(t.outputs),debugInfo:null}}function xx(t){t.features?.forEach(e=>e(t))}function mD(t,e){if(!t)return null;let n=e?XD:k$;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(P$)}function F$(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function V$(t){return Object.getPrototypeOf(t.prototype).constructor}function yo(t){let e=V$(t.type),n=!0,r=[t];for(;e;){let i;if(nr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Zm(t.inputs),s.declaredInputs=Zm(t.declaredInputs),s.outputs=Zm(t.outputs);let a=i.hostBindings;a&&H$(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&B$(t,c),u&&$$(t,u),U$(t,i),_V(t.outputs,i.outputs),nr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===yo&&(n=!1)}}e=Object.getPrototypeOf(e)}j$(r)}function U$(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function j$(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mc(i.hostAttrs,n=Mc(n,i.hostAttrs))}}function Zm(t){return t===io?{}:t===Sn?[]:t}function B$(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function $$(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function H$(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Rx(t){return z$(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function q$(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function z$(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Lv(t,e,n){return t[e]=n}function W$(t,e){return t[e]}function uo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Nx(t,e,n,r){let i=uo(t,e,n);return uo(t,e+1,r)||i}function G$(t,e,n,r,i,o,s,a,c){let u=e.consts,h=kv(e,t,4,s||null,a||null);mS()&&wx(e,n,h,Wd(u,c),XA),h.mergedAttrs=Mc(h.mergedAttrs,h.attrs),MS(e,h);let p=h.tView=Iv(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function K$(t,e,n,r,i,o,s,a,c,u){let h=n+dt,p=e.firstCreatePass?G$(h,e,t,r,i,o,s,a,c):e.data[h];jc(p,!1);let m=Mx(e,t,p,n);sv()&&Nv(e,t,m,p),Bc(m,t);let y=dx(m,t,m,p);return t[h]=y,Cv(t,y),E$(y,p,t),ev(p)&&Tv(e,t,p),c!=null&&YA(t,p,u),p}function Oe(t,e,n,r,i,o,s,a){let c=Re(),u=pn(),h=Wd(u.consts,o);return K$(c,u,t,e,n,r,i,h,s,a),Oe}var Mx=kx;function kx(t,e,n,r){return Ci(!0),e[Ge].createComment("")}function Q$(t,e,n,r){let i=e[tr],o=!i||Uc()||zs(n)||qc(i,r);if(Ci(o),o)return kx(t,e);let s=i.data[fU]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Lh(i,t,e,n);xh(i,r,a);let c=mv(i,r);return Fh(c,a)}function Y$(){Mx=Q$}var Z$=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?Wc(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:t,providedIn:"environment",factory:()=>new t})}return t})();var J$=new $("");function Jm(t,e,n){return t.get(Z$).getOrCreateInjector(e,t,n,"")}function X$(t,e,n){if(t instanceof As){let i=t.injector,o=t.parentInjector,s=Jm(o,e,n);return new As(i,s)}let r=t.get(Mt);if(r!==t){let i=Jm(r,e,n);return new As(t,i)}return Jm(t,e,n)}function Ts(t,e,n,r=!1){let i=n[gt],o=i[ne];if(Us(i))return;let s=Hc(i,e),a=s[Dh],c=s[RU];if(!(c!==null&&t<c)&&yD(a,t)&&yD(s[SU]??-1,t)){let u=Sh(o,e),p=!r&&!0&&(OU(u)!==null||JT(u,ut.Loading)!==null||JT(u,ut.Placeholder))?n4:t4;try{p(t,s,n,e,i)}catch(m){Mh(i,m)}}}function e4(t,e){let n=t[Lr]?.findIndex(i=>i.data[yU]===e[Dh])??-1;return{dehydratedView:n>-1?t[Lr][n]:null,dehydratedViewIx:n}}function t4(t,e,n,r,i){Ne(20);let o=PU(t,i,r);if(o!==null){e[Dh]=t;let s=i[ne],a=o+dt,c=Eh(s,a),u=0;SB(n,u);let h;if(t===ut.Complete){let T=Sh(s,r),M=T.providers;M&&M.length>0&&(h=X$(i[bi],T,M))}let{dehydratedView:p,dehydratedViewIx:m}=e4(n,e),y=ex(i,c,null,{injector:h,dehydratedView:p});if(hx(n,y,u,ky(c,p)),Ph(y,2),m>-1&&n[Lr]?.splice(m,1),(t===ut.Complete||t===ut.Error)&&Array.isArray(e[xs])){for(let T of e[xs])T();e[xs]=null}}Ne(21)}function yD(t,e){return t<e}function vD(t,e,n){t.loadingPromise.then(()=>{t.loadingState===ln.COMPLETE?Ts(ut.Complete,e,n):t.loadingState===ln.FAILED&&Ts(ut.Error,e,n)})}var n4=null;var Fv=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Vv=new $(""),Gc=new $(""),jh=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(n,r,i){this._ngZone=n,this.registry=r,Uv||(r4(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static \u0275fac=function(r){return new(r||t)(Q(me),Q(Bh),Q(Gc))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),Bh=(()=>{class t{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Uv?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function r4(t){Uv=t}var Uv,i4=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:()=>new Uy})}return t})(),Uy=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function vo(t){return!!t&&typeof t.then=="function"}function Px(t){return!!t&&typeof t.subscribe=="function"}var $h=new $("");var Ox=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=k($h,{optional:!0})??[];injector=k(Ve);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Tt(this.injector,i);if(vo(o))n.push(o);else if(Px(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_o=new $("");function o4(){FC(()=>{throw new H(600,!1)})}function s4(t){return t.isBoundToModule}var a4=10;function Lx(t,e){return Array.isArray(e)?e.reduce(Lx,t):U(U({},t),e)}var zt=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=k(Y2);afterRenderManager=k(fA);zonelessEnabled=k(cv);rootEffectScheduler=k(i4);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new pt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=k(ar).hasPendingTasks.pipe(ve(n=>!n));constructor(){k(qs,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=k(Mt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){Ne(10);let i=n instanceof vx;if(!this._injector.get(Ox).done){let m="";throw new H(405,m)}let s;i?s=n:s=this._injector.get(Uh).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=s4(s)?void 0:this._injector.get(Os),c=r||s.selector,u=s.create(Ve.NULL,[],c,a),h=u.location.nativeElement,p=u.injector.get(Vv,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Od(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),Ne(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ne(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(pv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let n=Ee(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ee(n),this.afterTick.next(),Ne(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ks,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<a4;)Ne(14),this.synchronizeOnce(),Ne(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)c4(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ih(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Od(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(_o,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Od(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new H(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Od(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function c4(t,e,n,r){if(!n&&!Ih(t))return;ax(t,e,n&&!r?0:1)}function l4(t,e,n){let r=e[bi],i=e[ne];if(t.loadingState!==ln.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=Hc(e,n),s=LU(i,t);t.loadingState=ln.IN_PROGRESS,Pd(1,o);let a=t.dependencyResolverFn,c=r.get(ar),u=c.add();return a?(t.loadingPromise=Promise.allSettled(a()).then(h=>{let p=!1,m=[],y=[];for(let T of h)if(T.status==="fulfilled"){let M=T.value,P=Ii(M)||JD(M);if(P)m.push(P);else{let q=XD(M);q&&y.push(q)}}else{p=!0;break}if(t.loadingPromise=null,c.remove(u),p){if(t.loadingState=ln.FAILED,t.errorTmplIndex===null){let T="",M=new H(-750,!1);Mh(e,M)}}else{t.loadingState=ln.COMPLETE;let T=s.tView;if(m.length>0){T.directiveRegistry=XT(T.directiveRegistry,m);let M=m.map(q=>q.type),P=Zy(!1,...M);t.providers=P}y.length>0&&(T.pipeRegistry=XT(T.pipeRegistry,y))}}),t.loadingPromise):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=ln.COMPLETE,c.remove(u)}),t.loadingPromise)}function u4(t,e){return e[bi].get(J$,null,{optional:!0})?.behavior!==pA.Manual}function d4(t,e,n){let r=e[ne],i=e[n.index];if(!u4(t,e))return;let o=Hc(e,n),s=Sh(r,n);switch(MU(o),s.loadingState){case ln.NOT_STARTED:Ts(ut.Loading,n,i),l4(s,e,n),s.loadingState===ln.IN_PROGRESS&&vD(s,n,i);break;case ln.IN_PROGRESS:Ts(ut.Loading,n,i),vD(s,n,i);break;case ln.COMPLETE:Ts(ut.Complete,n,i);break;case ln.FAILED:Ts(ut.Error,n,i);break;default:}}function h4(t,e,n){return C(this,null,function*(){let r=t.get(gv);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=XU(e,t);if(s.length===0)return;o!==null&&s.shift(),g4(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield _D(t,s,n):r.awaitParentBlock(a,()=>C(this,null,function*(){return yield _D(t,s,n)}))})}function _D(t,e,n){return C(this,null,function*(){let r=t.get(gv),i=r.hydrating,o=t.get(ar),s=o.add();for(let c=0;c<e.length;c++){let u=e[c],h=r.get(u);if(h!=null){if(yield y4(h),yield m4(t),f4(h)){WB(h),wD(e.slice(c),r);break}i.get(u).resolve()}else{p4(c,e,r),wD(e.slice(c),r);break}}let a=e[e.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(e),GB(r.get(a),e,r,t.get(zt))})}function f4(t){return Hc(t.lView,t.tNode)[Dh]===ut.Error}function p4(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&Vh(i.lContainer)}function wD(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function g4(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function m4(t){return new Promise(e=>Th(e,{injector:t}))}function y4(t){return C(this,null,function*(){let{tNode:e,lView:n}=t,r=Hc(n,e);return new Promise(i=>{v4(r,i),d4(2,n,e)})})}function v4(t,e){Array.isArray(t[xs])||(t[xs]=[]),t[xs].push(e)}function _4(t,e,n,r){return uo(t,rv(),n)?e+Ac(n)+r:ur}function w4(t,e,n,r,i,o){let s=m2(),a=Nx(t,s,n,i);return wS(2),a?e+Ac(n)+r+Ac(i)+o:ur}function Ad(t,e){return t<<17|e<<2}function ho(t){return t>>17&32767}function E4(t){return(t&2)==2}function I4(t,e){return t&131071|e<<17}function jy(t){return t|2}function Ls(t){return(t&131068)>>2}function Xm(t,e){return t&-131069|e<<2}function b4(t){return(t&1)===1}function By(t){return t|1}function C4(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ho(s),c=Ls(s);t[r]=n;let u=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Lc(p,h)>0)&&(u=!0)}else h=n;if(i)if(c!==0){let m=ho(t[a+1]);t[r+1]=Ad(m,a),m!==0&&(t[m+1]=Xm(t[m+1],r)),t[a+1]=I4(t[a+1],r)}else t[r+1]=Ad(a,0),a!==0&&(t[a+1]=Xm(t[a+1],r)),a=r;else t[r+1]=Ad(c,0),a===0?a=r:t[c+1]=Xm(t[c+1],r),c=r;u&&(t[r+1]=jy(t[r+1])),ED(t,h,r,!0),ED(t,h,r,!1),T4(e,h,t,r,o),s=Ad(a,c),o?e.classBindings=s:e.styleBindings=s}function T4(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Lc(o,e)>=0&&(n[r+1]=By(n[r+1]))}function ED(t,e,n,r){let i=t[n+1],o=e===null,s=r?ho(i):Ls(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];D4(c,e)&&(a=!0,t[s+1]=r?By(u):jy(u)),s=r?ho(u):Ls(u)}a&&(t[n+1]=r?jy(i):By(i))}function D4(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Lc(t,e)>=0:!1}function ee(t,e,n){let r=Re(),i=rv();if(uo(r,i,e)){let o=pn(),s=SS();JA(o,s,r,t,e,r[Ge],n,!1)}return ee}function ID(t,e,n,r,i){Dv(e,t,n,i?"class":"style",r)}function Hh(t,e,n){return Fx(t,e,n,!1),Hh}function jv(t,e){return Fx(t,e,null,!0),jv}function Fx(t,e,n,r){let i=Re(),o=pn(),s=wS(2);if(o.firstUpdatePass&&A4(o,t,s,r),e!==ur&&uo(i,s,e)){let a=o.data[po()];k4(o,a,i,i[Ge],t,i[s+1]=P4(e,n),r,s)}}function S4(t,e){return e>=t.expandoStartIndex}function A4(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[po()],s=S4(t,n);O4(o,r)&&e===null&&!s&&(e=!1),e=x4(i,o,e,r),C4(i,o,e,n,s,r)}}function x4(t,e,n,r){let i=E2(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ey(null,t,e,n,r),n=Pc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ey(i,t,e,n,r),o===null){let c=R4(t,e,r);c!==void 0&&Array.isArray(c)&&(c=ey(null,t,e,c[1],r),c=Pc(c,e.attrs,r),N4(t,e,r,c))}else o=M4(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function R4(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ls(r)!==0)return t[ho(r)]}function N4(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ho(i)]=r}function M4(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Pc(r,s,n)}return Pc(r,e.attrs,n)}function ey(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Pc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Pc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),VV(t,s,n?!0:e[++o]))}return t===void 0?null:t}function k4(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],h=b4(u)?bD(c,e,n,i,Ls(u),s):void 0;if(!dh(h)){dh(o)||E4(u)&&(o=bD(c,null,n,i,a,s));let p=hS(po(),n);fB(r,s,p,i,o)}}function bD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),h=u?c[1]:c,p=h===null,m=n[i+1];m===ur&&(m=p?Sn:void 0);let y=p?jm(m,r):h===r?m:void 0;if(u&&!dh(y)&&(y=jm(c,r)),dh(y)&&(a=y,s))return a;let T=t[i+1];i=s?ho(T):Ls(T)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=jm(c,r))}return a}function dh(t){return t!==void 0}function P4(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Jt(cr(t)))),t}function O4(t,e){return(t.flags&(e?8:16))!==0}function v(t,e,n,r){let i=Re(),o=pn(),s=dt+t,a=i[Ge],c=o.firstCreatePass?Ix(s,o,i,e,XA,mS(),n,r):o.data[s],u=Vx(o,i,c,a,e,t);i[s]=u;let h=ev(c);return jc(c,!0),zA(a,u,c),!zs(c)&&sv()&&Nv(o,i,u,c),(c2()===0||h)&&Bc(u,i),l2(),h&&(Tv(o,i,c),IA(o,c,i)),r!==null&&YA(i,c),v}function w(){let t=gn();vS()?g2():(t=t.parent,jc(t,!1));let e=t;d2(e)&&f2(),u2();let n=pn();return n.firstCreatePass&&bx(n,e),e.classesWithoutHost!=null&&S2(e)&&ID(n,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&A2(e)&&ID(n,e,Re(),e.stylesWithoutHost,!1),w}function K(t,e,n,r){return v(t,e,n,r),w(),K}var Vx=(t,e,n,r,i,o)=>(Ci(!0),wv(r,i,RS()));function L4(t,e,n,r,i,o){let s=e[tr],a=!s||Uc()||zs(n)||qc(s,o);if(Ci(a),a)return wv(r,i,RS());let c=Lh(s,t,e,n);return wA(s,o)&&xh(s,o,c.nextSibling),s&&(ZS(n)||JS(c))&&fo(n)&&(h2(n),qA(c)),c}function F4(){Vx=L4}var V4=(t,e,n,r)=>(Ci(!0),$A(e[Ge],""));function U4(t,e,n,r){let i,o=e[tr],s=!o||Uc()||qc(o,r)||zs(n);if(Ci(s),s)return $A(e[Ge],"");let a=Lh(o,t,e,n),c=ZU(o,r);return xh(o,r,a),i=Fh(c,a),i}function j4(){V4=U4}function Be(){return Re()}var hh="en-US";var B4=hh;function $4(t){typeof t=="string"&&(B4=t.toLowerCase().replace(/_/g,"-"))}var Ux=(t,e,n)=>{};function CD(t){Ux=t}function F(t,e,n,r){let i=Re(),o=pn(),s=gn();return jx(o,i,i[Ge],s,t,e,r),F}function H4(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[$d],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function jx(t,e,n,r,i,o,s){let a=ev(r),u=t.firstCreatePass?a2(t):null,h=e[Xt],p=s2(e),m=!0;if(r.type&3||s){let y=sr(r,e),T=s?s(y):y,M=p.length,P=s?ie=>s(Hn(ie[r.index])):r.index,q=null;if(!s&&a&&(q=H4(t,e,i,r.index)),q!==null){let ie=q.__ngLastListenerFn__||q;ie.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,m=!1}else{o=SD(r,e,h,o),Ux(T,i,o);let ie=n.listen(T,i,o);p.push(o,ie),u&&u.push(i,P,M,M+1)}}else o=SD(r,e,h,o);if(m){let y=r.outputs?.[i],T=r.hostDirectiveOutputs?.[i];if(T&&T.length)for(let M=0;M<T.length;M+=2){let P=T[M],q=T[M+1];TD(r,t,e,P,q,i,o,p,u)}if(y&&y.length)for(let M of y)TD(r,t,e,M,i,i,o,p,u)}}function TD(t,e,n,r,i,o,s,a,c){let u=n[r],p=e.data[r].outputs[i],y=u[p].subscribe(s),T=a.length;a.push(s,y),c&&c.push(o,t.index,T,-(T+1))}function DD(t,e,n,r){let i=Ee(null);try{return Ne(6,e,n),n(r)!==!1}catch(o){return Mh(t,o),!1}finally{Ne(7,e,n),Ee(i)}}function SD(t,e,n,r){return function i(o){if(o===Function)return r;let s=fo(t)?rr(t.index,e):e;Ph(s,5);let a=DD(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=DD(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function he(t=1){return b2(t)}function q4(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function _(t,e=""){let n=Re(),r=pn(),i=t+dt,o=r.firstCreatePass?kv(r,i,1,e,null):r.data[i],s=Bx(r,n,o,e,t);n[i]=s,sv()&&Nv(r,n,s,o),jc(o,!1)}var Bx=(t,e,n,r,i)=>(Ci(!0),BA(e[Ge],r));function z4(t,e,n,r,i){let o=e[tr],s=!o||Uc()||zs(n)||qc(o,i);return Ci(s),s?BA(e[Ge],r):Lh(o,t,e,n)}function W4(){Bx=z4}function wo(t){return Ae("",t,""),wo}function Ae(t,e,n){let r=Re(),i=_4(r,t,e,n);return i!==ur&&$x(r,po(),i),Ae}function qh(t,e,n,r,i){let o=Re(),s=w4(o,t,e,n,r,i);return s!==ur&&$x(o,po(),s),qh}function $x(t,e,n){let r=hS(e,t);Oj(t[Ge],r,n)}function Wt(t,e,n){YS(e)&&(e=e());let r=Re(),i=rv();if(uo(r,i,e)){let o=pn(),s=SS();JA(o,s,r,t,e,r[Ge],n,!1)}return Wt}function nn(t,e){let n=YS(t);return n&&t.set(e),n}function Gt(t,e){let n=Re(),r=pn(),i=gn();return jx(r,n,n[Ge],i,t,e),Gt}function G4(t,e,n){let r=pn();if(r.firstCreatePass){let i=nr(t);$y(n,r.data,r.blueprint,i,!0),$y(e,r.data,r.blueprint,i,!1)}}function $y(t,e,n,r,i){if(t=qt(t),Array.isArray(t))for(let o=0;o<t.length;o++)$y(t[o],e,n,r,i);else{let o=pn(),s=Re(),a=gn(),c=Rs(t)?t:qt(t.provide),u=nS(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Rs(t)||!t.multi){let y=new ao(u,i,z),T=ny(c,e,i?h:h+m,p);T===-1?(py(Yd(a,s),o,c),ty(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{let y=ny(c,e,h+m,p),T=ny(c,e,h,h+m),M=y>=0&&n[y],P=T>=0&&n[T];if(i&&!P||!i&&!M){py(Yd(a,s),o,c);let q=Y4(i?Q4:K4,n.length,i,r,u);!i&&P&&(n[T].providerFactory=q),ty(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(q),s.push(q)}else{let q=Hx(n[i?T:y],u,!i&&r);ty(o,t,y>-1?y:T,q)}!i&&r&&P&&n[T].componentProviders++}}}function ty(t,e,n,r){let i=Rs(e),o=qV(e);if(i||o){let c=(o?qt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(n);h===-1?u.push(n,[r,c]):u[h+1].push(r,c)}else u.push(n,c)}}}function Hx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ny(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function K4(t,e,n,r){return Hy(this.multi,[])}function Q4(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Zd(n,n[ne],this.providerFactory.index,r);o=a.slice(0,s),Hy(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Hy(i,o);return o}function Hy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Y4(t,e,n,r,i){let o=new ao(t,n,z);return o.multi=[],o.index=e,o.componentProviders=0,Hx(o,i,r&&!n),o}function zh(t,e=[]){return n=>{n.providersResolver=(r,i)=>G4(r,i?i(t):t,e)}}function qx(t,e,n){let r=nv()+t,i=Re();return i[r]===ur?Lv(i,r,n?e.call(n):e()):W$(i,r)}function Gs(t,e,n,r,i){return J4(Re(),nv(),t,e,n,r,i)}function zx(t,e){let n=t[e];return n===ur?void 0:n}function Z4(t,e,n,r,i,o){let s=e+n;return uo(t,s,i)?Lv(t,s+1,o?r.call(o,i):r(i)):zx(t,s+1)}function J4(t,e,n,r,i,o,s){let a=e+n;return Nx(t,a,i,o)?Lv(t,a+2,s?r.call(s,i,o):r(i,o)):zx(t,a+2)}function Wh(t,e){let n=pn(),r,i=t+dt;n.firstCreatePass?(r=X4(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ro(r.type,!0)),s,a=Zt(z);try{let c=Qd(!1),u=o();return Qd(c),q4(n,Re(),i,u),u}finally{Zt(a)}}function X4(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Gh(t,e,n){let r=t+dt,i=Re(),o=n2(i,r);return eH(i,r)?Z4(i,nv(),e,o.transform,n,o):o.transform(n)}function eH(t,e){return t[ne].data[e].pure}var xd=null;function tH(t){xd!==null&&(t.defaultEncapsulation!==xd.defaultEncapsulation||t.preserveWhitespaces!==xd.preserveWhitespaces)||(xd=t)}var Br=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Wx=new Br("19.2.3"),qy=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Kh=(()=>{class t{compileModuleSync(n){return new uh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=ZD(n),o=UA(i.declarations).reduce((s,a)=>{let c=Ii(a);return c&&s.push(new Ps(c)),s},[]);return new qy(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nH=new $("");function rH(t,e,n){let r=new uh(n);return Promise.resolve(r)}function AD(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var iH=(()=>{class t{zone=k(me);changeDetectionScheduler=k(co);applicationRef=k(zt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oH({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new me(de(U({},Gx()),{scheduleInRootZone:n})),[{provide:me,useFactory:t},{provide:Ei,multi:!0,useFactory:()=>{let r=k(iH,{optional:!0});return()=>r.initialize()}},{provide:Ei,multi:!0,useFactory:()=>{let r=k(sH);return()=>{r.initialize()}}},e===!0?{provide:zS,useValue:!0}:[],{provide:WS,useValue:n??qS}]}function Gx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var sH=(()=>{class t{subscription=new Ze;initialized=!1;zone=k(me);pendingTasks=k(ar);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var aH=(()=>{class t{appRef=k(zt);taskService=k(ar);ngZone=k(me);zonelessEnabled=k(cv);tracing=k(qs,{optional:!0});disableScheduling=k(zS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(WS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof eh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?qT:GS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cH(){return typeof $localize<"u"&&$localize.locale||hh}var Bv=new $("",{providedIn:"root",factory:()=>k(Bv,le.Optional|le.SkipSelf)||cH()});var fh=new $(""),lH=new $("");function bc(t){return!t.moduleRef}function uH(t){let e=bc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(me);return n.run(()=>{bc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Vr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),bc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(fh);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(fh);s.add(o),t.moduleRef.onDestroy(()=>{Od(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return hH(r,n,()=>{let o=e.get(Ox);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Bv,hh);if($4(s||hh),!e.get(lH,!0))return bc(t)?e.get(zt):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(bc(t)){let c=e.get(zt);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return dH(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function dH(t,e){let n=t.injector.get(zt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new H(-403,!1);e.push(t)}function hH(t,e,n){try{let r=n();return vo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Kx=(()=>{class t{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,r){let i=r?.scheduleInRootZone,o=()=>Q2(r?.ngZone,de(U({},Gx({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[oH({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:co,useExisting:aH}],c=N$(n.moduleType,this.injector,a);return uH({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){let i=Lx({},r);return rH(this.injector,i,n).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new H(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(fh,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||t)(Q(Ve))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Sc=null,Qx=new $("");function fH(t){if(Sc&&!Sc.get(Qx,!1))throw new H(400,!1);o4(),Sc=t;let e=t.get(Kx);return mH(t),e}function $v(t,e,n=[]){let r=`Platform: ${e}`,i=new $(r);return(o=[])=>{let s=Yx();if(!s||s.injector.get(Qx,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):fH(pH(a,r))}return gH(i)}}function pH(t=[],e){return Ve.create({name:e,providers:[{provide:vh,useValue:"platform"},{provide:fh,useValue:new Set([()=>Sc=null])},...t]})}function gH(t){let e=Yx();if(!e)throw new H(401,!1);return e}function Yx(){return Sc?.get(Kx)??null}function mH(t){let e=t.get(dv,null);Tt(t,()=>{e?.forEach(n=>n())})}function Hv(){return!1}var Eo=(()=>{class t{static __NG_ELEMENT_ID__=yH}return t})();function yH(t){return vH(gn(),Re(),(t&16)===16)}function vH(t,e,n){if(fo(t)&&!n){let r=rr(t.index,e);return new kc(r,r)}else if(t.type&175){let r=e[xn];return new kc(r,e)}return null}var zy=class{constructor(){}supports(e){return Rx(e)}create(e){return new Wy(e)}},_H=(t,e)=>e,Wy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||_H}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<xD(r,i,o)?n:r,a=xD(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,h=c-i;if(u!=h){for(let m=0;m<u;m++){let y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<u&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Rx(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,q$(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Gy(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ph),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ph),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Gy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Ky=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ph=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ky,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function xD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function RD(){return new qv([new zy])}var qv=(()=>{class t{factories;static \u0275prov=W({token:t,providedIn:"root",factory:RD});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||RD()),deps:[[t,new LV,new ht]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new H(901,!1)}}return t})();var Zx=$v(null,"core",[]),Jx=(()=>{class t{constructor(n){}static \u0275fac=function(r){return new(r||t)(Q(zt))};static \u0275mod=tn({type:t});static \u0275inj=en({})}return t})();var Rd=new WeakSet,ND="",Ld=[];function MD(t){return t.get(dA,_U)}function Xx(){let t=[{provide:dA,useFactory:()=>{let e=!0;{let n=k(lo);e=!!window._ejsas?.[n]}return e&&go("NgEventReplay"),e}}];return t.push({provide:Ei,useValue:()=>{let e=k(zt),{injector:n}=e;if(!Rd.has(e)){let r=k(QT);MD(n)&&CD((i,o,s)=>{i.nodeType===Node.ELEMENT_NODE&&(FU(i,o,s),VU(i,r))})}},multi:!0},{provide:_o,useFactory:()=>{let e=k(lo),n=k(zt),{injector:r}=n;return()=>{!MD(r)||Rd.has(n)||(Rd.add(n),n.onDestroy(()=>{Rd.delete(n),Um(e),CD(()=>{})}),n.whenStable().then(()=>{if(n.destroyed)return;let i=r.get(jU);wH(i,r);let o=r.get(QT);o.get(ND)?.forEach(UU),o.delete(ND);let s=i.instance;YU(r)?n.onDestroy(()=>s.cleanUp()):s.cleanUp()}))}},multi:!0}),t}var wH=(t,e)=>{let n=e.get(lo),r=window._ejsas[n],i=t.instance=new ST(new Ed(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=AT(n);i.replayEarlyEventInfos(o),Um(n);let s=new Id(a=>{EH(e,a,a.currentTarget)});DT(i,s)};function EH(t,e,n){let r=(n&&n.getAttribute(Ah))??"";/d\d+/.test(r)?IH(r,t,e,n):e.eventPhase===Vm.REPLAY&&mA(e,n)}function IH(t,e,n,r){Ld.push({event:n,currentTarget:r}),h4(e,t,bH)}function bH(t){let e=[...Ld],n=new Set(t);Ld=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(Ah);n.has(o)?mA(r,i):Ld.push({event:r,currentTarget:i})}}var kD=!1;function CH(){kD||(kD=!0,WU(),F4(),W4(),j4(),Y$(),C$(),YB(),qj())}function TH(t){return t.whenStable()}function eR(){let t=[{provide:Cd,useFactory:()=>{let e=!0;return e=!!k(Hs,{optional:!0})?.get(yA,null),e&&go("NgHydration"),e}},{provide:Ei,useValue:()=>{HB(!1),k(Cd)&&(ej($c()),CH())},multi:!0}];return t.push({provide:uA,useFactory:()=>k(Cd)},{provide:_o,useFactory:()=>{if(k(Cd)){let e=k(zt);return()=>{TH(e).then(()=>{e.destroyed||mx(e)})}}return()=>{}},multi:!0}),fn(t)}function Qh(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Hr(t){return jC(t)}function Ks(t,e){return PC(t,e?.equal)}var PD=class{[Dn];constructor(e){this[Dn]=e}destroy(){this[Dn].destroy()}};function tR(t){let e=Ii(t);if(!e)return null;let n=new Ps(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var aR=null;function dr(){return aR}function cR(t){aR??=t}var Yh=class{};var Kt=new $(""),Qv=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>k(SH),providedIn:"platform"})}return t})(),lR=new $(""),SH=(()=>{class t extends Qv{_location;_history;_doc=k(Kt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dr().getBaseHref(this._doc)}onPopState(n){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Yv(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function nR(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function qr(t){return t&&t[0]!=="?"?`?${t}`:t}var Io=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>k(Zv),providedIn:"root"})}return t})(),uR=new $(""),Zv=(()=>{class t extends Io{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Yv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+qr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+qr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+qr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Q(Qv),Q(uR,8))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dR=(()=>{class t extends Io{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Yv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+qr(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+qr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Q(Qv),Q(uR,8))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),Qs=(()=>{class t{_subject=new pt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=RH(nR(rR(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+qr(r))}normalize(n){return t.stripTrailingSlash(xH(this._basePath,rR(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=qr;static joinWithSlash=Yv;static stripTrailingSlash=nR;static \u0275fac=function(r){return new(r||t)(Q(Io))};static \u0275prov=W({token:t,factory:()=>AH(),providedIn:"root"})}return t})();function AH(){return new Qs(Q(Io))}function xH(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function rR(t){return t.replace(/\/index.html$/,"")}function RH(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function hR(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var zv=/\s+/,iR=[],Ys=(()=>{class t{_ngEl;_renderer;initialClasses=iR;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(zv):iR}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(zv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(zv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(z(Ti),z(mo))};static \u0275dir=mn({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Wv=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Jh=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),oR(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);oR(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(z(Ws),z(Oh),z(qv))};static \u0275dir=mn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function oR(t,e){t.context.$implicit=e.item}var nt=(()=>{class t{_viewContainer;_context=new Gv;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){sR(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){sR(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(z(Ws),z(Oh))};static \u0275dir=mn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Gv=class{$implicit=null;ngIf=null};function sR(t,e){if(t&&!t.createEmbeddedView)throw new H(2020,!1)}function NH(t,e){return new H(2100,!1)}var MH=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Xh=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw NH(t,n);return n.replace(MH,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Sx({name:"titlecase",type:t,pure:!0})}return t})();var fR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=tn({type:t});static \u0275inj=en({})}return t})(),pR="browser",kH="server";function Jv(t){return t===kH}var gR=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:()=>new Kv(k(Kt),window)})}return t})(),Kv=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=PH(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function PH(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Zh=class{};var ef=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var OH="X-Request-URL",LH="text/plain",FH="application/json",Are=`${FH}, ${LH}, */*`;var yR=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(yR||{}),Xv=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new ef,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var tf=class t extends Xv{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=yR.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var VH=new $("");var xre=RegExp(`^${OH}:`,"m");var UH=new $(""),jH="b",BH="h",$H="s",HH="st",qH="u",zH="rt",e_=new $(""),WH=["GET","HEAD"];function GH(t,e){let m=k(e_),{isCacheActive:n}=m,r=CC(m,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!WH.includes(o)||!r.includeRequestsWithAuthHeaders&&KH(t)||r.filter?.(t)===!1)return e(t);let s=k(Hs);if(k(UH,{optional:!0}))throw new H(2803,!1);let c=t.url,u=QH(t,c),h=s.get(u,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),h){let{[jH]:y,[zH]:T,[BH]:M,[$H]:P,[HH]:q,[qH]:ie}=h,ce=y;switch(T){case"arraybuffer":ce=new TextEncoder().encode(y).buffer;break;case"blob":ce=new Blob([y]);break}let Ke=new ef(M);return J(new tf({body:ce,headers:Ke,status:P,statusText:q,url:ie}))}return e(t).pipe(ct(y=>{y instanceof tf}))}function KH(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function mR(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function QH(t,e){let{params:n,method:r,responseType:i}=t,o=mR(n),s=t.serializeBody();s instanceof URLSearchParams?s=mR(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=YH(a);return c}function YH(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function vR(t){return[{provide:e_,useFactory:()=>(go("NgHttpTransferCache"),U({isCacheActive:!0},t))},{provide:VH,useValue:GH,multi:!0},{provide:_o,multi:!0,useFactory:()=>{let e=k(zt),n=k(e_);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var n_=class extends Yh{supportsDOMEvents=!0},r_=class t extends n_{static makeCurrent(){cR(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ZH();return n==null?null:JH(n)}resetBaseElement(){Kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hR(document.cookie,e)}},Kc=null;function ZH(){return Kc=Kc||document.querySelector("base"),Kc?Kc.getAttribute("href"):null}function JH(t){return new URL(t,document.baseURI).pathname}var i_=class{addToWindow(e){dn.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new H(5103,!1);return o},dn.getAllAngularTestabilities=()=>e.getAllTestabilities(),dn.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=dn.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};dn.frameworkStabilizers||(dn.frameworkStabilizers=[]),dn.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?dr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},XH=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),o_=new $(""),CR=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Q(o_),Q(me))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),rf=class{_doc;constructor(e){this._doc=e}manager},nf="ng-app-id";function _R(t){for(let e of t)e.remove()}function wR(t,e){let n=e.createElement("style");return n.textContent=t,n}function e3(t,e,n,r){let i=t.head?.querySelectorAll(`style[${nf}="${e}"],link[${nf}="${e}"]`);if(i)for(let o of i)o.removeAttribute(nf),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function s_(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var TR=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Jv(o),e3(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,wR);r?.forEach(i=>this.addUsage(i,this.external,s_))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(_R(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])_R(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,wR(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,s_(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(nf,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Q(Kt),Q(lo),Q(hv,8),Q(Di))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),t_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},c_=/%COMP%/g;var DR="%COMP%",t3=`_nghost-${DR}`,n3=`_ngcontent-${DR}`,r3=!0,i3=new $("",{providedIn:"root",factory:()=>r3});function o3(t){return n3.replace(c_,t)}function s3(t){return t3.replace(c_,t)}function SR(t,e){return e.map(n=>n.replace(c_,t))}var ER=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,u=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=h,this.platformIsServer=Jv(a),this.defaultRenderer=new Qc(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ir.ShadowDom&&(r=de(U({},r),{encapsulation:ir.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof of?i.applyToHost(n):i instanceof Yc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case ir.Emulated:o=new of(c,u,r,this.appId,h,s,a,p,m);break;case ir.ShadowDom:return new a_(c,u,n,r,s,a,this.nonce,p,m);default:o=new Yc(c,u,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Q(CR),Q(TR),Q(lo),Q(i3),Q(Kt),Q(Di),Q(me),Q(hv),Q(qs,8))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),Qc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(t_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(IR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(IR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=t_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=t_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(jr.DashCase|jr.Important)?e.style.setProperty(n,r,i&jr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&jr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=dr().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function IR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var a_=class extends Qc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=SR(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=s_(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yc=class extends Qc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?SR(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},of=class extends Yc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,u){let h=i+"-"+r.id;super(e,n,r,o,s,a,c,u,h),this.contentAttr=o3(h),this.hostAttr=s3(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},a3=(()=>{class t extends rf{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Q(Kt))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),bR=["alt","control","meta","shift"],c3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},l3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},u3=(()=>{class t extends rf{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),bR.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=c3[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),bR.forEach(s=>{if(s!==i){let a=l3[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Q(Kt))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function d3(){r_.makeCurrent()}function h3(){return new Vr}function f3(){return iA(document),document}var p3=[{provide:Di,useValue:pR},{provide:dv,useValue:d3,multi:!0},{provide:Kt,useFactory:f3,deps:[]}],AR=$v(Zx,"browser",p3);var g3=[{provide:Gc,useClass:i_,deps:[]},{provide:Vv,useClass:jh,deps:[me,Bh,Gc]},{provide:jh,useClass:jh,deps:[me,Bh,Gc]}],m3=[{provide:vh,useValue:"root"},{provide:Vr,useFactory:h3,deps:[]},{provide:o_,useClass:a3,multi:!0,deps:[Kt]},{provide:o_,useClass:u3,multi:!0,deps:[Kt]},ER,TR,CR,{provide:ks,useExisting:ER},{provide:Zh,useClass:XH,deps:[]},[]],xR=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275mod=tn({type:t});static \u0275inj=en({providers:[...m3,...g3],imports:[fR,Jx]})}return t})();var RR=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Q(Kt))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var l_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=Q(y3),i},providedIn:"root"})}return t})(),y3=(()=>{class t extends l_{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case lr.NONE:return r;case lr.HTML:return Si(r,"HTML")?cr(r):vv(this._doc,String(r)).toString();case lr.STYLE:return Si(r,"Style")?cr(r):r;case lr.SCRIPT:if(Si(r,"Script"))return cr(r);throw new H(5200,!1);case lr.URL:return Si(r,"URL")?cr(r):yv(String(r));case lr.RESOURCE_URL:if(Si(r,"ResourceURL"))return cr(r);throw new H(5201,!1);default:throw new H(5202,!1)}}bypassSecurityTrustHtml(n){return TA(n)}bypassSecurityTrustStyle(n){return DA(n)}bypassSecurityTrustScript(n){return SA(n)}bypassSecurityTrustUrl(n){return AA(n)}bypassSecurityTrustResourceUrl(n){return xA(n)}static \u0275fac=function(r){return new(r||t)(Q(Kt))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sf=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(sf||{});function v3(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function NR(){return v3(sf.EventReplay,Xx())}function MR(...t){let e=[],n=new Set,r=n.has(sf.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return fn([[],eR(),n.has(sf.NoHttpTransferCache)||r?[]:vR({}),e])}var se="primary",ll=Symbol("RouteTitle"),p_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function na(t){return new p_(t)}function w3(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function E3(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hr(t[n],e[n]))return!1;return!0}function hr(t,e){let n=t?g_(t):void 0,r=e?g_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!HR(t[i],e[i]))return!1;return!0}function g_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function HR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function qR(t){return t.length>0?t[t.length-1]:null}function xi(t){return Cm(t)?t:vo(t)?We(Promise.resolve(t)):J(t)}var I3={exact:WR,subset:GR},zR={exact:b3,subset:C3,ignored:()=>!0};function PR(t,e,n){return I3[n.paths](t.root,e.root,n.matrixParams)&&zR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function b3(t,e){return hr(t,e)}function WR(t,e,n){if(!Co(t.segments,e.segments)||!lf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!WR(t.children[r],e.children[r],n))return!1;return!0}function C3(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>HR(t[n],e[n]))}function GR(t,e,n){return KR(t,e,e.segments,n)}function KR(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Co(i,n)||e.hasChildren()||!lf(i,n,r))}else if(t.segments.length===n.length){if(!Co(t.segments,n)||!lf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!GR(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Co(t.segments,i)||!lf(t.segments,i,r)||!t.children[se]?!1:KR(t.children[se],e,o,r)}}function lf(t,e,n){return e.every((r,i)=>zR[n](t[i].parameters,r.parameters))}var Wr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=na(this.queryParams),this._queryParamMap}toString(){return S3.serialize(this)}},xe=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uf(this)}},bo=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=na(this.parameters),this._parameterMap}toString(){return YR(this)}};function T3(t,e){return Co(t,e)&&t.every((n,r)=>hr(n.parameters,e[r].parameters))}function Co(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function D3(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}var ul=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>new ra,providedIn:"root"})}return t})(),ra=class{parse(e){let n=new y_(e);return new Wr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Zc(e.root,!0)}`,r=R3(e.queryParams),i=typeof e.fragment=="string"?`#${A3(e.fragment)}`:"";return`${n}${r}${i}`}},S3=new ra;function uf(t){return t.segments.map(e=>YR(e)).join("/")}function Zc(t,e){if(!t.hasChildren())return uf(t);if(e){let n=t.children[se]?Zc(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Zc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=D3(t,(r,i)=>i===se?[Zc(t.children[se],!1)]:[`${i}:${Zc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[se]!=null?`${uf(t)}/${n[0]}`:`${uf(t)}/(${n.join("//")})`}}function QR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function af(t){return QR(t).replace(/%3B/gi,";")}function A3(t){return encodeURI(t)}function m_(t){return QR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function df(t){return decodeURIComponent(t)}function OR(t){return df(t.replace(/\+/g,"%20"))}function YR(t){return`${m_(t.path)}${x3(t.parameters)}`}function x3(t){return Object.entries(t).map(([e,n])=>`;${m_(e)}=${m_(n)}`).join("")}function R3(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${af(n)}=${af(i)}`).join("&"):`${af(n)}=${af(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var N3=/^[^\/()?;#]+/;function u_(t){let e=t.match(N3);return e?e[0]:""}var M3=/^[^\/()?;=#]+/;function k3(t){let e=t.match(M3);return e?e[0]:""}var P3=/^[^=?&#]+/;function O3(t){let e=t.match(P3);return e?e[0]:""}var L3=/^[^&#]+/;function F3(t){let e=t.match(L3);return e?e[0]:""}var y_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new xe(e,n)),r}parseSegment(){let e=u_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new bo(df(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=k3(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=u_(this.remaining);i&&(r=i,this.capture(r))}e[df(n)]=df(r)}parseQueryParam(e){let n=O3(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=F3(this.remaining);s&&(r=s,this.capture(r))}let i=OR(n),o=OR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=u_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[se]:new xe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function ZR(t){return t.segments.length>0?new xe([],{[se]:t}):t}function JR(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=JR(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new xe(t.segments,e);return V3(n)}function V3(t){if(t.numberOfChildren===1&&t.children[se]){let e=t.children[se];return new xe(t.segments.concat(e.segments),e.children)}return t}function tl(t){return t instanceof Wr}function U3(t,e,n=null,r=null){let i=XR(t);return eN(i,e,n,r)}function XR(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new xe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=ZR(r);return e??i}function eN(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return d_(i,i,i,n,r);let o=j3(e);if(o.toRoot())return d_(i,i,new xe([],{}),n,r);let s=B3(o,i,t),a=s.processChildren?Xc(s.segmentGroup,s.index,o.commands):nN(s.segmentGroup,s.index,o.commands);return d_(i,s.segmentGroup,a,n,r)}function ff(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function nl(t){return typeof t=="object"&&t!=null&&t.outlets}function d_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;t===e?s=n:s=tN(t,e,n);let a=ZR(JR(s));return new Wr(a,o,i)}function tN(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=tN(o,e,n)}),new xe(t.segments,r)}var pf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ff(r[0]))throw new H(4003,!1);let i=r.find(nl);if(i&&i!==qR(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function j3(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new pf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new pf(n,e,r)}var Xs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function B3(t,e,n){if(t.isAbsolute)return new Xs(e,!0,0);if(!n)return new Xs(e,!1,NaN);if(n.parent===null)return new Xs(n,!0,0);let r=ff(t.commands[0])?0:1,i=n.segments.length-1+r;return $3(n,i,t.numberOfDoubleDots)}function $3(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Xs(r,!1,i-o)}function H3(t){return nl(t[0])?t[0].outlets:{[se]:t}}function nN(t,e,n){if(t??=new xe([],{}),t.segments.length===0&&t.hasChildren())return Xc(t,e,n);let r=q3(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new xe(t.segments.slice(0,r.pathIndex),{});return o.children[se]=new xe(t.segments.slice(r.pathIndex),t.children),Xc(o,0,i)}else return r.match&&i.length===0?new xe(t.segments,{}):r.match&&!t.hasChildren()?v_(t,e,n):r.match?Xc(t,0,i):v_(t,e,n)}function Xc(t,e,n){if(n.length===0)return new xe(t.segments,{});{let r=H3(n),i={};if(Object.keys(r).some(o=>o!==se)&&t.children[se]&&t.numberOfChildren===1&&t.children[se].segments.length===0){let o=Xc(t.children[se],e,n);return new xe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nN(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(t.segments,i)}}function q3(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(nl(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!FR(c,u,s))return o;r+=2}else{if(!FR(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function v_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(nl(o)){let c=z3(o.outlets);return new xe(r,c)}if(i===0&&ff(n[0])){let c=t.segments[e];r.push(new bo(c.path,LR(n[0]))),i++;continue}let s=nl(o)?o.outlets[se]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ff(a)?(r.push(new bo(s,LR(a))),i+=2):(r.push(new bo(s,{})),i++)}return new xe(r,{})}function z3(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=v_(new xe([],{}),0,r))}),e}function LR(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function FR(t,e,n){return t==n.path&&hr(e,n.parameters)}var hf="imperative",mt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(mt||{}),Rn=class{id;url;constructor(e,n){this.id=e,this.url=n}},ia=class extends Rn{type=mt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gr=class extends Rn{urlAfterRedirects;type=mt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_n=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(_n||{}),gf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(gf||{}),zr=class extends Rn{reason;code;type=mt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ai=class extends Rn{reason;code;type=mt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},rl=class extends Rn{error;target;type=mt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mf=class extends Rn{urlAfterRedirects;state;type=mt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},__=class extends Rn{urlAfterRedirects;state;type=mt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},w_=class extends Rn{urlAfterRedirects;state;shouldActivate;type=mt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},E_=class extends Rn{urlAfterRedirects;state;type=mt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},I_=class extends Rn{urlAfterRedirects;state;type=mt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},b_=class{route;type=mt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},C_=class{route;type=mt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},T_=class{snapshot;type=mt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},D_=class{snapshot;type=mt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},S_=class{snapshot;type=mt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},A_=class{snapshot;type=mt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yf=class{routerEvent;position;anchor;type=mt.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},il=class{},oa=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function W3(t,e){return t.providers&&!t._injector&&(t._injector=Wc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zn(t){return t.outlet||se}function G3(t,e){let n=t.filter(r=>zn(r)===e);return n.push(...t.filter(r=>zn(r)!==e)),n}function dl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var x_=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return dl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new hl(this.rootInjector)}},hl=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new x_(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Q(Mt))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=R_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=R_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=N_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return N_(e,this._root).map(n=>n.value)}};function R_(t,e){if(t===e.value)return e;for(let n of e.children){let r=R_(t,n);if(r)return r}return null}function N_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=N_(t,n);if(r.length)return r.unshift(e),r}return[]}var vn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Js(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var _f=class extends vf{snapshot;constructor(e,n){super(e),this.snapshot=n,j_(this,e)}toString(){return this.snapshot.toString()}};function rN(t){let e=K3(t),n=new Ct([new bo("",{})]),r=new Ct({}),i=new Ct({}),o=new Ct({}),s=new Ct(""),a=new fr(n,r,o,s,i,se,t,e.root);return a.snapshot=e.root,new _f(new vn(a,[]),e)}function K3(t){let e={},n={},r={},i="",o=new ea([],e,r,i,n,se,t,null,{});return new Ef("",new vn(o,[]))}var fr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ve(u=>u[ll]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(e=>na(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(e=>na(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&oN(i)&&(r.resolve[ll]=i.title),r}var ea=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ll]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=na(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=na(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ef=class extends vf{url;constructor(e,n){super(n),this.url=e,j_(this,n)}toString(){return iN(this._root)}};function j_(t,e){e.value._routerState=t,e.children.forEach(n=>j_(t,n))}function iN(t){let e=t.children.length>0?` { ${t.children.map(iN).join(", ")} } `:"";return`${t.value}${e}`}function h_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),hr(e.params,n.params)||t.paramsSubject.next(n.params),E3(e.url,n.url)||t.urlSubject.next(n.url),hr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function M_(t,e){let n=hr(t.params,e.params)&&T3(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||M_(t.parent,e.parent))}function oN(t){return typeof t.title=="string"||t.title===null}var Q3=new $(""),B_=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new lt;deactivateEvents=new lt;attachEvents=new lt;detachEvents=new lt;routerOutletData=QS(void 0);parentContexts=k(hl);location=k(Ws);changeDetector=k(Eo);inputBinder=k(Df,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new k_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=mn({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Fc]})}return t})(),k_=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===fr?this.route:e===hl?this.childContexts:e===Q3?this.outletData:this.parent.get(e,n)}},Df=new $(""),VR=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Ic([r.queryParams,r.params,r.data]).pipe(cn(([o,s,a],c)=>(a=U(U(U({},o),s),a),c===0?J(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=tR(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function Y3(t,e,n){let r=ol(t,e._root,n?n._root:void 0);return new _f(r,e)}function ol(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Z3(t,e,n);return new vn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ol(t,a)),s}}let r=J3(e.value),i=e.children.map(o=>ol(t,o));return new vn(r,i)}}function Z3(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ol(t,r,i);return ol(t,r)})}function J3(t){return new fr(new Ct(t.url),new Ct(t.params),new Ct(t.queryParams),new Ct(t.fragment),new Ct(t.data),t.outlet,t.component,t)}var sl=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},sN="ngNavigationCancelingError";function If(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=tl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aN(!1,_n.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function aN(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[sN]=!0,n.cancellationCode=e,n}function X3(t){return cN(t)&&tl(t.url)}function cN(t){return!!t&&t[sN]}var eq=(t,e,n,r)=>ve(i=>(new P_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),P_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),h_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Js(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Js(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Js(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Js(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new A_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new D_(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(h_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),h_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},bf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ta=class{component;route;constructor(e,n){this.component=e,this.route=n}};function tq(t,e,n){let r=t._root,i=e?e._root:null;return Jc(r,i,n,[r.value])}function nq(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function aa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!jD(t)?t:e.get(t):r}function Jc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Js(e);return t.children.forEach(s=>{rq(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>el(a,n.getContext(s),i)),i}function rq(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=iq(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new bf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Jc(t,e,a?a.children:null,r,i):Jc(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ta(a.outlet.component,s))}else s&&el(e,a,i),i.canActivateChecks.push(new bf(r)),o.component?Jc(t,null,a?a.children:null,r,i):Jc(t,null,n,r,i);return i}function iq(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Co(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Co(t.url,e.url)||!hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!M_(t,e)||!hr(t.queryParams,e.queryParams);case"paramsChange":default:return!M_(t,e)}}function el(t,e,n){let r=Js(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?el(s,e.children.getContext(o),n):el(s,null,n):el(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ta(e.outlet.component,i)):n.canDeactivateChecks.push(new ta(null,i)):n.canDeactivateChecks.push(new ta(null,i))}function fl(t){return typeof t=="function"}function oq(t){return typeof t=="boolean"}function sq(t){return t&&fl(t.canLoad)}function aq(t){return t&&fl(t.canActivate)}function cq(t){return t&&fl(t.canActivateChild)}function lq(t){return t&&fl(t.canDeactivate)}function uq(t){return t&&fl(t.canMatch)}function lN(t){return t instanceof Mr||t?.name==="EmptyError"}var cf=Symbol("INITIAL_VALUE");function sa(){return cn(t=>Ic(t.map(e=>e.pipe(kr(1),Am(cf)))).pipe(ve(e=>{for(let n of e)if(n!==!0){if(n===cf)return cf;if(n===!1||dq(n))return n}return!0}),an(e=>e!==cf),kr(1)))}function dq(t){return tl(t)||t instanceof sl}function hq(t,e){return tt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?J(de(U({},n),{guardsResult:!0})):fq(s,r,i,t).pipe(tt(a=>a&&oq(a)?pq(r,o,t,e):J(a)),ve(a=>de(U({},n),{guardsResult:a})))})}function fq(t,e,n,r){return We(t).pipe(tt(i=>_q(i.component,i.route,n,e,r)),Pr(i=>i!==!0,!0))}function pq(t,e,n,r){return We(e).pipe(yi(i=>vs(mq(i.route.parent,r),gq(i.route,r),vq(t,i.path,n),yq(t,i.route,n))),Pr(i=>i!==!0,!0))}function gq(t,e){return t!==null&&e&&e(new S_(t)),J(!0)}function mq(t,e){return t!==null&&e&&e(new T_(t)),J(!0)}function yq(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(o=>md(()=>{let s=dl(e)??n,a=aa(o,s),c=aq(a)?a.canActivate(e,t):Tt(s,()=>a(e,t));return xi(c).pipe(Pr())}));return J(i).pipe(sa())}function vq(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>nq(s)).filter(s=>s!==null).map(s=>md(()=>{let a=s.guards.map(c=>{let u=dl(s.node)??n,h=aa(c,u),p=cq(h)?h.canActivateChild(r,t):Tt(u,()=>h(r,t));return xi(p).pipe(Pr())});return J(a).pipe(sa())}));return J(o).pipe(sa())}function _q(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let c=dl(e)??i,u=aa(a,c),h=lq(u)?u.canDeactivate(t,e,n,r):Tt(c,()=>u(t,e,n,r));return xi(h).pipe(Pr())});return J(s).pipe(sa())}function wq(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let o=i.map(s=>{let a=aa(s,t),c=sq(a)?a.canLoad(e,n):Tt(t,()=>a(e,n));return xi(c)});return J(o).pipe(sa(),uN(r))}function uN(t){return mm(ct(e=>{if(typeof e!="boolean")throw If(t,e)}),ve(e=>e===!0))}function Eq(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let o=i.map(s=>{let a=aa(s,t),c=uq(a)?a.canMatch(e,n):Tt(t,()=>a(e,n));return xi(c)});return J(o).pipe(sa(),uN(r))}var al=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},cl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Zs(t){return ms(new al(t))}function Iq(t){return ms(new H(4e3,!1))}function bq(t){return ms(aN(!1,_n.GuardRejected))}var O_=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[se])return Iq(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:h,url:p,outlet:m,params:y,data:T,title:M}=i,P=Tt(o,()=>a({params:y,data:T,queryParams:c,fragment:u,routeConfig:h,url:p,outlet:m,title:M}));if(P instanceof Wr)throw new cl(P);n=P}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new cl(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Wr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new xe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},L_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cq(t,e,n,r,i){let o=dN(t,e,n);return o.matched?(r=W3(e,r),Eq(r,e,n,i).pipe(ve(s=>s===!0?o:U({},L_)))):J(o)}function dN(t,e,n){if(e.path==="**")return Tq(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},L_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||w3)(n,t,e);if(!i)return U({},L_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Tq(t){return{matched:!0,parameters:t.length>0?qR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function UR(t,e,n,r){return n.length>0&&Aq(t,n,r)?{segmentGroup:new xe(e,Sq(r,new xe(n,t.children))),slicedSegments:[]}:n.length===0&&xq(t,n,r)?{segmentGroup:new xe(t.segments,Dq(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:n}}function Dq(t,e,n,r){let i={};for(let o of n)if(Sf(t,e,o)&&!r[zn(o)]){let s=new xe([],{});i[zn(o)]=s}return U(U({},r),i)}function Sq(t,e){let n={};n[se]=e;for(let r of t)if(r.path===""&&zn(r)!==se){let i=new xe([],{});n[zn(r)]=i}return n}function Aq(t,e,n){return n.some(r=>Sf(t,e,r)&&zn(r)!==se)}function xq(t,e,n){return n.some(r=>Sf(t,e,r))}function Sf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Rq(t,e,n){return e.length===0&&!t.children[n]}var F_=class{};function Nq(t,e,n,r,i,o,s="emptyOnly"){return new V_(t,e,n,r,i,s,o).recognize()}var Mq=31,V_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new O_(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=UR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ve(({children:n,rootSnapshot:r})=>{let i=new vn(r,n),o=new Ef("",i),s=U3(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ea([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,n).pipe(ve(r=>({children:r,rootSnapshot:n})),mi(r=>{if(r instanceof cl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof al?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ve(s=>s instanceof vn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return We(o).pipe(yi(s=>{let a=r.children[s],c=G3(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Sm((s,a)=>(s.push(...a),s)),vi(null),Dm(),tt(s=>{if(s===null)return Zs(r);let a=hN(s);return kq(a),J(a)}))}processSegment(e,n,r,i,o,s,a){return We(n).pipe(yi(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(mi(u=>{if(u instanceof al)return J(null);throw u}))),Pr(c=>!!c),mi(c=>{if(lN(c))return Rq(r,i,o)?J(new F_):Zs(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return zn(r)!==s&&(s===se||!Sf(i,o,r))?Zs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Zs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=dN(n,i,o);if(!c)return Zs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Mq&&(this.allowRedirects=!1));let y=new ea(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,jR(i),zn(i),i.component??i._loadedComponent??null,i,BR(i)),T=wf(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(tt(P=>this.processSegment(e,r,n,P.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Cq(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(cn(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(cn(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=c,T=new ea(m,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,jR(r),zn(r),r.component??r._loadedComponent??null,r,BR(r)),M=wf(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data);let{segmentGroup:P,slicedSegments:q}=UR(n,m,y,u);if(q.length===0&&P.hasChildren())return this.processChildren(h,u,P,T).pipe(ve(ce=>new vn(T,ce)));if(u.length===0&&q.length===0)return J(new vn(T,[]));let ie=zn(r)===o;return this.processSegment(h,u,P,q,ie?se:o,!0,T).pipe(ve(ce=>new vn(T,ce instanceof vn?[ce]:[])))}))):Zs(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):wq(e,n,r,this.urlSerializer).pipe(tt(i=>i?this.configLoader.loadChildren(e,n).pipe(ct(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):bq(n))):J({routes:[],injector:e})}};function kq(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}function Pq(t){let e=t.value.routeConfig;return e&&e.path===""}function hN(t){let e=[],n=new Set;for(let r of t){if(!Pq(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=hN(r.children);e.push(new vn(r.value,i))}return e.filter(r=>!n.has(r))}function jR(t){return t.data||{}}function BR(t){return t.resolve||{}}function Oq(t,e,n,r,i,o){return tt(s=>Nq(t,e,n,r,s.extractedUrl,i,o).pipe(ve(({state:a,tree:c})=>de(U({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Lq(t,e){return tt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of fN(c))s.add(u);let a=0;return We(s).pipe(yi(c=>o.has(c)?Fq(c,r,t,e):(c.data=wf(c,c.parent,t).resolve,J(void 0))),ct(()=>a++),ws(1),tt(c=>a===s.size?J(n):Qt))})}function fN(t){let e=t.children.map(n=>fN(n)).flat();return[t,...e]}function Fq(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!oN(i)&&(o[ll]=i.title),Vq(o,t,e,r).pipe(ve(s=>(t._resolvedData=s,t.data=wf(t,t.parent,n).resolve,null)))}function Vq(t,e,n,r){let i=g_(t);if(i.length===0)return J({});let o={};return We(i).pipe(tt(s=>Uq(t[s],e,n,r).pipe(Pr(),ct(a=>{if(a instanceof sl)throw If(new ra,a);o[s]=a}))),ws(1),ve(()=>o),mi(s=>lN(s)?Qt:ms(s)))}function Uq(t,e,n,r){let i=dl(e)??r,o=aa(t,i),s=o.resolve?o.resolve(e,n):Tt(i,()=>o(e,n));return xi(s)}function f_(t){return cn(e=>{let n=t(e);return n?We(n).pipe(ve(()=>e)):J(e)})}var pN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[ll]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>k(jq),providedIn:"root"})}return t})(),jq=(()=>{class t extends pN{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Q(RR))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pl=new $("",{providedIn:"root",factory:()=>({})}),Bq=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=_e({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&K(0,"router-outlet")},dependencies:[B_],encapsulation:2})}return t})();function $_(t){let e=t.children&&t.children.map($_),n=e?de(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=Bq),n}var Cf=new $(""),H_=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=k(Kh);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return J(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=xi(n.loadComponent()).pipe(ve(gN),ct(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),_s(()=>{this.componentLoaders.delete(n)})),i=new hs(r,()=>new pt).pipe(ds());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=$q(r,this.compiler,n,this.onLoadEndListener).pipe(_s(()=>{this.childrenLoaders.delete(r)})),s=new hs(o,()=>new pt).pipe(ds());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $q(t,e,n,r){return xi(t.loadChildren()).pipe(ve(gN),tt(i=>i instanceof Ov||Array.isArray(i)?J(i):We(e.compileModuleAsync(i))),ve(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Cf,[],{optional:!0,self:!0}).flat()),{routes:s.map($_),injector:o}}))}function Hq(t){return t&&typeof t=="object"&&"default"in t}function gN(t){return Hq(t)?t.default:t}var q_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>k(qq),providedIn:"root"})}return t})(),qq=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mN=new $(""),yN=new $("");function zq(t,e,n){let r=t.get(yN),i=t.get(Kt);return t.get(me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),Wq(t))),{onViewTransitionCreated:c}=r;return c&&Tt(t,()=>c({transition:a,from:e,to:n})),s})}function Wq(t){return new Promise(e=>{Th({read:()=>setTimeout(e)},{injector:t})})}var vN=new $(""),z_=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new pt;transitionAbortSubject=new pt;configLoader=k(H_);environmentInjector=k(Mt);destroyRef=k(Bs);urlSerializer=k(ul);rootContexts=k(hl);location=k(Qs);inputBindingEnabled=k(Df,{optional:!0})!==null;titleStrategy=k(pN);options=k(pl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=k(q_);createViewTransition=k(mN,{optional:!0});navigationErrorHandler=k(vN,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>J(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new b_(i)),r=i=>this.events.next(new C_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(de(U({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Ct(null),this.transitions.pipe(an(r=>r!==null),cn(r=>{let i=!1,o=!1;return J(r).pipe(cn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",_n.SupersededByNewNavigation),Qt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?de(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new Ai(s.id,this.urlSerializer.serialize(s.rawUrl),u,gf.IgnoredSameUrlNavigation)),s.resolve(!1),Qt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return J(s).pipe(cn(u=>(this.events.next(new ia(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Qt:Promise.resolve(u))),Oq(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ct(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=de(U({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new mf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:h,source:p,restoredState:m,extras:y}=s,T=new ia(u,this.urlSerializer.serialize(h),p,m);this.events.next(T);let M=rN(this.rootComponentType).snapshot;return this.currentTransition=r=de(U({},s),{targetSnapshot:M,urlAfterRedirects:h,extras:de(U({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,J(r)}else{let u="";return this.events.next(new Ai(s.id,this.urlSerializer.serialize(s.extractedUrl),u,gf.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Qt}}),ct(s=>{let a=new __(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ve(s=>(this.currentTransition=r=de(U({},s),{guards:tq(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),hq(this.environmentInjector,s=>this.events.next(s)),ct(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw If(this.urlSerializer,s.guardsResult);let a=new w_(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),an(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",_n.GuardRejected),!1)),f_(s=>{if(s.guards.canActivateChecks.length!==0)return J(s).pipe(ct(a=>{let c=new E_(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),cn(a=>{let c=!1;return J(a).pipe(Lq(this.paramsInheritanceStrategy,this.environmentInjector),ct({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",_n.NoDataFromResolver)}}))}),ct(a=>{let c=new I_(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),f_(s=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(ct(h=>{c.component=h}),ve(()=>{})));for(let h of c.children)u.push(...a(h));return u};return Ic(a(s.targetSnapshot.root)).pipe(vi(null),kr(1))}),f_(()=>this.afterPreactivation()),cn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?We(c).pipe(ve(()=>r)):J(r)}),ve(s=>{let a=Y3(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=de(U({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ct(()=>{this.events.next(new il)}),eq(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),kr(1),ct({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),xm(this.transitionAbortSubject.pipe(ct(s=>{throw s}))),_s(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",_n.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),mi(s=>{if(this.destroyed)return r.resolve(!1),Qt;if(o=!0,cN(s))this.events.next(new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),X3(s)?this.events.next(new oa(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new rl(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof sl){let{message:u,cancellationCode:h}=If(this.urlSerializer,c);this.events.next(new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,h)),this.events.next(new oa(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Qt}))}))}cancelNavigationTransition(n,r,i){let o=new zr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gq(t){return t!==hf}var Kq=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>k(Qq),providedIn:"root"})}return t})(),U_=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Qq=(()=>{class t extends U_{static \u0275fac=(()=>{let n;return function(i){return(n||(n=js(t)))(i||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_N=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>k(Yq),providedIn:"root"})}return t})(),Yq=(()=>{class t extends _N{location=k(Qs);urlSerializer=k(ul);options=k(pl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=k(q_);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Wr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=rN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ia)this.stateMemento=this.createStateMemento();else if(n instanceof Ai)this.rawUrlTree=r.initialUrl;else if(n instanceof mf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof il?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof zr&&(n.code===_n.GuardRejected||n.code===_n.NoDataFromResolver)?this.restoreHistory(r):n instanceof rl?this.restoreHistory(r,!0):n instanceof Gr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Wr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=js(t)))(i||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wN(t,e){t.events.pipe(an(n=>n instanceof Gr||n instanceof zr||n instanceof rl||n instanceof Ai),ve(n=>n instanceof Gr||n instanceof Ai?0:(n instanceof zr?n.code===_n.Redirect||n.code===_n.SupersededByNewNavigation:!1)?2:1),an(n=>n!==2),kr(1)).subscribe(()=>{e()})}var Zq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ae=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=k(Fv);stateManager=k(_N);options=k(pl,{optional:!0})||{};pendingTasks=k(ar);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=k(z_);urlSerializer=k(ul);location=k(Qs);urlHandlingStrategy=k(q_);_events=new pt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=k(Kq);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=k(Cf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!k(Df,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ze;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof zr&&r.code!==_n.Redirect&&r.code!==_n.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gr)this.navigated=!0;else if(r instanceof oa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Gq(i.source)},s);this.scheduleNavigation(a,hf,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ez(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),hf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=U({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map($_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=XR(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return eN(p,n,h,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=tl(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,hf,null,r)}navigate(n,r={skipLocationChange:!1}){return Xq(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},Zq):r===!1?i=U({},Jq):i=r,tl(n))return PR(this.currentUrlTree,n,i);let o=this.parseUrl(n);return PR(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,m)=>{a=p,c=m});let h=this.pendingTasks.add();return wN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function ez(t){return!(t instanceof il)&&!(t instanceof oa)}var Tf=class{};var tz=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(an(n=>n instanceof Gr),yi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Wc(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return We(i).pipe(ys())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=J(null);let o=i.pipe(tt(s=>s===null?J(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return We([o,s]).pipe(ys())}else return o})}static \u0275fac=function(r){return new(r||t)(Q(ae),Q(Kh),Q(Mt),Q(Tf),Q(H_))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EN=new $(""),nz=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ia?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Gr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ai&&n.code===gf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof yf&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yf(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){_x()};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function rz(t){return t.routerState.root}function gl(t,e){return{\u0275kind:t,\u0275providers:e}}function iz(){let t=k(Ve);return e=>{let n=t.get(zt);if(e!==n.components[0])return;let r=t.get(ae),i=t.get(IN);t.get(W_)===1&&r.initialNavigation(),t.get(bN,null,le.Optional)?.setUpPreloading(),t.get(EN,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var IN=new $("",{factory:()=>new pt}),W_=new $("",{providedIn:"root",factory:()=>1});function oz(){return gl(2,[{provide:W_,useValue:0},{provide:$h,multi:!0,deps:[Ve],useFactory:e=>{let n=e.get(lR,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(ae),o=e.get(IN);wN(i,()=>{r(!0)}),e.get(z_).afterPreactivation=()=>(r(!0),o.closed?J(void 0):o),i.initialNavigation()}))}}])}function sz(){return gl(3,[{provide:$h,multi:!0,useFactory:()=>{let e=k(ae);return()=>{e.setUpLocationChangeListener()}}},{provide:W_,useValue:2}])}var bN=new $("");function az(t){return gl(0,[{provide:bN,useExisting:tz},{provide:Tf,useExisting:t}])}function cz(){return gl(8,[VR,{provide:Df,useExisting:VR}])}function lz(t){let e=[{provide:mN,useValue:zq},{provide:yN,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return gl(9,e)}var uz=[Qs,{provide:ul,useClass:ra},ae,hl,{provide:fr,useFactory:rz,deps:[ae]},H_,[]],G_=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[uz,[],{provide:Cf,multi:!0,useValue:n},[],r?.errorHandler?{provide:vN,useValue:r.errorHandler}:[],{provide:pl,useValue:r||{}},r?.useHash?hz():fz(),dz(),r?.preloadingStrategy?az(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?pz(r):[],r?.bindToComponentInputs?cz().\u0275providers:[],r?.enableViewTransitions?lz().\u0275providers:[],gz()]}}static forChild(n){return{ngModule:t,providers:[{provide:Cf,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=tn({type:t});static \u0275inj=en({})}return t})();function dz(){return{provide:EN,useFactory:()=>{let t=k(gR),e=k(me),n=k(pl),r=k(z_),i=k(ul);return n.scrollOffset&&t.setOffset(n.scrollOffset),new nz(i,r,t,e,n)}}}function hz(){return{provide:Io,useClass:dR}}function fz(){return{provide:Io,useClass:Zv}}function pz(t){return[t.initialNavigation==="disabled"?sz().\u0275providers:[],t.initialNavigation==="enabledBlocking"?oz().\u0275providers:[]]}var $R=new $("");function gz(){return[{provide:$R,useFactory:iz},{provide:_o,multi:!0,useExisting:$R}]}var CN=()=>{};var Q_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var B=function(t,e){if(!t)throw To(e)},To=function(t){return new Error("Firebase Database ("+Q_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var DN=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mz=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ua={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|u>>6,y=u&63;c||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new Y_;let m=o<<2|a>>4;if(r.push(m),u!==64){let y=a<<4&240|u>>2;if(r.push(y),p!==64){let T=u<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Y_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},J_=function(t){let e=DN(t);return ua.encodeByteArray(e,!0)},ml=function(t){return J_(t).replace(/\./g,"")},ca=function(t){try{return ua.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function SN(t){return AN(void 0,t)}function AN(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!yz(n)||(t[n]=AN(t[n],e[n]));return t}function yz(t){return t!=="__proto__"}function xN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var vz=()=>xN().__FIREBASE_DEFAULTS__,_z=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ca(t[1]);return e&&JSON.parse(e)},xf=()=>{try{return CN()||vz()||_z()||wz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},X_=t=>{var e,n;return(n=(e=xf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rf=t=>{let e=X_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ew=()=>{var t;return(t=xf())===null||t===void 0?void 0:t.config},tw=t=>{var e;return(e=xf())===null||e===void 0?void 0:e[`_${t}`]};var pr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Nf(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ml(JSON.stringify(n)),ml(JSON.stringify(s)),""].join(".")}function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function Ez(){var t;let e=(t=xf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NN(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Mf(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MN(){let t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gr(){return Q_.NODE_CLIENT===!0||Q_.NODE_ADMIN===!0}function kN(){return!Ez()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vl(){try{return typeof indexedDB=="object"}catch{return!1}}function PN(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var Iz="FirebaseError",wn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Iz,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wn.prototype.create)}},Wn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?bz(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wn(i,a,r)}};function bz(t,e){return t.replace(Cz,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Cz=/\{\$([^}]+)}/g;function la(t){return JSON.parse(t)}function vt(t){return JSON.stringify(t)}var ON=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=la(ca(o[0])||""),n=la(ca(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var LN=function(t){let e=ON(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},FN=function(t){let e=ON(t).claims;return typeof e=="object"&&e.admin===!0};function mr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Do(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function _l(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wl(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Nn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(TN(o)&&TN(s)){if(!Nn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function TN(t){return t!==null&&typeof t=="object"}function So(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function da(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ha(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Af=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){let m=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,h;for(let p=0;p<80;p++){p<40?p<20?(u=a^o&(s^a),h=1518500249):(u=o^s^a,h=1859775393):p<60?(u=o&s|a&(o|s),h=2400959708):(u=o^s^a,h=3395469782);let m=(i<<5|i>>>27)+u+c+h+r[p]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function VN(t,e){let n=new Z_(t,e);return n.subscribe.bind(n)}var Z_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Tz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=K_),i.error===void 0&&(i.error=K_),i.complete===void 0&&(i.complete=K_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Tz(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function K_(){}function UN(t,e){return`${t} failed: ${e} argument `}var jN=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,B(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},El=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var gie=4*60*60*1e3;function _t(t){return t&&t._delegate?t._delegate:t}var St=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ao="[DEFAULT]";var kf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new pr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sz(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Dz(t){return t===Ao?void 0:t}function Sz(t){return t.instantiationMode==="EAGER"}var Il=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new kf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Az=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),xz={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},Rz=ue.INFO,Nz={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},Mz=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Nz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mn=class{constructor(e){this.name=e,this._logLevel=Rz,this._logHandler=Mz,this._userLogHandler=null,Az.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var kz=(t,e)=>e.some(n=>t instanceof n),BN,$N;function Pz(){return BN||(BN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Oz(){return $N||($N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var HN=new WeakMap,rw=new WeakMap,qN=new WeakMap,nw=new WeakMap,ow=new WeakMap;function Lz(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(yr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&HN.set(n,t)}).catch(()=>{}),ow.set(e,t),e}function Fz(t){if(rw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});rw.set(t,e)}var iw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zN(t){iw=t(iw)}function Vz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Pf(this),e,...n);return qN.set(r,e.sort?e.sort():[e]),yr(r)}:Oz().includes(t)?function(...e){return t.apply(Pf(this),e),yr(HN.get(this))}:function(...e){return yr(t.apply(Pf(this),e))}}function Uz(t){return typeof t=="function"?Vz(t):(t instanceof IDBTransaction&&Fz(t),kz(t,Pz())?new Proxy(t,iw):t)}function yr(t){if(t instanceof IDBRequest)return Lz(t);if(nw.has(t))return nw.get(t);let e=Uz(t);return e!==t&&(nw.set(t,e),ow.set(e,t)),e}var Pf=t=>ow.get(t);function GN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=yr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(yr(s.result),c.oldVersion,c.newVersion,yr(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var jz=["get","getKey","getAll","getAllKeys","count"],Bz=["put","add","delete","clear"],sw=new Map;function WN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sw.get(e))return sw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Bz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jz.includes(n)))return;let o=function(s,...a){return C(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return sw.set(e,o),o}zN(t=>de(U({},t),{get:(e,n,r)=>WN(e,n)||t.get(e,n,r),has:(e,n)=>!!WN(e,n)||t.has(e,n)}));var cw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($z(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function $z(t){let e=t.getComponent();return e?.type==="VERSION"}var lw="@firebase/app",KN="0.11.3";var Kr=new Mn("@firebase/app"),Hz="@firebase/app-compat",qz="@firebase/analytics-compat",zz="@firebase/analytics",Wz="@firebase/app-check-compat",Gz="@firebase/app-check",Kz="@firebase/auth",Qz="@firebase/auth-compat",Yz="@firebase/database",Zz="@firebase/data-connect",Jz="@firebase/database-compat",Xz="@firebase/functions",eW="@firebase/functions-compat",tW="@firebase/installations",nW="@firebase/installations-compat",rW="@firebase/messaging",iW="@firebase/messaging-compat",oW="@firebase/performance",sW="@firebase/performance-compat",aW="@firebase/remote-config",cW="@firebase/remote-config-compat",lW="@firebase/storage",uW="@firebase/storage-compat",dW="@firebase/firestore",hW="@firebase/vertexai",fW="@firebase/firestore-compat",pW="firebase",gW="11.5.0";var uw="[DEFAULT]",mW={[lw]:"fire-core",[Hz]:"fire-core-compat",[zz]:"fire-analytics",[qz]:"fire-analytics-compat",[Gz]:"fire-app-check",[Wz]:"fire-app-check-compat",[Kz]:"fire-auth",[Qz]:"fire-auth-compat",[Yz]:"fire-rtdb",[Zz]:"fire-data-connect",[Jz]:"fire-rtdb-compat",[Xz]:"fire-fn",[eW]:"fire-fn-compat",[tW]:"fire-iid",[nW]:"fire-iid-compat",[rW]:"fire-fcm",[iW]:"fire-fcm-compat",[oW]:"fire-perf",[sW]:"fire-perf-compat",[aW]:"fire-rc",[cW]:"fire-rc-compat",[lW]:"fire-gcs",[uW]:"fire-gcs-compat",[dW]:"fire-fst",[fW]:"fire-fst-compat",[hW]:"fire-vertex","fire-js":"fire-js",[pW]:"fire-js-all"};var bl=new Map,yW=new Map,dw=new Map;function QN(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function En(t){let e=t.name;if(dw.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;dw.set(e,t);for(let n of bl.values())QN(n,t);for(let n of yW.values())QN(n,t);return!0}function Ni(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kt(t){return t==null?!1:t.settings!==void 0}var vW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new Wn("app","Firebase",vW);var hw=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}};var vr=gW;function Tl(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:uw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(n||(n=ew()),!n)throw Ri.create("no-options");let o=bl.get(i);if(o){if(Nn(n,o.options)&&Nn(r,o.config))return o;throw Ri.create("duplicate-app",{appName:i})}let s=new Il(i);for(let c of dw.values())s.addComponent(c);let a=new hw(n,r,s);return bl.set(i,a),a}function Qr(t=uw){let e=bl.get(t);if(!e&&t===uw&&ew())return Tl();if(!e)throw Ri.create("no-app",{appName:t});return e}function Of(){return Array.from(bl.values())}function Le(t,e,n){var r;let i=(r=mW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(a.join(" "));return}En(new St(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var _W="firebase-heartbeat-database",wW=1,Cl="firebase-heartbeat-store",aw=null;function XN(){return aw||(aw=GN(_W,wW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),aw}function EW(t){return C(this,null,function*(){try{let n=(yield XN()).transaction(Cl),r=yield n.objectStore(Cl).get(eM(t));return yield n.done,r}catch(e){if(e instanceof wn)Kr.warn(e.message);else{let n=Ri.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(n.message)}}})}function YN(t,e){return C(this,null,function*(){try{let r=(yield XN()).transaction(Cl,"readwrite");yield r.objectStore(Cl).put(e,eM(t)),yield r.done}catch(n){if(n instanceof wn)Kr.warn(n.message);else{let r=Ri.create("idb-set",{originalErrorMessage:n?.message});Kr.warn(r.message)}}})}function eM(t){return`${t.name}!${t.options.appId}`}var IW=1024,bW=30,fw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new pw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ZN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>bW){let s=TW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kr.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ZN(),{heartbeatsToSend:r,unsentEntries:i}=CW(this._heartbeatsCache.heartbeats),o=ml(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Kr.warn(n),""}})}};function ZN(){return new Date().toISOString().substring(0,10)}function CW(t,e=IW){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),JN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var pw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return vl()?PN().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield EW(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return YN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return YN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function JN(t){return ml(JSON.stringify({version:2,heartbeats:t})).length}function TW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function DW(t){En(new St("platform-logger",e=>new cw(e),"PRIVATE")),En(new St("heartbeat",e=>new fw(e),"PRIVATE")),Le(lw,KN,t),Le(lw,KN,"esm2017"),Le("fire-js","")}DW("");var SW="firebase",AW="11.5.0";Le(SW,AW,"app");function gw(t){t===void 0&&(_h(gw),t=k(Ve));let e=t.get(bh);return n=>new ge(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var _r=new Br("ANGULARFIRE2_VERSION");function Ro(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Mi=(t,e)=>{let n=e?[e]:Of(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},fa=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(fa||{}),tM=Hv()&&typeof Zone<"u"?fa.WARN:fa.SILENT;var Lf=class{zone;delegate;constructor(e,n=Im){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},wr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=k(me);this.outsideAngular=n.runOutsideAngular(()=>new Lf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Lf(typeof Zone>"u"?void 0:Zone.current,Em))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nM=!1;function xW(t,e){!nM&&(tM>fa.SILENT||Hv())&&(nM=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),tM>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function RW(t){let e=k(me,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function xo(t){let e=k(me,{optional:!0});return e?e.run(()=>t()):t()}var NW=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Tt(n,()=>xo(()=>t.apply(void 0,r)))),In=(t,e,n)=>(n||=e?fa.WARN:fa.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=k(wr),s=k(bh),a=k(Mt)}catch{return xW(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=xo(()=>s.add())),i[u]=NW(i[u],r,a));let c=RW(()=>t.apply(this,i));return e?c instanceof ge?c.pipe(gi(o.outsideAngular),pi(o.insideAngular),gw(a)):c instanceof Promise?xo(()=>new Promise((u,h)=>{s.run(()=>c).then(p=>Tt(a,()=>xo(()=>u(p))),p=>Tt(a,()=>xo(()=>h(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:xo(()=>c):c instanceof ge?c.pipe(gi(o.outsideAngular),pi(o.insideAngular)):xo(()=>c)});var Gn=class{constructor(e){return e}},Yr=class{constructor(){return Of()}};function MW(t){return t&&t.length===1?t[0]:new Gn(Qr())}var mw=new $("angularfire2._apps"),kW={provide:Gn,useFactory:MW,deps:[[new ht,mw]]},PW={provide:Yr,deps:[[new ht,mw]]};function OW(t){return(e,n)=>{let r=n.get(Di);Le("angularfire",_r.full,"core"),Le("angularfire",_r.full,"app"),Le("angular",Wx.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Gn(i)}}function rM(t,...e){return fn([kW,PW,{provide:mw,useFactory:OW(t),multi:!0,deps:[me,Ve,wr,...e]}])}var iM=In(Tl,!0);var LW=new Map,FW={activated:!1,tokenObservers:[]},VW={initialized:!1,enabled:!1};function Kn(t){return LW.get(t)||Object.assign({},FW)}function cM(){return VW}var UW="https://content-firebaseappcheck.googleapis.com/v1";var jW="exchangeDebugToken",oM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},woe=24*60*60*1e3;var _w=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return C(this,null,function*(){this.stop();try{this.pending=new pr,this.pending.promise.catch(n=>{}),yield BW(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new pr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function BW(t){return new Promise(e=>{setTimeout(e,t)})}var $W={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ki=new Wn("appCheck","AppCheck",$W);function lM(t){if(!Kn(t).activated)throw ki.create("use-before-activation",{appName:t.name})}function uM(r,i){return C(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(y){throw ki.create("fetch-network-error",{originalErrorMessage:y?.message})}if(c.status!==200)throw ki.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(y){throw ki.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ki.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:u.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function dM(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${UW}/projects/${n}/apps/${r}:${jW}?key=${i}`,body:{debug_token:e}}}var HW="firebase-app-check-database",qW=1,ww="firebase-app-check-store";var Ff=null;function zW(){return Ff||(Ff=new Promise((t,e)=>{try{let n=indexedDB.open(HW,qW);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ki.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ww,{keyPath:"compositeKey"})}}}catch(n){e(ki.create("storage-open",{originalErrorMessage:n?.message}))}}),Ff)}function WW(t,e){return GW(KW(t),e)}function GW(t,e){return C(this,null,function*(){let r=(yield zW()).transaction(ww,"readwrite"),o=r.objectStore(ww).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(ki.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function KW(t){return`${t.options.appId}-${t.name}`}var Dl=new Mn("@firebase/app-check");function yw(t,e){return vl()?WW(t,e).catch(n=>{Dl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function hM(){return cM().enabled}function fM(){return C(this,null,function*(){let t=cM();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var QW={error:"UNKNOWN_ERROR"};function YW(t){return ua.encodeString(JSON.stringify(t),!1)}function Ew(t,e=!1,n=!1){return C(this,null,function*(){let r=t.app;lM(r);let i=Kn(r),o=i.token,s;if(o&&!Sl(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(Sl(u)?o=u:yield yw(r,void 0))}if(!e&&o&&Sl(o))return{token:o.token};let a=!1;if(hM())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=uM(dM(r,yield fM()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield yw(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Dl.warn(u.message):n&&Dl.error(u),vw(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Kn(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Dl.warn(u.message):n&&Dl.error(u),s=u}let c;return o?s?Sl(o)?c={token:o.token,internalError:s}:c=vw(s):(c={token:o.token},i.token=o,yield yw(r,o)):c=vw(s),a&&e6(r,c),c})}function ZW(t){return C(this,null,function*(){let e=t.app;lM(e);let{provider:n}=Kn(e);if(hM()){let r=yield fM(),{token:i}=yield uM(dM(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function JW(t,e,n,r){let{app:i}=t,o=Kn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Sl(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),sM(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>sM(t))}function pM(t,e){let n=Kn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function sM(t){let{app:e}=t,n=Kn(e),r=n.tokenRefresher;r||(r=XW(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function XW(t){let{app:e}=t;return new _w(()=>C(this,null,function*(){let n=Kn(e),r;if(n.token?r=yield Ew(t,!0):r=yield Ew(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Kn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},oM.RETRIAL_MIN_WAIT,oM.RETRIAL_MAX_WAIT)}function e6(t,e){let n=Kn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Sl(t){return t.expireTimeMillis-Date.now()>0}function vw(t){return{token:YW(QW),error:t}}var Iw=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Kn(this.app);for(let n of e)pM(this.app,n.next);return Promise.resolve()}};function t6(t,e){return new Iw(t,e)}function n6(t){return{getToken:e=>Ew(t,e),getLimitedUseToken:()=>ZW(t),addTokenListener:e=>JW(t,"INTERNAL",e),removeTokenListener:e=>pM(t.app,e)}}var r6="@firebase/app-check",i6="0.8.13";var o6="app-check",aM="app-check-internal";function s6(){En(new St(o6,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return t6(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(aM).initialize()})),En(new St(aM,t=>{let e=t.getProvider("app-check").getImmediate();return n6(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Le(r6,i6)}s6();var a6="app-check";var Pi=class{constructor(){return Mi(a6)}};var c6=["localhost","0.0.0.0","127.0.0.1"],koe=typeof window<"u"&&c6.includes(window.location.hostname);function RM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var NM=RM,MM=new Wn("auth","Firebase",RM());var Hf=new Mn("@firebase/auth");function l6(t,...e){Hf.logLevel<=ue.WARN&&Hf.warn(`Auth (${vr}): ${t}`,...e)}function Uf(t,...e){Hf.logLevel<=ue.ERROR&&Hf.error(`Auth (${vr}): ${t}`,...e)}function Ir(t,...e){throw Gw(t,...e)}function No(t,...e){return Gw(t,...e)}function kM(t,e,n){let r=Object.assign(Object.assign({},NM()),{[e]:n});return new Wn("auth","Firebase",r).create(e,{appName:t.name})}function Xr(t){return kM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gw(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MM.create(t,...e)}function X(t,e,...n){if(!t)throw Gw(e,...n)}function Zr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Uf(e),new Error(e)}function Li(t,e){t||Zr(e)}function Dw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u6(){return gM()==="http:"||gM()==="https:"}function gM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function d6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u6()||NN()||"connection"in navigator)?navigator.onLine:!0}function h6(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Mo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=yl()||Mf()}get(){return d6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Kw(t,e){Li(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var qf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var f6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var p6=new Mo(3e4,6e4);function Fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Vi(o,s,a,c){return C(this,arguments,function*(t,e,n,r,i={}){return PM(t,i,()=>C(this,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let p=So(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},u);return RN()||(y.referrerPolicy="no-referrer"),qf.fetch()(OM(t,t.config.apiHost,n,p),y)}))})}function PM(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},f6),e);try{let i=new Sw(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Vf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vf(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Vf(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Vf(t,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw kM(t,h,u);Ir(t,h)}}catch(i){if(i instanceof wn)throw i;Ir(t,"network-request-failed",{message:String(i)})}})}function Ll(o,s,a,c){return C(this,arguments,function*(t,e,n,r,i={}){let u=yield Vi(t,e,n,r,i);return"mfaPendingCredential"in u&&Ir(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function OM(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Kw(t.config,i):`${t.config.apiScheme}://${i}`}function g6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Sw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(No(this.auth,"network-request-failed")),p6.get())})}};function Vf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=No(t,e,r);return i.customData._tokenResponse=n,i}function mM(t){return t!==void 0&&t.enterprise!==void 0}var Aw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return g6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function m6(t,e){return C(this,null,function*(){return Vi(t,"GET","/v2/recaptchaConfig",Fi(t,e))})}function y6(t,e){return C(this,null,function*(){return Vi(t,"POST","/v1/accounts:delete",e)})}function LM(t,e){return C(this,null,function*(){return Vi(t,"POST","/v1/accounts:lookup",e)})}function xl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qw(t,e=!1){return C(this,null,function*(){let n=_t(t),r=yield n.getIdToken(e),i=Yw(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:xl(bw(i.auth_time)),issuedAtTime:xl(bw(i.iat)),expirationTime:xl(bw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function bw(t){return Number(t)*1e3}function Yw(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{let i=ca(n);return i?JSON.parse(i):(Uf("Failed to decode base64 JWT payload"),null)}catch(i){return Uf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yM(t){let e=Yw(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Nl(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof wn&&v6(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function v6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var xw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ml=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function zf(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Nl(t,LM(n,{idToken:r}));X(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FM(o.providerUserInfo):[],a=_6(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,h=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ml(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Zw(t){return C(this,null,function*(){let e=_t(t);yield zf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function _6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FM(t){return t.map(e=>{var{providerId:n}=e,r=bm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function w6(t,e){return C(this,null,function*(){let n=yield PM(t,{},()=>C(this,null,function*(){let r=So({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=OM(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qf.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function E6(t,e){return C(this,null,function*(){return Vi(t,"POST","/v2/accounts:revokeToken",Fi(t,e))})}var Rl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");let n=yM(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield w6(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Zr("not implemented")}};function Oi(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var pa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=bm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ml(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield Nl(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Qw(this,e)}reload(){return Zw(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield zf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(kt(this.auth.app))return Promise.reject(Xr(this.auth));let e=yield this.getIdToken();return yield Nl(this,y6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,q=(u=n.createdAt)!==null&&u!==void 0?u:void 0,ie=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ce,emailVerified:Ke,isAnonymous:Xn,providerData:ft,stsTokenManager:A}=n;X(ce&&A,e,"internal-error");let E=Rl.fromJSON(this.name,A);X(typeof ce=="string",e,"internal-error"),Oi(p,e.name),Oi(m,e.name),X(typeof Ke=="boolean",e,"internal-error"),X(typeof Xn=="boolean",e,"internal-error"),Oi(y,e.name),Oi(T,e.name),Oi(M,e.name),Oi(P,e.name),Oi(q,e.name),Oi(ie,e.name);let b=new t({uid:ce,auth:e,email:m,emailVerified:Ke,displayName:p,isAnonymous:Xn,photoURL:T,phoneNumber:y,tenantId:M,stsTokenManager:E,createdAt:q,lastLoginAt:ie});return ft&&Array.isArray(ft)&&(b.providerData=ft.map(D=>Object.assign({},D))),P&&(b._redirectEventId=P),b}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new Rl;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zf(o),o})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];X(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?FM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Rl;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ml(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var vM=new Map;function Jr(t){Li(t instanceof Function,"Expected a class definition");let e=vM.get(t);return e?(Li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vM.set(t,e),e)}var I6=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Rw=I6;function jf(t,e,n){return`firebase:${t}:${e}:${n}`}var Wf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=jf(this.userKey,i.apiKey,o),this.fullPersistenceKey=jf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?pa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(Jr(Rw),e,r);let i=(yield Promise.all(n.map(u=>C(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Jr(Rw),s=jf(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let h=yield u._get(s);if(h){let p=pa._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>C(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,r))})}};function _M(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HM(e))return"Blackberry";if(qM(e))return"Webos";if(UM(e))return"Safari";if((e.includes("chrome/")||jM(e))&&!e.includes("edge/"))return"Chrome";if($M(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function VM(t=yt()){return/firefox\//i.test(t)}function UM(t=yt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jM(t=yt()){return/crios\//i.test(t)}function BM(t=yt()){return/iemobile/i.test(t)}function $M(t=yt()){return/android/i.test(t)}function HM(t=yt()){return/blackberry/i.test(t)}function qM(t=yt()){return/webos/i.test(t)}function Jw(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function b6(t=yt()){var e;return Jw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C6(){return MN()&&document.documentMode===10}function zM(t=yt()){return Jw(t)||$M(t)||qM(t)||HM(t)||/windows phone/i.test(t)||BM(t)}function WM(t,e=[]){let n;switch(t){case"Browser":n=_M(yt());break;case"Worker":n=`${_M(yt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vr}/${r}`}var Nw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function T6(n){return C(this,arguments,function*(t,e={}){return Vi(t,"GET","/v2/passwordPolicy",Fi(t,e))})}var D6=6,Mw=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:D6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var kw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gf(this),this.idTokenSubscription=new Gf(this),this.beforeStateQueue=new Nw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jr(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Wf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield LM(this,{idToken:e}),r=yield pa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(kt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield zf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=h6()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(kt(this.app))return Promise.reject(Xr(this));let n=e?_t(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return kt(this.app)?Promise.reject(Xr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return kt(this.app)?Promise.reject(Xr(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Jr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield T6(this),n=new Mw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield E6(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Jr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=yield Wf.create(this,[Jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;if(kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&l6(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Po(t){return _t(t)}var Gf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=VN(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ep={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S6(t){ep=t}function GM(t){return ep.loadJS(t)}function A6(){return ep.recaptchaEnterpriseScript}function x6(){return ep.gapiScript}function KM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Pw=class{constructor(){this.enterprise=new Ow}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Ow=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var R6="recaptcha-enterprise",QM="NO_RECAPTCHA",Lw=class{constructor(e){this.type=R6,this.auth=Po(e)}verify(e="verify",n=!1){return C(this,null,function*(){function r(o){return C(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>C(this,null,function*(){m6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Aw(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;mM(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(QM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Pw().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&mM(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=A6();c.length!==0&&(c+=a),GM(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Al(t,e,n,r=!1,i=!1){return C(this,null,function*(){let o=new Lw(t),s;if(i)s=QM;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Fw(t,e,n,r,i){return C(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Al(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>C(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Al(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Al(t,e,n);return r(t,a).catch(c=>C(this,null,function*(){var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Al(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)}))}else{let a=yield Al(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function Xw(t,e){let n=Ni(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Nn(o,e??{}))return i;Ir(i,"already-initialized")}return n.initialize({options:e})}function N6(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Jr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function eE(t,e,n){let r=Po(t);X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=YM(e),{host:s,port:a}=M6(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(Nn(u,r.config.emulator)&&Nn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,i||k6()}function YM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function M6(t){let e=YM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:wM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:wM(s)}}}function wM(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function k6(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var kl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}};function P6(t,e){return C(this,null,function*(){return Vi(t,"POST","/v1/accounts:signUp",e)})}function O6(t,e){return C(this,null,function*(){return Ll(t,"POST","/v1/accounts:signInWithPassword",Fi(t,e))})}function L6(t,e){return C(this,null,function*(){return Ll(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))})}function F6(t,e){return C(this,null,function*(){return Ll(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))})}var Pl=class t extends kl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fw(e,n,"signInWithPassword",O6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return L6(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}})}_linkToIdToken(e,n){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fw(e,r,"signUpPassword",P6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return F6(e,{idToken:n,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Cw(t,e){return C(this,null,function*(){return Ll(t,"POST","/v1/accounts:signInWithIdp",Fi(t,e))})}function V6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function U6(t){let e=da(ha(t)).link,n=e?da(ha(e)).deep_link_id:null,r=da(ha(t)).deep_link_id;return(r?da(ha(r)).link:null)||r||n||e||t}var Kf=class t{constructor(e){var n,r,i,o,s,a;let c=da(ha(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=V6((i=c.mode)!==null&&i!==void 0?i:null);X(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=U6(e);try{return new t(n)}catch{return null}}};var ZM=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Pl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Kf.parseLink(r);return X(i,"argument-error"),Pl._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Qf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vw=class extends Qf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function j6(t,e){return C(this,null,function*(){return Ll(t,"POST","/v1/accounts:signUp",Fi(t,e))})}var ga=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return C(this,null,function*(){let o=yield pa._fromIdTokenResponse(e,r,i),s=EM(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=EM(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function EM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Uw=class t extends wn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function JM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Uw._fromErrorAndOperation(t,o,e,r):o})}function B6(t,e,n=!1){return C(this,null,function*(){let r=yield Nl(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ga._forOperation(t,"link",r)})}function $6(t,e,n=!1){return C(this,null,function*(){let{auth:r}=t;if(kt(r.app))return Promise.reject(Xr(r));let i="reauthenticate";try{let o=yield Nl(t,JM(r,i,e,t),n);X(o.idToken,r,"internal-error");let s=Yw(o.idToken);X(s,r,"internal-error");let{sub:a}=s;return X(t.uid===a,r,"user-mismatch"),ga._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ir(r,"user-mismatch"),o}})}function XM(t,e,n=!1){return C(this,null,function*(){if(kt(t.app))return Promise.reject(Xr(t));let r="signIn",i=yield JM(t,r,e),o=yield ga._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function tE(t,e){return C(this,null,function*(){return XM(Po(t),e)})}function ek(t){return C(this,null,function*(){let e=Po(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function nE(t,e,n){return C(this,null,function*(){if(kt(t.app))return Promise.reject(Xr(t));let r=Po(t),s=yield Fw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j6,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&ek(t),c}),a=yield ga._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function rE(t,e,n){return kt(t.app)?Promise.reject(Xr(t)):tE(_t(t),ZM.credential(e,n)).catch(r=>C(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ek(t),r}))}function iE(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function oE(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}var Yf="__sak";var Zf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yf,"1"),this.storage.removeItem(Yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var H6=1e3,q6=10,z6=(()=>{class t extends Zf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);C6()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,q6):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},H6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return C(this,null,function*(){yield hi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return C(this,null,function*(){let r=yield hi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return C(this,null,function*(){yield hi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),tk=z6;var W6=(()=>{class t extends Zf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),sE=W6;function G6(t){return Promise.all(t.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var K6=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return C(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(h=>C(this,null,function*(){return h(r.origin,s)})),u=yield G6(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function nk(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var jw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=nk("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Er(){return window}function Q6(t){Er().location.href=t}function rk(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}function Y6(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Z6(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function J6(){return rk()?self:null}var ik="firebaseLocalStorageDb",X6=1,Jf="firebaseLocalStorage",ok="fbase_key",ko=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function tp(t,e){return t.transaction([Jf],e?"readwrite":"readonly").objectStore(Jf)}function eG(){let t=indexedDB.deleteDatabase(ik);return new ko(t).toPromise()}function Bw(){let t=indexedDB.open(ik,X6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Jf,{keyPath:ok})}catch(i){n(i)}}),t.addEventListener("success",()=>C(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Jf)?e(r):(r.close(),yield eG(),e(yield Bw()))}))})}function IM(t,e,n){return C(this,null,function*(){let r=tp(t,!0).put({[ok]:e,value:n});return new ko(r).toPromise()})}function tG(t,e){return C(this,null,function*(){let n=tp(t,!1).get(e),r=yield new ko(n).toPromise();return r===void 0?null:r.value})}function bM(t,e){let n=tp(t,!0).delete(e);return new ko(n).toPromise()}var nG=800,rG=3,iG=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield Bw(),this.db)})}_withRetries(n){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>rG)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return rk()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=K6._getInstance(J6()),this.receiver._subscribe("keyChanged",(n,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Y6(),!this.activeServiceWorker)return;this.sender=new jw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Z6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Bw();return yield IM(n,Yf,"1"),yield bM(n,Yf),!0}catch{}return!1})}_withPendingWrite(n){return C(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>IM(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return C(this,null,function*(){let r=yield this._withRetries(i=>tG(i,n));return this.localCache[n]=r,r})}_remove(n){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>bM(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return C(this,null,function*(){let n=yield this._withRetries(o=>{let s=tp(o,!1).getAll();return new ko(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),nG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),sk=iG;var Boe=KM("rcb"),$oe=new Mo(3e4,6e4);function oG(t,e){return e?Jr(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ol=class extends kl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function sG(t){return XM(t.auth,new Ol(t),t.bypassAuthState)}function aG(t){let{auth:e,user:n}=t;return X(n,e,"internal-error"),$6(n,new Ol(t),t.bypassAuthState)}function cG(t){return C(this,null,function*(){let{auth:e,user:n}=t;return X(n,e,"internal-error"),B6(n,new Ol(t),t.bypassAuthState)})}var $w=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sG;case"linkViaPopup":case"linkViaRedirect":return cG;case"reauthViaPopup":case"reauthViaRedirect":return aG;default:Ir(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Hoe=new Mo(2e3,1e4);var lG="pendingRedirect",Bf=new Map,Hw=class t extends $w{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=Bf.get(this.auth._key());if(!e){try{let r=(yield uG(this.resolver,this.auth))?yield hi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return hi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,hi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function uG(t,e){return C(this,null,function*(){let n=fG(e),r=hG(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function dG(t,e){Bf.set(t._key(),e)}function hG(t){return Jr(t._redirectPersistence)}function fG(t){return jf(lG,t.config.apiKey,t.name)}function pG(t,e,n=!1){return C(this,null,function*(){if(kt(t.app))return Promise.reject(Xr(t));let r=Po(t),i=oG(r,e),s=yield new Hw(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var gG=10*60*1e3,qw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ak(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(No(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gG&&this.cachedEventUids.clear(),this.cachedEventUids.has(CM(e))}saveEventToCache(e){this.cachedEventUids.add(CM(e)),this.lastProcessedEventTime=Date.now()}};function CM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ak({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ak(t);default:return!1}}function yG(n){return C(this,arguments,function*(t,e={}){return Vi(t,"GET","/v1/projects",e)})}var vG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_G=/^https?/;function wG(t){return C(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield yG(t);for(let n of e)try{if(EG(n))return}catch{}Ir(t,"unauthorized-domain")})}function EG(t){let e=Dw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!_G.test(n))return!1;if(vG.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var IG=new Mo(3e4,6e4);function TM(){let t=Er().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bG(t){return new Promise((e,n)=>{var r,i,o;function s(){TM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TM(),n(No(t,"network-request-failed"))},timeout:IG.get()})}if(!((i=(r=Er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Er().gapi)===null||o===void 0)&&o.load)s();else{let a=KM("iframefcb");return Er()[a]=()=>{gapi.load?s():n(No(t,"network-request-failed"))},GM(`${x6()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw $f=null,e})}var $f=null;function CG(t){return $f=$f||bG(t),$f}var TG=new Mo(5e3,15e3),DG="__/auth/iframe",SG="emulator/auth/iframe",AG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RG(t){let e=t.config;X(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Kw(e,SG):`https://${t.config.authDomain}/${DG}`,r={apiKey:e.apiKey,appName:t.name,v:vr},i=xG.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${So(r).slice(1)}`}function NG(t){return C(this,null,function*(){let e=yield CG(t),n=Er().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:RG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AG,dontclear:!0},r=>new Promise((i,o)=>C(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=No(t,"network-request-failed"),a=Er().setTimeout(()=>{o(s)},TG.get());function c(){Er().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var MG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kG=500,PG=600,OG="_blank",LG="http://localhost",Xf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function FG(t,e,n,r=kG,i=PG){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},MG),{width:r.toString(),height:i.toString(),top:o,left:s}),u=yt().toLowerCase();n&&(a=jM(u)?OG:n),VM(u)&&(e=e||LG,c.scrollbars="yes");let h=Object.entries(c).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(b6(u)&&a!=="_self")return VG(e||"",a),new Xf(null);let p=window.open(e||"",a,h);X(p,t,"popup-blocked");try{p.focus()}catch{}return new Xf(p)}function VG(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var UG="__/auth/handler",jG="emulator/auth/handler",BG=encodeURIComponent("fac");function DM(t,e,n,r,i,o){return C(this,null,function*(){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vr,eventId:i};if(e instanceof Qf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",_l(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Vw){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield t._getAppCheckToken(),u=c?`#${BG}=${encodeURIComponent(c)}`:"";return`${$G(t)}?${So(a).slice(1)}${u}`})}function $G({config:t}){return t.emulator?Kw(t,jG):`https://${t.authDomain}/${UG}`}var Tw="webStorageSupport",zw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=pG,this._overrideRedirectResult=dG}_openPopup(e,n,r,i){return C(this,null,function*(){var o;Li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield DM(e,n,r,Dw(),i);return FG(e,s,nk())})}_openRedirect(e,n,r,i){return C(this,null,function*(){yield this._originValidation(e);let o=yield DM(e,n,r,Dw(),i);return Q6(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Li(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return C(this,null,function*(){let n=yield NG(e),r=new qw(e);return n.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tw,{type:Tw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Tw];s!==void 0&&n(!!s),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zM()||UM()||Jw()}},ck=zw;var SM="@firebase/auth",AM="1.9.1";var Ww=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function HG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qG(t){En(new St("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WM(t)},u=new kw(r,i,o,c);return N6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),En(new St("auth-internal",e=>{let n=Po(e.getProvider("auth").getImmediate());return(r=>new Ww(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(SM,AM,HG(t)),Le(SM,AM,"esm2017")}var zG=5*60,WG=tw("authIdTokenMaxAge")||zG,xM=null,GG=t=>e=>C(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WG)return;let i=n?.token;xM!==i&&(xM=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function aE(t=Qr()){let e=Ni(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Xw(t,{popupRedirectResolver:ck,persistence:[sk,tk,sE]}),r=tw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=GG(o.toString());oE(n,s,()=>s(n.currentUser)),iE(n,a=>s(a))}}let i=X_("auth");return i&&eE(n,`http://${i}`),n}function KG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}S6({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=No("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",KG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qG("Browser");var lk="auth",Oo=class{constructor(e){return e}},Lo=class{constructor(){return Mi(lk)}};var cE=new $("angularfire2.auth-instances");function V5(t,e){let n=Ro(lk,t,e);return n&&new Oo(n)}function U5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Oo(r)}}var j5={provide:Lo,deps:[[new ht,cE]]},B5={provide:Oo,useFactory:V5,deps:[[new ht,cE],Gn]};function uk(t,...e){return Le("angularfire",_r.full,"auth"),fn([B5,j5,{provide:cE,useFactory:U5(t),multi:!0,deps:[me,Ve,wr,Yr,[new ht,Pi],...e]}])}var dk=In(nE,!0,2);var np=In(aE,!0);var hk=In(rE,!0,2);var wk=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(z(mo),z(Ti))};static \u0275dir=mn({type:t})}return t})(),Ek=(()=>{class t extends wk{static \u0275fac=(()=>{let n;return function(i){return(n||(n=js(t)))(i||t)}})();static \u0275dir=mn({type:t,features:[yo]})}return t})(),fE=new $("");var H5={provide:fE,useExisting:Fs(()=>kn),multi:!0};function q5(){let t=dr()?dr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var z5=new $(""),kn=(()=>{class t extends wk{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!q5())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(z(mo),z(Ti),z(z5,8))};static \u0275dir=mn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&F("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[zh([H5]),yo]})}return t})();var W5=new $(""),G5=new $("");function Ik(t){return t!=null}function bk(t){return vo(t)?We(t):t}function Ck(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function Tk(t,e){return e.map(n=>n(t))}function K5(t){return!t.validate}function Dk(t){return t.map(e=>K5(e)?e:n=>e.validate(n))}function Q5(t){if(!t)return null;let e=t.filter(Ik);return e.length==0?null:function(n){return Ck(Tk(n,e))}}function Sk(t){return t!=null?Q5(Dk(t)):null}function Y5(t){if(!t)return null;let e=t.filter(Ik);return e.length==0?null:function(n){let r=Tk(n,e).map(bk);return Tm(r).pipe(ve(Ck))}}function Ak(t){return t!=null?Y5(Dk(t)):null}function fk(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Z5(t){return t._rawValidators}function J5(t){return t._rawAsyncValidators}function lE(t){return t?Array.isArray(t)?t:[t]:[]}function ip(t,e){return Array.isArray(t)?t.includes(e):t===e}function pk(t,e){let n=lE(e);return lE(t).forEach(i=>{ip(n,i)||n.push(i)}),n}function gk(t,e){return lE(e).filter(n=>!ip(t,n))}var op=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ak(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},uE=class extends op{name;get formDirective(){return null}get path(){return null}},Bl=class extends op{_parent=null;name=null;valueAccessor=null},dE=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},X5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qse=de(U({},X5),{"[class.ng-submitted]":"isSubmitted"}),br=(()=>{class t extends dE{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(z(Bl,2))};static \u0275dir=mn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&jv("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[yo]})}return t})();var Fl="VALID",rp="INVALID",ma="PENDING",Vl="DISABLED",va=class{},sp=class extends va{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ul=class extends va{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},jl=class extends va{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ya=class extends va{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function e8(t){return(ap(t)?t.validators:t)||null}function t8(t){return Array.isArray(t)?Sk(t):t||null}function n8(t,e){return(ap(e)?e.asyncValidators:t)||null}function r8(t){return Array.isArray(t)?Ak(t):t||null}function ap(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var hE=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Hr(this.statusReactive)}set status(e){Hr(()=>this.statusReactive.set(e))}_status=Ks(()=>this.statusReactive());statusReactive=$s(void 0);get valid(){return this.status===Fl}get invalid(){return this.status===rp}get pending(){return this.status==ma}get disabled(){return this.status===Vl}get enabled(){return this.status!==Vl}errors;get pristine(){return Hr(this.pristineReactive)}set pristine(e){Hr(()=>this.pristineReactive.set(e))}_pristine=Ks(()=>this.pristineReactive());pristineReactive=$s(!0);get dirty(){return!this.pristine}get touched(){return Hr(this.touchedReactive)}set touched(e){Hr(()=>this.touchedReactive.set(e))}_touched=Ks(()=>this.touchedReactive());touchedReactive=$s(!1);get untouched(){return!this.touched}_events=new pt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gk(e,this._rawAsyncValidators))}hasValidator(e){return ip(this._rawValidators,e)}hasAsyncValidator(e){return ip(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(de(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new jl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new jl(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(de(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ul(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ul(!0,r))}markAsPending(e={}){this.status=ma;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ya(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(de(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Vl,this.errors=null,this._forEachChild(i=>{i.disable(de(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sp(this.value,r)),this._events.next(new ya(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fl,this._forEachChild(r=>{r.enable(de(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(de(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fl||this.status===ma)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sp(this.value,n)),this._events.next(new ya(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(de(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vl:Fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ma,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=bk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ya(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new lt,this.statusChanges=new lt}_calculateStatus(){return this._allControlsDisabled()?Vl:this.errors?rp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ma)?ma:this._anyControlsHaveStatus(rp)?rp:Fl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ul(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new jl(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ap(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=t8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=r8(this._rawAsyncValidators)}};var xk=new $("",{providedIn:"root",factory:()=>pE}),pE="always";function i8(t,e){return[...e.path,t]}function o8(t,e,n=pE){a8(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),c8(t,e),u8(t,e),l8(t,e),s8(t,e)}function mk(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function s8(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function a8(t,e){let n=Z5(t);e.validator!==null?t.setValidators(fk(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=J5(t);e.asyncValidator!==null?t.setAsyncValidators(fk(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();mk(e._rawValidators,i),mk(e._rawAsyncValidators,i)}function c8(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Rk(t,e)})}function l8(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Rk(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Rk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function u8(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function d8(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function h8(t){return Object.getPrototypeOf(t.constructor)===Ek}function f8(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===kn?n=o:h8(o)?r=o:i=o}),i||r||n||null}function yk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vk(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var p8=class extends hE{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(e8(n),n8(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ap(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var g8={provide:Bl,useExisting:Fs(()=>Qn)},_k=Promise.resolve(),Qn=(()=>{class t extends Bl{_changeDetectorRef;callSetDisabledState;control=new p8;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new lt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=f8(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),d8(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){o8(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){_k.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Qh(r);_k.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?i8(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(z(uE,9),z(W5,10),z(G5,10),z(fE,10),z(Eo,8),z(xk,8))};static \u0275dir=mn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[zh([g8]),yo,Fc]})}return t})();var m8={provide:fE,useExisting:Fs(()=>gE),multi:!0},gE=(()=>{class t extends Ek{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=js(t)))(i||t)}})();static \u0275dir=mn({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&F("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[zh([m8]),yo]})}return t})();var y8=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=tn({type:t});static \u0275inj=en({})}return t})();var Nk=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xk,useValue:n.callSetDisabledState??pE}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=tn({type:t});static \u0275inj=en({imports:[y8]})}return t})();var cp=class t{constructor(e){this.router=e}email="";password="";navigateToRegister(){this.router.navigate(["/register"])}login(){let e=np();hk(e,this.email,this.password).then(n=>{let r=n.user;console.log("User logged in:",r),this.router.navigate([""])}).catch(n=>{let r=n.code,i=n.message;alert("Error: "+i)})}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-login"]],standalone:!1,decls:20,vars:2,consts:[["rel","preload","as","image","href",FA`https://res.cloudinary.com/dkt1t22qc/image/upload/v1742357451/Prestataires_Documents/cynbxx4vxvgv2wrpakiq.jpg`],[1,"bg-no-repeat","bg-cover",2,"background-image","url(assets/wallpaper-pixel2.jpg)"],[1,"flex","h-screen","items-center","justify-center"],[1,"flex","flex-col","items-center","space-y-8"],[1,"w-80","rounded-[20px]","bg-white","p-8",2,"box-shadow","#00000057 1px 3px 4px"],[1,"mb-4","text-center","text-3xl","font-bold","text-black",2,"text-shadow","#00000063 0px 3px 5px"],[1,"space-y-4"],["type","email","placeholder","Email address","name","email",1,"w-full","rounded-md","bg-[#E9EFF6]","p-2.5","placeholder:text-[#000000]",2,"box-shadow","rgb(0 0 0 / 21%) 0px 7px 5px 0px",3,"ngModelChange","ngModel"],["type","password","placeholder","Password","name","password",1,"w-full","rounded-md","bg-[#E9EFF6]","p-2.5","placeholder:text-[#000000]",2,"box-shadow","rgb(0 0 0 / 21%) 0px 7px 5px 0px",3,"ngModelChange","ngModel"],[1,"mb-4","pt-2"],[1,"ml-2","cursor-pointer","text-[10px]","text-[#228CE0]","hover:underline"],[1,"mb-4","flex","justify-center"],[1,"h-10","w-full","cursor-pointer","rounded-md","bg-gradient-to-br","from-[#1980e6]","to-[#3269FF]","text-white","shadow-md","shadow-blue-950",3,"click"],[1,"text-center","text-[#969696]"],[1,"cursor-pointer","text-[#7337FF]","hover:underline","bg-transparent","border-none",3,"click"]],template:function(n,r){n&1&&(K(0,"link",0),v(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),_(6," Welcome Back ! "),w(),v(7,"div",6)(8,"input",7),Gt("ngModelChange",function(o){return nn(r.email,o)||(r.email=o),o}),w(),v(9,"input",8),Gt("ngModelChange",function(o){return nn(r.password,o)||(r.password=o),o}),w()(),v(10,"div",9)(11,"span",10),_(12,"Forget Password?"),w()(),v(13,"div",11)(14,"button",12),F("click",function(){return r.login()}),_(15," Sign In "),w()(),v(16,"div",13),_(17," Don't have an account? "),v(18,"button",14),F("click",function(){return r.navigateToRegister()}),_(19," Sign up "),w()()()()()()),n&2&&(j(8),Wt("ngModel",r.email),j(),Wt("ngModel",r.password))},dependencies:[kn,br,Qn],encapsulation:2})};var Mk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kk={};var lp,Pk;(function(){var t;function e(A,E){function b(){}b.prototype=E.prototype,A.D=E.prototype,A.prototype=new b,A.prototype.constructor=A,A.C=function(D,S,R){for(var I=Array(arguments.length-2),Ar=2;Ar<arguments.length;Ar++)I[Ar-2]=arguments[Ar];return E.prototype[S].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,E,b){b||(b=0);var D=Array(16);if(typeof E=="string")for(var S=0;16>S;++S)D[S]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(S=0;16>S;++S)D[S]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=A.g[0],b=A.g[1],S=A.g[2];var R=A.g[3],I=E+(R^b&(S^R))+D[0]+3614090360&4294967295;E=b+(I<<7&4294967295|I>>>25),I=R+(S^E&(b^S))+D[1]+3905402710&4294967295,R=E+(I<<12&4294967295|I>>>20),I=S+(b^R&(E^b))+D[2]+606105819&4294967295,S=R+(I<<17&4294967295|I>>>15),I=b+(E^S&(R^E))+D[3]+3250441966&4294967295,b=S+(I<<22&4294967295|I>>>10),I=E+(R^b&(S^R))+D[4]+4118548399&4294967295,E=b+(I<<7&4294967295|I>>>25),I=R+(S^E&(b^S))+D[5]+1200080426&4294967295,R=E+(I<<12&4294967295|I>>>20),I=S+(b^R&(E^b))+D[6]+2821735955&4294967295,S=R+(I<<17&4294967295|I>>>15),I=b+(E^S&(R^E))+D[7]+4249261313&4294967295,b=S+(I<<22&4294967295|I>>>10),I=E+(R^b&(S^R))+D[8]+1770035416&4294967295,E=b+(I<<7&4294967295|I>>>25),I=R+(S^E&(b^S))+D[9]+2336552879&4294967295,R=E+(I<<12&4294967295|I>>>20),I=S+(b^R&(E^b))+D[10]+4294925233&4294967295,S=R+(I<<17&4294967295|I>>>15),I=b+(E^S&(R^E))+D[11]+2304563134&4294967295,b=S+(I<<22&4294967295|I>>>10),I=E+(R^b&(S^R))+D[12]+1804603682&4294967295,E=b+(I<<7&4294967295|I>>>25),I=R+(S^E&(b^S))+D[13]+4254626195&4294967295,R=E+(I<<12&4294967295|I>>>20),I=S+(b^R&(E^b))+D[14]+2792965006&4294967295,S=R+(I<<17&4294967295|I>>>15),I=b+(E^S&(R^E))+D[15]+1236535329&4294967295,b=S+(I<<22&4294967295|I>>>10),I=E+(S^R&(b^S))+D[1]+4129170786&4294967295,E=b+(I<<5&4294967295|I>>>27),I=R+(b^S&(E^b))+D[6]+3225465664&4294967295,R=E+(I<<9&4294967295|I>>>23),I=S+(E^b&(R^E))+D[11]+643717713&4294967295,S=R+(I<<14&4294967295|I>>>18),I=b+(R^E&(S^R))+D[0]+3921069994&4294967295,b=S+(I<<20&4294967295|I>>>12),I=E+(S^R&(b^S))+D[5]+3593408605&4294967295,E=b+(I<<5&4294967295|I>>>27),I=R+(b^S&(E^b))+D[10]+38016083&4294967295,R=E+(I<<9&4294967295|I>>>23),I=S+(E^b&(R^E))+D[15]+3634488961&4294967295,S=R+(I<<14&4294967295|I>>>18),I=b+(R^E&(S^R))+D[4]+3889429448&4294967295,b=S+(I<<20&4294967295|I>>>12),I=E+(S^R&(b^S))+D[9]+568446438&4294967295,E=b+(I<<5&4294967295|I>>>27),I=R+(b^S&(E^b))+D[14]+3275163606&4294967295,R=E+(I<<9&4294967295|I>>>23),I=S+(E^b&(R^E))+D[3]+4107603335&4294967295,S=R+(I<<14&4294967295|I>>>18),I=b+(R^E&(S^R))+D[8]+1163531501&4294967295,b=S+(I<<20&4294967295|I>>>12),I=E+(S^R&(b^S))+D[13]+2850285829&4294967295,E=b+(I<<5&4294967295|I>>>27),I=R+(b^S&(E^b))+D[2]+4243563512&4294967295,R=E+(I<<9&4294967295|I>>>23),I=S+(E^b&(R^E))+D[7]+1735328473&4294967295,S=R+(I<<14&4294967295|I>>>18),I=b+(R^E&(S^R))+D[12]+2368359562&4294967295,b=S+(I<<20&4294967295|I>>>12),I=E+(b^S^R)+D[5]+4294588738&4294967295,E=b+(I<<4&4294967295|I>>>28),I=R+(E^b^S)+D[8]+2272392833&4294967295,R=E+(I<<11&4294967295|I>>>21),I=S+(R^E^b)+D[11]+1839030562&4294967295,S=R+(I<<16&4294967295|I>>>16),I=b+(S^R^E)+D[14]+4259657740&4294967295,b=S+(I<<23&4294967295|I>>>9),I=E+(b^S^R)+D[1]+2763975236&4294967295,E=b+(I<<4&4294967295|I>>>28),I=R+(E^b^S)+D[4]+1272893353&4294967295,R=E+(I<<11&4294967295|I>>>21),I=S+(R^E^b)+D[7]+4139469664&4294967295,S=R+(I<<16&4294967295|I>>>16),I=b+(S^R^E)+D[10]+3200236656&4294967295,b=S+(I<<23&4294967295|I>>>9),I=E+(b^S^R)+D[13]+681279174&4294967295,E=b+(I<<4&4294967295|I>>>28),I=R+(E^b^S)+D[0]+3936430074&4294967295,R=E+(I<<11&4294967295|I>>>21),I=S+(R^E^b)+D[3]+3572445317&4294967295,S=R+(I<<16&4294967295|I>>>16),I=b+(S^R^E)+D[6]+76029189&4294967295,b=S+(I<<23&4294967295|I>>>9),I=E+(b^S^R)+D[9]+3654602809&4294967295,E=b+(I<<4&4294967295|I>>>28),I=R+(E^b^S)+D[12]+3873151461&4294967295,R=E+(I<<11&4294967295|I>>>21),I=S+(R^E^b)+D[15]+530742520&4294967295,S=R+(I<<16&4294967295|I>>>16),I=b+(S^R^E)+D[2]+3299628645&4294967295,b=S+(I<<23&4294967295|I>>>9),I=E+(S^(b|~R))+D[0]+4096336452&4294967295,E=b+(I<<6&4294967295|I>>>26),I=R+(b^(E|~S))+D[7]+1126891415&4294967295,R=E+(I<<10&4294967295|I>>>22),I=S+(E^(R|~b))+D[14]+2878612391&4294967295,S=R+(I<<15&4294967295|I>>>17),I=b+(R^(S|~E))+D[5]+4237533241&4294967295,b=S+(I<<21&4294967295|I>>>11),I=E+(S^(b|~R))+D[12]+1700485571&4294967295,E=b+(I<<6&4294967295|I>>>26),I=R+(b^(E|~S))+D[3]+2399980690&4294967295,R=E+(I<<10&4294967295|I>>>22),I=S+(E^(R|~b))+D[10]+4293915773&4294967295,S=R+(I<<15&4294967295|I>>>17),I=b+(R^(S|~E))+D[1]+2240044497&4294967295,b=S+(I<<21&4294967295|I>>>11),I=E+(S^(b|~R))+D[8]+1873313359&4294967295,E=b+(I<<6&4294967295|I>>>26),I=R+(b^(E|~S))+D[15]+4264355552&4294967295,R=E+(I<<10&4294967295|I>>>22),I=S+(E^(R|~b))+D[6]+2734768916&4294967295,S=R+(I<<15&4294967295|I>>>17),I=b+(R^(S|~E))+D[13]+1309151649&4294967295,b=S+(I<<21&4294967295|I>>>11),I=E+(S^(b|~R))+D[4]+4149444226&4294967295,E=b+(I<<6&4294967295|I>>>26),I=R+(b^(E|~S))+D[11]+3174756917&4294967295,R=E+(I<<10&4294967295|I>>>22),I=S+(E^(R|~b))+D[2]+718787259&4294967295,S=R+(I<<15&4294967295|I>>>17),I=b+(R^(S|~E))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(S+(I<<21&4294967295|I>>>11))&4294967295,A.g[2]=A.g[2]+S&4294967295,A.g[3]=A.g[3]+R&4294967295}r.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var b=E-this.blockSize,D=this.B,S=this.h,R=0;R<E;){if(S==0)for(;R<=b;)i(this,A,R),R+=this.blockSize;if(typeof A=="string"){for(;R<E;)if(D[S++]=A.charCodeAt(R++),S==this.blockSize){i(this,D),S=0;break}}else for(;R<E;)if(D[S++]=A[R++],S==this.blockSize){i(this,D),S=0;break}}this.h=S,this.o+=E},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var b=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=b&255,b/=256;for(this.u(A),A=Array(16),E=b=0;4>E;++E)for(var D=0;32>D;D+=8)A[b++]=this.g[E]>>>D&255;return A};function o(A,E){var b=a;return Object.prototype.hasOwnProperty.call(b,A)?b[A]:b[A]=E(A)}function s(A,E){this.h=E;for(var b=[],D=!0,S=A.length-1;0<=S;S--){var R=A[S]|0;D&&R==E||(b[S]=R,D=!1)}this.g=b}var a={};function c(A){return-128<=A&&128>A?o(A,function(E){return new s([E|0],0>E?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return P(u(-A));for(var E=[],b=1,D=0;A>=b;D++)E[D]=A/b|0,b*=4294967296;return new s(E,0)}function h(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return P(h(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(E,8)),D=p,S=0;S<A.length;S+=8){var R=Math.min(8,A.length-S),I=parseInt(A.substring(S,S+R),E);8>R?(R=u(Math.pow(E,R)),D=D.j(R).add(u(I))):(D=D.j(b),D=D.add(u(I)))}return D}var p=c(0),m=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(M(this))return-P(this).m();for(var A=0,E=1,b=0;b<this.g.length;b++){var D=this.i(b);A+=(0<=D?D:4294967296+D)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(M(this))return"-"+P(this).toString(A);for(var E=u(Math.pow(A,6)),b=this,D="";;){var S=Ke(b,E).g;b=q(b,S.j(E));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(A);if(b=S,T(b))return R+D;for(;6>R.length;)R="0"+R;D=R+D}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function M(A){return A.h==-1}t.l=function(A){return A=q(this,A),M(A)?-1:T(A)?0:1};function P(A){for(var E=A.g.length,b=[],D=0;D<E;D++)b[D]=~A.g[D];return new s(b,~A.h).add(m)}t.abs=function(){return M(this)?P(this):this},t.add=function(A){for(var E=Math.max(this.g.length,A.g.length),b=[],D=0,S=0;S<=E;S++){var R=D+(this.i(S)&65535)+(A.i(S)&65535),I=(R>>>16)+(this.i(S)>>>16)+(A.i(S)>>>16);D=I>>>16,R&=65535,I&=65535,b[S]=I<<16|R}return new s(b,b[b.length-1]&-2147483648?-1:0)};function q(A,E){return A.add(P(E))}t.j=function(A){if(T(this)||T(A))return p;if(M(this))return M(A)?P(this).j(P(A)):P(P(this).j(A));if(M(A))return P(this.j(P(A)));if(0>this.l(y)&&0>A.l(y))return u(this.m()*A.m());for(var E=this.g.length+A.g.length,b=[],D=0;D<2*E;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var S=0;S<A.g.length;S++){var R=this.i(D)>>>16,I=this.i(D)&65535,Ar=A.i(S)>>>16,Ja=A.i(S)&65535;b[2*D+2*S]+=I*Ja,ie(b,2*D+2*S),b[2*D+2*S+1]+=R*Ja,ie(b,2*D+2*S+1),b[2*D+2*S+1]+=I*Ar,ie(b,2*D+2*S+1),b[2*D+2*S+2]+=R*Ar,ie(b,2*D+2*S+2)}for(D=0;D<E;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=E;D<2*E;D++)b[D]=0;return new s(b,0)};function ie(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function ce(A,E){this.g=A,this.h=E}function Ke(A,E){if(T(E))throw Error("division by zero");if(T(A))return new ce(p,p);if(M(A))return E=Ke(P(A),E),new ce(P(E.g),P(E.h));if(M(E))return E=Ke(A,P(E)),new ce(P(E.g),E.h);if(30<A.g.length){if(M(A)||M(E))throw Error("slowDivide_ only works with positive integers.");for(var b=m,D=E;0>=D.l(A);)b=Xn(b),D=Xn(D);var S=ft(b,1),R=ft(D,1);for(D=ft(D,2),b=ft(b,2);!T(D);){var I=R.add(D);0>=I.l(A)&&(S=S.add(b),R=I),D=ft(D,1),b=ft(b,1)}return E=q(A,S.j(E)),new ce(S,E)}for(S=p;0<=A.l(E);){for(b=Math.max(1,Math.floor(A.m()/E.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),R=u(b),I=R.j(E);M(I)||0<I.l(A);)b-=D,R=u(b),I=R.j(E);T(R)&&(R=m),S=S.add(R),A=q(A,I)}return new ce(S,A)}t.A=function(A){return Ke(this,A).h},t.and=function(A){for(var E=Math.max(this.g.length,A.g.length),b=[],D=0;D<E;D++)b[D]=this.i(D)&A.i(D);return new s(b,this.h&A.h)},t.or=function(A){for(var E=Math.max(this.g.length,A.g.length),b=[],D=0;D<E;D++)b[D]=this.i(D)|A.i(D);return new s(b,this.h|A.h)},t.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),b=[],D=0;D<E;D++)b[D]=this.i(D)^A.i(D);return new s(b,this.h^A.h)};function Xn(A){for(var E=A.g.length+1,b=[],D=0;D<E;D++)b[D]=A.i(D)<<1|A.i(D-1)>>>31;return new s(b,A.h)}function ft(A,E){var b=E>>5;E%=32;for(var D=A.g.length-b,S=[],R=0;R<D;R++)S[R]=0<E?A.i(R+b)>>>E|A.i(R+b+1)<<32-E:A.i(R+b);return new s(S,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pk=kk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,lp=kk.Integer=s}).apply(typeof Mk<"u"?Mk:typeof self<"u"?self:typeof window<"u"?window:{});var up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ei={};var mE,v8,_a,yE,Hl,dp,vE,_E,wE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,f){return l==Array.prototype||l==Object.prototype||(l[d]=f.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof up=="object"&&up];for(var d=0;d<l.length;++d){var f=l[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var f=r;l=l.split(".");for(var g=0;g<l.length-1;g++){var x=l[g];if(!(x in f))break e;f=f[x]}l=l[l.length-1],g=f[l],d=d(g),d!=g&&d!=null&&e(f,l,{configurable:!0,writable:!0,value:d})}}function o(l,d){l instanceof String&&(l+="");var f=0,g=!1,x={next:function(){if(!g&&f<l.length){var N=f++;return{value:d(N,l[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(l){return l||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,f){return l.call.apply(l.bind,arguments)}function p(l,d,f){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,g),l.apply(d,x)}}return function(){return l.apply(d,arguments)}}function m(l,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(l,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function T(l,d){function f(){}f.prototype=d.prototype,l.aa=d.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(g,x,N){for(var V=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)V[ke-2]=arguments[ke];return d.prototype[x].apply(g,V)}}function M(l){let d=l.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=l[g];return f}return[]}function P(l,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(c(g)){let x=l.length||0,N=g.length||0;l.length=x+N;for(let V=0;V<N;V++)l[x+V]=g[V]}else l.push(g)}}class q{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ie(l){return/^[\s\xa0]*$/.test(l)}function ce(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Ke(l){return Ke[" "](l),l}Ke[" "]=function(){};var Xn=ce().indexOf("Gecko")!=-1&&!(ce().toLowerCase().indexOf("webkit")!=-1&&ce().indexOf("Edge")==-1)&&!(ce().indexOf("Trident")!=-1||ce().indexOf("MSIE")!=-1)&&ce().indexOf("Edge")==-1;function ft(l,d,f){for(let g in l)d.call(f,l[g],g,l)}function A(l,d){for(let f in l)d.call(void 0,l[f],f,l)}function E(l){let d={};for(let f in l)d[f]=l[f];return d}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,d){let f,g;for(let x=1;x<arguments.length;x++){g=arguments[x];for(f in g)l[f]=g[f];for(let N=0;N<b.length;N++)f=b[N],Object.prototype.hasOwnProperty.call(g,f)&&(l[f]=g[f])}}function S(l){var d=1;l=l.split(":");let f=[];for(;0<d&&l.length;)f.push(l.shift()),d--;return l.length&&f.push(l.join(":")),f}function R(l){a.setTimeout(()=>{throw l},0)}function I(){var l=Ng;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ar{constructor(){this.h=this.g=null}add(d,f){let g=Ja.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ja=new q(()=>new DL,l=>l.reset());class DL{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Xa,ec=!1,Ng=new Ar,wb=()=>{let l=a.Promise.resolve(void 0);Xa=()=>{l.then(SL)}};var SL=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(f){R(f)}var d=Ja;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ec=!1};function ci(){this.s=this.s,this.C=this.C}ci.prototype.s=!1,ci.prototype.ma=function(){this.s||(this.s=!0,this.N())},ci.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var AL=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return l}();function tc(l,d){if(At.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Xn){e:{try{Ke(d.nodeName);var x=!0;break e}catch{}x=!1}x||(d=null)}}else f=="mouseover"?d=l.fromElement:f=="mouseout"&&(d=l.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xL[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&tc.aa.h.call(this)}}T(tc,At);var xL={2:"touch",3:"pen",4:"mouse"};tc.prototype.h=function(){tc.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var nc="closure_listenable_"+(1e6*Math.random()|0),RL=0;function NL(l,d,f,g,x){this.listener=l,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=x,this.key=++RL,this.da=this.fa=!1}function bu(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Cu(l){this.src=l,this.g={},this.h=0}Cu.prototype.add=function(l,d,f,g,x){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var V=kg(l,d,g,x);return-1<V?(d=l[V],f||(d.fa=!1)):(d=new NL(d,this.src,N,!!g,x),d.fa=f,l.push(d)),d};function Mg(l,d){var f=d.type;if(f in l.g){var g=l.g[f],x=Array.prototype.indexOf.call(g,d,void 0),N;(N=0<=x)&&Array.prototype.splice.call(g,x,1),N&&(bu(d),l.g[f].length==0&&(delete l.g[f],l.h--))}}function kg(l,d,f,g){for(var x=0;x<l.length;++x){var N=l[x];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==g)return x}return-1}var Pg="closure_lm_"+(1e6*Math.random()|0),Og={};function Eb(l,d,f,g,x){if(g&&g.once)return bb(l,d,f,g,x);if(Array.isArray(d)){for(var N=0;N<d.length;N++)Eb(l,d[N],f,g,x);return null}return f=Ug(f),l&&l[nc]?l.K(d,f,u(g)?!!g.capture:!!g,x):Ib(l,d,f,!1,g,x)}function Ib(l,d,f,g,x,N){if(!d)throw Error("Invalid event type");var V=u(x)?!!x.capture:!!x,ke=Fg(l);if(ke||(l[Pg]=ke=new Cu(l)),f=ke.add(d,f,g,V,N),f.proxy)return f;if(g=ML(),f.proxy=g,g.src=l,g.listener=f,l.addEventListener)AL||(x=V),x===void 0&&(x=!1),l.addEventListener(d.toString(),g,x);else if(l.attachEvent)l.attachEvent(Tb(d.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ML(){function l(f){return d.call(l.src,l.listener,f)}let d=kL;return l}function bb(l,d,f,g,x){if(Array.isArray(d)){for(var N=0;N<d.length;N++)bb(l,d[N],f,g,x);return null}return f=Ug(f),l&&l[nc]?l.L(d,f,u(g)?!!g.capture:!!g,x):Ib(l,d,f,!0,g,x)}function Cb(l,d,f,g,x){if(Array.isArray(d))for(var N=0;N<d.length;N++)Cb(l,d[N],f,g,x);else g=u(g)?!!g.capture:!!g,f=Ug(f),l&&l[nc]?(l=l.i,d=String(d).toString(),d in l.g&&(N=l.g[d],f=kg(N,f,g,x),-1<f&&(bu(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete l.g[d],l.h--)))):l&&(l=Fg(l))&&(d=l.g[d.toString()],l=-1,d&&(l=kg(d,f,g,x)),(f=-1<l?d[l]:null)&&Lg(f))}function Lg(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[nc])Mg(d.i,l);else{var f=l.type,g=l.proxy;d.removeEventListener?d.removeEventListener(f,g,l.capture):d.detachEvent?d.detachEvent(Tb(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Fg(d))?(Mg(f,l),f.h==0&&(f.src=null,d[Pg]=null)):bu(l)}}}function Tb(l){return l in Og?Og[l]:Og[l]="on"+l}function kL(l,d){if(l.da)l=!0;else{d=new tc(d,this);var f=l.listener,g=l.ha||l.src;l.fa&&Lg(l),l=f.call(g,d)}return l}function Fg(l){return l=l[Pg],l instanceof Cu?l:null}var Vg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ug(l){return typeof l=="function"?l:(l[Vg]||(l[Vg]=function(d){return l.handleEvent(d)}),l[Vg])}function xt(){ci.call(this),this.i=new Cu(this),this.M=this,this.F=null}T(xt,ci),xt.prototype[nc]=!0,xt.prototype.removeEventListener=function(l,d,f,g){Cb(this,l,d,f,g)};function $t(l,d){var f,g=l.F;if(g)for(f=[];g;g=g.F)f.push(g);if(l=l.M,g=d.type||d,typeof d=="string")d=new At(d,l);else if(d instanceof At)d.target=d.target||l;else{var x=d;d=new At(g,l),D(d,x)}if(x=!0,f)for(var N=f.length-1;0<=N;N--){var V=d.g=f[N];x=Tu(V,g,!0,d)&&x}if(V=d.g=l,x=Tu(V,g,!0,d)&&x,x=Tu(V,g,!1,d)&&x,f)for(N=0;N<f.length;N++)V=d.g=f[N],x=Tu(V,g,!1,d)&&x}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var f=l.g[d],g=0;g<f.length;g++)bu(f[g]);delete l.g[d],l.h--}}this.F=null},xt.prototype.K=function(l,d,f,g){return this.i.add(String(l),d,!1,f,g)},xt.prototype.L=function(l,d,f,g){return this.i.add(String(l),d,!0,f,g)};function Tu(l,d,f,g){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var x=!0,N=0;N<d.length;++N){var V=d[N];if(V&&!V.da&&V.capture==f){var ke=V.listener,bt=V.ha||V.src;V.fa&&Mg(l.i,V),x=ke.call(bt,g)!==!1&&x}}return x&&!g.defaultPrevented}function Db(l,d,f){if(typeof l=="function")f&&(l=m(l,f));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function Sb(l){l.g=Db(()=>{l.g=null,l.i&&(l.i=!1,Sb(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class PL extends ci{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Sb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rc(l){ci.call(this),this.h=l,this.g={}}T(rc,ci);var Ab=[];function xb(l){ft(l.g,function(d,f){this.g.hasOwnProperty(f)&&Lg(d)},l),l.g={}}rc.prototype.N=function(){rc.aa.N.call(this),xb(this)},rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jg=a.JSON.stringify,OL=a.JSON.parse,LL=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Bg(){}Bg.prototype.h=null;function Rb(l){return l.h||(l.h=l.i())}function Nb(){}var ic={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $g(){At.call(this,"d")}T($g,At);function Hg(){At.call(this,"c")}T(Hg,At);var Wi={},Mb=null;function Du(){return Mb=Mb||new xt}Wi.La="serverreachability";function kb(l){At.call(this,Wi.La,l)}T(kb,At);function oc(l){let d=Du();$t(d,new kb(d))}Wi.STAT_EVENT="statevent";function Pb(l,d){At.call(this,Wi.STAT_EVENT,l),this.stat=d}T(Pb,At);function Ht(l){let d=Du();$t(d,new Pb(d,l))}Wi.Ma="timingevent";function Ob(l,d){At.call(this,Wi.Ma,l),this.size=d}T(Ob,At);function sc(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function ac(){this.g=!0}ac.prototype.xa=function(){this.g=!1};function FL(l,d,f,g,x,N){l.info(function(){if(l.g)if(N)for(var V="",ke=N.split("&"),bt=0;bt<ke.length;bt++){var Se=ke[bt].split("=");if(1<Se.length){var Rt=Se[0];Se=Se[1];var Nt=Rt.split("_");V=2<=Nt.length&&Nt[1]=="type"?V+(Rt+"="+Se+"&"):V+(Rt+"=redacted&")}}else V=null;else V=N;return"XMLHTTP REQ ("+g+") [attempt "+x+"]: "+d+`
`+f+`
`+V})}function VL(l,d,f,g,x,N,V){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+x+"]: "+d+`
`+f+`
`+N+" "+V})}function ns(l,d,f,g){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+jL(l,f)+(g?" "+g:"")})}function UL(l,d){l.info(function(){return"TIMEOUT: "+d})}ac.prototype.info=function(){};function jL(l,d){if(!l.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var g=f[l];if(!(2>g.length)){var x=g[1];if(Array.isArray(x)&&!(1>x.length)){var N=x[0];if(N!="noop"&&N!="stop"&&N!="close")for(var V=1;V<x.length;V++)x[V]=""}}}}return jg(f)}catch{return d}}var Su={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qg;function Au(){}T(Au,Bg),Au.prototype.g=function(){return new XMLHttpRequest},Au.prototype.i=function(){return{}},qg=new Au;function li(l,d,f,g){this.j=l,this.i=d,this.l=f,this.R=g||1,this.U=new rc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fb}function Fb(){this.i=null,this.g="",this.h=!1}var Vb={},zg={};function Wg(l,d,f){l.L=1,l.v=Mu(xr(d)),l.m=f,l.P=!0,Ub(l,null)}function Ub(l,d){l.F=Date.now(),xu(l),l.A=xr(l.v);var f=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),Xb(f.i,"t",g),l.C=0,f=l.j.J,l.h=new Fb,l.g=yC(l.j,f?d:null,!l.m),0<l.O&&(l.M=new PL(m(l.Y,l,l.g),l.O)),d=l.U,f=l.g,g=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(Ab[0]=x.toString()),x=Ab);for(var N=0;N<x.length;N++){var V=Eb(f,x[N],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),oc(),FL(l.i,l.u,l.A,l.l,l.R,l.m)}li.prototype.ca=function(l){l=l.target;let d=this.M;d&&Rr(l)==3?d.j():this.Y(l)},li.prototype.Y=function(l){try{if(l==this.g)e:{let Nt=Rr(this.g);var d=this.g.Ba();let os=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||sC(this.g)))){this.J||Nt!=4||d==7||(d==8||0>=os?oc(3):oc(2)),Gg(this);var f=this.g.Z();this.X=f;t:if(jb(this)){var g=sC(this.g);l="";var x=g.length,N=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),cc(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<x;d++)this.h.h=!0,l+=this.h.i.decode(g[d],{stream:!(N&&d==x-1)});g.length=0,this.h.g+=l,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,VL(this.i,this.u,this.A,this.l,this.R,Nt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,bt=this.g;if((ke=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(ke)){var Se=ke;break t}}Se=null}if(f=Se)ns(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kg(this,f);else{this.o=!1,this.s=3,Ht(12),Gi(this),cc(this);break e}}if(this.P){f=!0;let Vn;for(;!this.J&&this.C<V.length;)if(Vn=BL(this,V),Vn==zg){Nt==4&&(this.s=4,Ht(14),f=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Vb){this.s=4,Ht(15),ns(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else ns(this.i,this.l,Vn,null),Kg(this,Vn);if(jb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||V.length!=0||this.h.h||(this.s=1,Ht(16),f=!1),this.o=this.o&&f,!f)ns(this.i,this.l,V,"[Invalid Chunked Response]"),Gi(this),cc(this);else if(0<V.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),em(Rt),Rt.M=!0,Ht(11))}}else ns(this.i,this.l,V,null),Kg(this,V);Nt==4&&Gi(this),this.o&&!this.J&&(Nt==4?fC(this.j,this):(this.o=!1,xu(this)))}else iF(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Gi(this),cc(this)}}}catch{}finally{}};function jb(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function BL(l,d){var f=l.C,g=d.indexOf(`
`,f);return g==-1?zg:(f=Number(d.substring(f,g)),isNaN(f)?Vb:(g+=1,g+f>d.length?zg:(d=d.slice(g,g+f),l.C=g+f,d)))}li.prototype.cancel=function(){this.J=!0,Gi(this)};function xu(l){l.S=Date.now()+l.I,Bb(l,l.I)}function Bb(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=sc(m(l.ba,l),d)}function Gg(l){l.B&&(a.clearTimeout(l.B),l.B=null)}li.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(UL(this.i,this.A),this.L!=2&&(oc(),Ht(17)),Gi(this),this.s=2,cc(this)):Bb(this,this.S-l)};function cc(l){l.j.G==0||l.J||fC(l.j,l)}function Gi(l){Gg(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,xb(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Kg(l,d){try{var f=l.j;if(f.G!=0&&(f.g==l||Qg(f.h,l))){if(!l.K&&Qg(f.h,l)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var x=g;if(x[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Fu(f),Ou(f);else break e;Xg(f),Ht(18)}}else f.za=x[1],0<f.za-f.T&&37500>x[2]&&f.F&&f.v==0&&!f.C&&(f.C=sc(m(f.Za,f),6e3));if(1>=qb(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Qi(f,11)}else if((l.K||f.g==l)&&Fu(f),!ie(d))for(x=f.Da.g.parse(d),d=0;d<x.length;d++){let Se=x[d];if(f.T=Se[0],Se=Se[1],f.G==2)if(Se[0]=="c"){f.K=Se[1],f.ia=Se[2];let Rt=Se[3];Rt!=null&&(f.la=Rt,f.j.info("VER="+f.la));let Nt=Se[4];Nt!=null&&(f.Aa=Nt,f.j.info("SVER="+f.Aa));let os=Se[5];os!=null&&typeof os=="number"&&0<os&&(g=1.5*os,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Vn=l.g;if(Vn){let Uu=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uu){var N=g.h;N.g||Uu.indexOf("spdy")==-1&&Uu.indexOf("quic")==-1&&Uu.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Yg(N,N.h),N.h=null))}if(g.D){let tm=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;tm&&(g.ya=tm,He(g.I,g.D,tm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var V=l;if(g.qa=mC(g,g.J?g.ia:null,g.W),V.K){zb(g.h,V);var ke=V,bt=g.L;bt&&(ke.I=bt),ke.B&&(Gg(ke),xu(ke)),g.g=V}else dC(g);0<f.i.length&&Lu(f)}else Se[0]!="stop"&&Se[0]!="close"||Qi(f,7);else f.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Qi(f,7):Jg(f):Se[0]!="noop"&&f.l&&f.l.ta(Se),f.v=0)}}oc(4)}catch{}}var $L=class{constructor(l,d){this.g=l,this.map=d}};function $b(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hb(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function qb(l){return l.h?1:l.g?l.g.size:0}function Qg(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Yg(l,d){l.g?l.g.add(d):l.h=d}function zb(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}$b.prototype.cancel=function(){if(this.i=Wb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Wb(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let f of l.g.values())d=d.concat(f.D);return d}return M(l.i)}function HL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],f=l.length,g=0;g<f;g++)d.push(l[g]);return d}d=[],f=0;for(g in l)d[f++]=l[g];return d}function qL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var f=0;f<l;f++)d.push(f);return d}d=[],f=0;for(let g in l)d[f++]=g;return d}}}function Gb(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var f=qL(l),g=HL(l),x=g.length,N=0;N<x;N++)d.call(void 0,g[N],f&&f[N],l)}var Kb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zL(l,d){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var g=l[f].indexOf("="),x=null;if(0<=g){var N=l[f].substring(0,g);x=l[f].substring(g+1)}else N=l[f];d(N,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Ki(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ki){this.h=l.h,Ru(this,l.j),this.o=l.o,this.g=l.g,Nu(this,l.s),this.l=l.l;var d=l.i,f=new dc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Qb(this,f),this.m=l.m}else l&&(d=String(l).match(Kb))?(this.h=!1,Ru(this,d[1]||"",!0),this.o=lc(d[2]||""),this.g=lc(d[3]||"",!0),Nu(this,d[4]),this.l=lc(d[5]||"",!0),Qb(this,d[6]||"",!0),this.m=lc(d[7]||"")):(this.h=!1,this.i=new dc(null,this.h))}Ki.prototype.toString=function(){var l=[],d=this.j;d&&l.push(uc(d,Yb,!0),":");var f=this.g;return(f||d=="file")&&(l.push("//"),(d=this.o)&&l.push(uc(d,Yb,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(uc(f,f.charAt(0)=="/"?KL:GL,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",uc(f,YL)),l.join("")};function xr(l){return new Ki(l)}function Ru(l,d,f){l.j=f?lc(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Nu(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Qb(l,d,f){d instanceof dc?(l.i=d,ZL(l.i,l.h)):(f||(d=uc(d,QL)),l.i=new dc(d,l.h))}function He(l,d,f){l.i.set(d,f)}function Mu(l){return He(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function lc(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function uc(l,d,f){return typeof l=="string"?(l=encodeURI(l).replace(d,WL),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function WL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Yb=/[#\/\?@]/g,GL=/[#\?:]/g,KL=/[#\?]/g,QL=/[#\?@]/g,YL=/#/g;function dc(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function ui(l){l.g||(l.g=new Map,l.h=0,l.i&&zL(l.i,function(d,f){l.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=dc.prototype,t.add=function(l,d){ui(this),this.i=null,l=rs(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(d),this.h+=1,this};function Zb(l,d){ui(l),d=rs(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Jb(l,d){return ui(l),d=rs(l,d),l.g.has(d)}t.forEach=function(l,d){ui(this),this.g.forEach(function(f,g){f.forEach(function(x){l.call(d,x,g,this)},this)},this)},t.na=function(){ui(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let x=l[g];for(let N=0;N<x.length;N++)f.push(d[g])}return f},t.V=function(l){ui(this);let d=[];if(typeof l=="string")Jb(this,l)&&(d=d.concat(this.g.get(rs(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)d=d.concat(l[f])}return d},t.set=function(l,d){return ui(this),this.i=null,l=rs(this,l),Jb(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Xb(l,d,f){Zb(l,d),0<f.length&&(l.i=null,l.g.set(rs(l,d),M(f)),l.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let N=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var x=N;V[g]!==""&&(x+="="+encodeURIComponent(String(V[g]))),l.push(x)}}return this.i=l.join("&")};function rs(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function ZL(l,d){d&&!l.j&&(ui(l),l.i=null,l.g.forEach(function(f,g){var x=g.toLowerCase();g!=x&&(Zb(this,g),Xb(this,x,f))},l)),l.j=d}function JL(l,d){let f=new ac;if(a.Image){let g=new Image;g.onload=y(di,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(di,f,"TestLoadImage: error",!1,d,g),g.onabort=y(di,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(di,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else d(!1)}function XL(l,d){let f=new ac,g=new AbortController,x=setTimeout(()=>{g.abort(),di(f,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:g.signal}).then(N=>{clearTimeout(x),N.ok?di(f,"TestPingServer: ok",!0,d):di(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(x),di(f,"TestPingServer: error",!1,d)})}function di(l,d,f,g,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),g(f)}catch{}}function eF(){this.g=new LL}function tF(l,d,f){let g=f||"";try{Gb(l,function(x,N){let V=x;u(x)&&(V=jg(x)),d.push(g+N+"="+encodeURIComponent(V))})}catch(x){throw d.push(g+"type="+encodeURIComponent("_badmap")),x}}function hc(l){this.l=l.Ub||null,this.j=l.eb||!1}T(hc,Bg),hc.prototype.g=function(){return new ku(this.l,this.j)},hc.prototype.i=function(l){return function(){return l}}({});function ku(l,d){xt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ku,xt),t=ku.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,pc(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fc(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,pc(this)),this.g&&(this.readyState=3,pc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eC(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function eC(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?fc(this):pc(this),this.readyState==3&&eC(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,fc(this))},t.Qa=function(l){this.g&&(this.response=l,fc(this))},t.ga=function(){this.g&&fc(this)};function fc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,pc(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=d.next();return l.join(`\r
`)};function pc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ku.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tC(l){let d="";return ft(l,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Zg(l,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=tC(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):He(l,d,f))}function Ye(l){xt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ye,xt);var nF=/^https?$/i,rF=["POST","PUT"];t=Ye.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qg.g(),this.v=this.o?Rb(this.o):Rb(qg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(N){nC(this,N);return}if(l=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var x in g)f.set(x,g[x]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())f.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),x=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rF,d,void 0))||g||x||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,V]of f)this.g.setRequestHeader(N,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oC(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){nC(this,N)}};function nC(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,rC(l),Pu(l)}function rC(l){l.A||(l.A=!0,$t(l,"complete"),$t(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,$t(this,"complete"),$t(this,"abort"),Pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pu(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iC(this):this.bb())},t.bb=function(){iC(this)};function iC(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Rr(l)!=4||l.Z()!=2)){if(l.u&&Rr(l)==4)Db(l.Ea,0,l);else if($t(l,"readystatechange"),Rr(l)==4){l.h=!1;try{let V=l.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=V===0){var x=String(l.D).match(Kb)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),g=!nF.test(x?x.toLowerCase():"")}f=g}if(f)$t(l,"complete"),$t(l,"success");else{l.m=6;try{var N=2<Rr(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",rC(l)}}finally{Pu(l)}}}}function Pu(l,d){if(l.g){oC(l);let f=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||$t(l,"ready");try{f.onreadystatechange=g}catch{}}}function oC(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Rr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),OL(d)}};function sC(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function iF(l){let d={};l=(l.g&&2<=Rr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(ie(l[g]))continue;var f=S(l[g]);let x=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[x]||[];d[x]=N,N.push(f)}A(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gc(l,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||d}function aC(l){this.Aa=0,this.i=[],this.j=new ac,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gc("baseRetryDelayMs",5e3,l),this.cb=gc("retryDelaySeedMs",1e4,l),this.Wa=gc("forwardChannelMaxRetries",2,l),this.wa=gc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new $b(l&&l.concurrentRequestLimit),this.Da=new eF,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=aC.prototype,t.la=8,t.G=1,t.connect=function(l,d,f,g){Ht(0),this.W=l,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=mC(this,null,this.W),Lu(this)};function Jg(l){if(cC(l),l.G==3){var d=l.U++,f=xr(l.I);if(He(f,"SID",l.K),He(f,"RID",d),He(f,"TYPE","terminate"),mc(l,f),d=new li(l,l.j,d),d.L=2,d.v=Mu(xr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=yC(d.j,null),d.g.ea(d.v)),d.F=Date.now(),xu(d)}gC(l)}function Ou(l){l.g&&(em(l),l.g.cancel(),l.g=null)}function cC(l){Ou(l),l.u&&(a.clearTimeout(l.u),l.u=null),Fu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Lu(l){if(!Hb(l.h)&&!l.s){l.s=!0;var d=l.Ga;Xa||wb(),ec||(Xa(),ec=!0),Ng.add(d,l),l.B=0}}function oF(l,d){return qb(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=sc(m(l.Ga,l,d),pC(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let x=new li(this,this.j,l),N=this.o;if(this.S&&(N?(N=E(N),D(N,this.S)):N=this.S),this.m!==null||this.O||(x.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=uC(this,x,d),f=xr(this.I),He(f,"RID",l),He(f,"CVER",22),this.D&&He(f,"X-HTTP-Session-Id",this.D),mc(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(tC(N)))+"&"+d:this.m&&Zg(f,this.m,N)),Yg(this.h,x),this.Ua&&He(f,"TYPE","init"),this.P?(He(f,"$req",d),He(f,"SID","null"),x.T=!0,Wg(x,f,null)):Wg(x,f,d),this.G=2}}else this.G==3&&(l?lC(this,l):this.i.length==0||Hb(this.h)||lC(this))};function lC(l,d){var f;d?f=d.l:f=l.U++;let g=xr(l.I);He(g,"SID",l.K),He(g,"RID",f),He(g,"AID",l.T),mc(l,g),l.m&&l.o&&Zg(g,l.m,l.o),f=new li(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),d&&(l.i=d.D.concat(l.i)),d=uC(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Yg(l.h,f),Wg(f,g,d)}function mc(l,d){l.H&&ft(l.H,function(f,g){He(d,g,f)}),l.l&&Gb({},function(f,g){He(d,g,f)})}function uC(l,d,f){f=Math.min(l.i.length,f);var g=l.l?m(l.l.Na,l.l,l):null;e:{var x=l.i;let N=-1;for(;;){let V=["count="+f];N==-1?0<f?(N=x[0].g,V.push("ofs="+N)):N=0:V.push("ofs="+N);let ke=!0;for(let bt=0;bt<f;bt++){let Se=x[bt].g,Rt=x[bt].map;if(Se-=N,0>Se)N=Math.max(0,x[bt].g-100),ke=!1;else try{tF(Rt,V,"req"+Se+"_")}catch{g&&g(Rt)}}if(ke){g=V.join("&");break e}}}return l=l.i.splice(0,f),d.D=l,g}function dC(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Xa||wb(),ec||(Xa(),ec=!0),Ng.add(d,l),l.v=0}}function Xg(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=sc(m(l.Fa,l),pC(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,hC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=sc(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Ou(this),hC(this))};function em(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function hC(l){l.g=new li(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=xr(l.qa);He(d,"RID","rpc"),He(d,"SID",l.K),He(d,"AID",l.T),He(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&He(d,"TO",l.ja),He(d,"TYPE","xmlhttp"),mc(l,d),l.m&&l.o&&Zg(d,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=Mu(xr(d)),f.m=null,f.P=!0,Ub(f,l)}t.Za=function(){this.C!=null&&(this.C=null,Ou(this),Xg(this),Ht(19))};function Fu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function fC(l,d){var f=null;if(l.g==d){Fu(l),em(l),l.g=null;var g=2}else if(Qg(l.h,d))f=d.D,zb(l.h,d),g=1;else return;if(l.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var x=l.B;g=Du(),$t(g,new Ob(g,f)),Lu(l)}else dC(l);else if(x=d.s,x==3||x==0&&0<d.X||!(g==1&&oF(l,d)||g==2&&Xg(l)))switch(f&&0<f.length&&(d=l.h,d.i=d.i.concat(f)),x){case 1:Qi(l,5);break;case 4:Qi(l,10);break;case 3:Qi(l,6);break;default:Qi(l,2)}}}function pC(l,d){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*d}function Qi(l,d){if(l.j.info("Error code "+d),d==2){var f=m(l.fb,l),g=l.Xa;let x=!g;g=new Ki(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ru(g,"https"),Mu(g),x?JL(g.toString(),f):XL(g.toString(),f)}else Ht(2);l.G=0,l.l&&l.l.sa(d),gC(l),cC(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function gC(l){if(l.G=0,l.ka=[],l.l){let d=Wb(l.h);(d.length!=0||l.i.length!=0)&&(P(l.ka,d),P(l.ka,l.i),l.h.i.length=0,M(l.i),l.i.length=0),l.l.ra()}}function mC(l,d,f){var g=f instanceof Ki?xr(f):new Ki(f);if(g.g!="")d&&(g.g=d+"."+g.g),Nu(g,g.s);else{var x=a.location;g=x.protocol,d=d?d+"."+x.hostname:x.hostname,x=+x.port;var N=new Ki(null);g&&Ru(N,g),d&&(N.g=d),x&&Nu(N,x),f&&(N.l=f),g=N}return f=l.D,d=l.ya,f&&d&&He(g,f,d),He(g,"VER",l.la),mc(l,g),g}function yC(l,d,f){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ye(new hc({eb:f})):new Ye(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vC(){}t=vC.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vu(){}Vu.prototype.g=function(l,d){return new on(l,d)};function on(l,d){xt.call(this),this.g=new aC(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ie(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ie(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new is(this)}T(on,xt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Jg(this.g)},on.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=jg(l),l=f);d.i.push(new $L(d.Ya++,l)),d.G==3&&Lu(d)},on.prototype.N=function(){this.g.l=null,delete this.j,Jg(this.g),delete this.g,on.aa.N.call(this)};function _C(l){$g.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let f in d){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}T(_C,$g);function wC(){Hg.call(this),this.status=1}T(wC,Hg);function is(l){this.g=l}T(is,vC),is.prototype.ua=function(){$t(this.g,"a")},is.prototype.ta=function(l){$t(this.g,new _C(l))},is.prototype.sa=function(l){$t(this.g,new wC)},is.prototype.ra=function(){$t(this.g,"b")},Vu.prototype.createWebChannel=Vu.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,wE=ei.createWebChannelTransport=function(){return new Vu},_E=ei.getStatEventTarget=function(){return Du()},vE=ei.Event=Wi,dp=ei.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Su.NO_ERROR=0,Su.TIMEOUT=8,Su.HTTP_ERROR=6,Hl=ei.ErrorCode=Su,Lb.COMPLETE="complete",yE=ei.EventType=Lb,Nb.EventType=ic,ic.OPEN="a",ic.CLOSE="b",ic.ERROR="c",ic.MESSAGE="d",xt.prototype.listen=xt.prototype.K,_a=ei.WebChannel=Nb,v8=ei.FetchXmlHttpFactory=hc,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,mE=ei.XhrIo=Ye}).apply(typeof up<"u"?up:typeof self<"u"?self:typeof window<"u"?window:{});var Ok="@firebase/firestore",Lk="4.7.10";var wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");var La="11.5.0";var jo=new Mn("@firebase/firestore");function wa(){return jo.logLevel}function G(t,...e){if(jo.logLevel<=ue.DEBUG){let n=e.map(WI);jo.debug(`Firestore (${La}): ${t}`,...n)}}function Bo(t,...e){if(jo.logLevel<=ue.ERROR){let n=e.map(WI);jo.error(`Firestore (${La}): ${t}`,...n)}}function Hp(t,...e){if(jo.logLevel<=ue.WARN){let n=e.map(WI);jo.warn(`Firestore (${La}): ${t}`,...n)}}function WI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function fe(t="Unexpected state"){let e=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: `+t;throw Bo(e),new Error(e)}function Xe(t,e){t||fe()}function $e(t,e){return t}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ti=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var vp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},CE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}},TE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},DE=class{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ti,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>C(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ti)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new vp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new wt(e)}},SE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},AE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new SE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_p=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},xE=class{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,kt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new _p(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new _p(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _8(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function w8(){return new TextEncoder}var wp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=_8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function De(t,e){return t<e?-1:t>e?1:0}function RE(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return De(r,i);{let o=w8(),s=E8(o.encode(Fk(t,n)),o.encode(Fk(e,n)));return s!==0?s:De(r,i)}}n+=r>65535?2:1}return De(t.length,e.length)}function Fk(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function E8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return De(t[n],e[n]);return De(t.length,e.length)}function Ca(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Vk=-62135596800,Uk=1e6,Ft=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Uk);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vk)throw new Z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uk}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-Vk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Je=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ft(0,0))}static max(){return new t(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jk="__name__",Ep=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return De(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):RE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lp.fromString(e.substring(4,e.length-2))}},st=class t extends Ep{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Z(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},I8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bn=class t extends Ep{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return I8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jk}static keyField(){return new t([jk])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Z(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var pe=class t{constructor(e){this.path=e}static fromPath(e){return new t(st.fromString(e))}static fromName(e){return new t(st.fromString(e).popFirst(5))}static empty(){return new t(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new st(e.slice()))}};var Ql=-1,NE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};NE.UNKNOWN_ID=-1;function b8(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new $o(i,pe.empty(),e)}function C8(t){return new $o(t.readTime,t.key,Ql)}var $o=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Je.min(),pe.empty(),Ql)}static max(){return new t(Je.max(),pe.empty(),Ql)}};function T8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}var D8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ME=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function GI(t){return C(this,null,function*(){if(t.code!==L.FAILED_PRECONDITION||t.message!==D8)throw t;G("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function S8(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tu(t){return t.name==="IndexedDbTransactionError"}var mP=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this._e&&this._e(n),n}}t.ae=-1;return t})(),KI=-1;function QI(t){return t==null}function Yl(t){return t===0&&1/t==-1/0}function A8(t){return typeof t=="number"&&Number.isInteger(t)&&!Yl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var yP="";function x8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Bk(e)),e=R8(t.get(n),e);return Bk(e)}function R8(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case yP:n+="";break;default:n+=o}}return n}function Bk(t){return t+yP+""}var N8="remoteDocuments",vP="owner";var _P="mutationQueues";var wP="mutations";var EP="documentMutations",M8="remoteDocumentsV14";var IP="remoteDocumentGlobal";var bP="targets";var CP="targetDocuments";var TP="targetGlobal",DP="collectionParents";var SP="clientMetadata";var AP="bundles";var xP="namedQueries";var k8="indexConfiguration";var P8="indexState";var O8="indexEntries";var RP="documentOverlays";var L8="globals";var F8=[_P,wP,EP,N8,bP,vP,TP,CP,SP,IP,DP,AP,xP],sae=[...F8,RP],V8=[_P,wP,EP,M8,bP,vP,TP,CP,SP,IP,DP,AP,xP,RP],U8=V8,j8=[...U8,k8,P8,O8];var aae=[...j8,L8];function $k(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Cn=class t{constructor(e,n){this.comparator=e,this.root=n||Dr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ia(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ia(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ia(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ia(this.root,e,this.comparator,!0)}},Ia=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Dr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();let e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}};Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1;Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Vt=class t{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ip(this.data.getIterator())}getIteratorFrom(e){return new Ip(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ip=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Tr=class t{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Vt(bn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var kE=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ri=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kE("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ri.EMPTY_BYTE_STRING=new ri("");var B8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(Xe(!!t),typeof t=="string"){let e=0,n=B8.exec(t);if(Xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ho(t){return typeof t=="string"?ri.fromBase64String(t):ri.fromUint8Array(t)}var MP="server_timestamp",kP="__type__",PP="__previous_value__",OP="__local_write_time__";function YI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kP])===null||n===void 0?void 0:n.stringValue)===MP}function ZI(t){let e=t.mapValue.fields[PP];return YI(e)?ZI(e):e}function bp(t){let e=ji(t.mapValue.fields[OP].timestampValue);return new Ft(e.seconds,e.nanos)}var PE=class{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Cp="(default)",OE=class t{constructor(e,n){this.projectId=e,this.database=n||Cp}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Cp}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var JI="__type__",LP="__max__",hp={mapValue:{fields:{__type__:{stringValue:LP}}}},XI="__vector__",Zl="value";function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?YI(t)?4:VP(t)?9007199254740991:FP(t)?10:11:fe()}function Sr(t,e){if(t===e)return!0;let n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bp(t).isEqual(bp(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ji(i.timestampValue),a=ji(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ho(i.bytesValue).isEqual(Ho(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ot(i.geoPointValue.latitude)===ot(o.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ot(i.integerValue)===ot(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ot(i.doubleValue),a=ot(o.doubleValue);return s===a?Yl(s)===Yl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ca(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($k(s)!==$k(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Sr(s[c],a[c])))return!1;return!0}(t,e);default:return fe()}}function Jl(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function Ta(t,e){if(t===e)return 0;let n=qo(t),r=qo(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ot(o.integerValue||o.doubleValue),c=ot(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Hk(t.timestampValue,e.timestampValue);case 4:return Hk(bp(t),bp(e));case 5:return RE(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ho(o),c=Ho(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let h=De(a[u],c[u]);if(h!==0)return h}return De(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=De(ot(o.latitude),ot(s.latitude));return a!==0?a:De(ot(o.longitude),ot(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qk(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Zl])===null||a===void 0?void 0:a.arrayValue,T=(c=m[Zl])===null||c===void 0?void 0:c.arrayValue,M=De(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:qk(y,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===hp.mapValue&&s===hp.mapValue)return 0;if(o===hp.mapValue)return 1;if(s===hp.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let m=RE(c[p],h[p]);if(m!==0)return m;let y=Ta(a[c[p]],u[h[p]]);if(y!==0)return y}return De(c.length,h.length)}(t.mapValue,e.mapValue);default:throw fe()}}function Hk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let n=ji(t),r=ji(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function qk(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ta(n[i],r[i]);if(o)return o}return De(n.length,r.length)}function Da(t){return LE(t)}function LE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=LE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${LE(n.fields[s])}`;return i+"}"}(t.mapValue):fe()}function gp(t){switch(qo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ZI(t);return e?16+gp(e):16;case 5:return 2*t.stringValue.length;case 6:return Ho(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+gp(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Fa(r.fields,(o,s)=>{i+=o.length+gp(s)}),i}(t.mapValue);default:throw fe()}}function FE(t){return!!t&&"integerValue"in t}function e0(t){return!!t&&"arrayValue"in t}function mp(t){return!!t&&"mapValue"in t}function FP(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[JI])===null||n===void 0?void 0:n.stringValue)===XI}function zl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Fa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zl(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LP}var lae={mapValue:{fields:{[JI]:{stringValue:XI},[Zl]:{arrayValue:{}}}}};var Cr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=bn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=zl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());mp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fa(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(zl(this.value))}};function UP(t){let e=[];return Fa(t.fields,(n,r)=>{let i=new bn([n]);if(mp(r)){let o=UP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Tr(e)}var Sa=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Je.min(),Je.min(),Je.min(),Cr.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Je.min(),Je.min(),Cr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Je.min(),Je.min(),Cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Aa=class{constructor(e,n){this.position=e,this.inclusive=n}};function zk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(s.referenceValue),n.key):r=Ta(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}var xa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function $8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Tp=class{},Et=class t extends Tp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UE(e,n,r):n==="array-contains"?new $E(e,r):n==="in"?new HE(e,r):n==="not-in"?new qE(e,r):n==="array-contains-any"?new zE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jE(e,r):new BE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ta(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Bi=class t extends Tp{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new t(e,n)}matches(e){return jP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function jP(t){return t.op==="and"}function BP(t){return H8(t)&&jP(t)}function H8(t){for(let e of t.filters)if(e instanceof Bi)return!1;return!0}function VE(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+Da(t.value);if(BP(t))return t.filters.map(e=>VE(e)).join(",");{let e=t.filters.map(n=>VE(n)).join(",");return`${t.op}(${e})`}}function $P(t,e){return t instanceof Et?function(r,i){return i instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&Sr(r.value,i.value)}(t,e):t instanceof Bi?function(r,i){return i instanceof Bi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&$P(s,i.filters[a]),!0):!1}(t,e):void fe()}function HP(t){return t instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${Da(n.value)}`}(t):t instanceof Bi?function(n){return n.op.toString()+" {"+n.getFilters().map(HP).join(" ,")+"}"}(t):"Filter"}var UE=class extends Et{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){let n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}},jE=class extends Et{constructor(e,n){super(e,"in",n),this.keys=qP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},BE=class extends Et{constructor(e,n){super(e,"not-in",n),this.keys=qP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function qP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}var $E=class extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return e0(n)&&Jl(n.arrayValue,this.value)}},HE=class extends Et{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}},qE=class extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Jl(this.value.arrayValue,n)}},zE=class extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!e0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jl(this.value.arrayValue,r))}};var WE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}};function Gk(t,e=null,n=[],r=[],i=null,o=null,s=null){return new WE(t,e,n,r,i,o,s)}function t0(t){let e=$e(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>VE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),QI(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Da(r)).join(",")),e.le=n}return e.le}function n0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$P(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wk(t.startAt,e.startAt)&&Wk(t.endAt,e.endAt)}var Ra=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function q8(t,e,n,r,i,o,s,a){return new Ra(t,e,n,r,i,o,s,a)}function z8(t){return new Ra(t)}function Kk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function W8(t){return t.collectionGroup!==null}function Wl(t){let e=$e(t);if(e.he===null){e.he=[];let n=new Set;for(let o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Vt(bn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new xa(o,r))}),n.has(bn.keyField().canonicalString())||e.he.push(new xa(bn.keyField(),r))}return e.he}function Vo(t){let e=$e(t);return e.Pe||(e.Pe=G8(e,Wl(t))),e.Pe}function G8(t,e){if(t.limitType==="F")return Gk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new xa(i.field,o)});let n=t.endAt?new Aa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Aa(t.startAt.position,t.startAt.inclusive):null;return Gk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function GE(t,e,n){return new Ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zP(t,e){return n0(Vo(t),Vo(e))&&t.limitType===e.limitType}function WP(t){return`${t0(Vo(t))}|lt:${t.limitType}`}function ql(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HP(i)).join(", ")}]`),QI(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Da(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Da(i)).join(",")),`Target(${r})`}(Vo(t))}; limitType=${t.limitType})`}function r0(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Wl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=zk(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Wl(r),i)||r.endAt&&!function(s,a,c){let u=zk(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Wl(r),i))}(t,e)}function K8(t){return(e,n)=>{let r=!1;for(let i of Wl(t)){let o=Q8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Q8(t,e,n){let r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Ta(c,u):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}var ii=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return NP(this.inner)}size(){return this.innerSize}};var Y8=new Cn(pe.comparator);function Dp(){return Y8}var GP=new Cn(pe.comparator);function fp(...t){let e=GP;for(let n of t)e=e.insert(n.key,n);return e}function KP(t){let e=GP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fo(){return Gl()}function QP(){return Gl()}function Gl(){return new ii(t=>t.toString(),(t,e)=>t.isEqual(e))}var Z8=new Cn(pe.comparator),J8=new Vt(pe.comparator);function Lt(...t){let e=J8;for(let n of t)e=e.add(n);return e}var X8=new Vt(De);function e9(){return X8}function i0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yl(e)?"-0":e}}function YP(t){return{integerValue:""+t}}function t9(t,e){return A8(e)?YP(e):i0(t,e)}var Na=class{constructor(){this._=void 0}};function n9(t,e,n){return t instanceof Ma?function(i,o){let s={fields:{[kP]:{stringValue:MP},[OP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&YI(o)&&(o=ZI(o)),o&&(s.fields[PP]=o),{mapValue:s}}(n,e):t instanceof zo?JP(t,e):t instanceof Wo?XP(t,e):function(i,o){let s=ZP(i,o),a=Qk(s)+Qk(i.Ie);return FE(s)&&FE(i.Ie)?YP(a):i0(i.serializer,a)}(t,e)}function r9(t,e,n){return t instanceof zo?JP(t,e):t instanceof Wo?XP(t,e):n}function ZP(t,e){return t instanceof ka?function(r){return FE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ma=class extends Na{},zo=class extends Na{constructor(e){super(),this.elements=e}};function JP(t,e){let n=e1(e);for(let r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Wo=class extends Na{constructor(e){super(),this.elements=e}};function XP(t,e){let n=e1(e);for(let r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}var ka=class extends Na{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function Qk(t){return ot(t.integerValue||t.doubleValue)}function e1(t){return e0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function i9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zo&&i instanceof zo||r instanceof Wo&&i instanceof Wo?Ca(r.elements,i.elements,Sr):r instanceof ka&&i instanceof ka?Sr(r.Ie,i.Ie):r instanceof Ma&&i instanceof Ma}(t.transform,e.transform)}var KE=class{constructor(e,n){this.version=e,this.transformResults=n}},Uo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Pa=class{};function t1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sp(t.key,Uo.none()):new Go(t.key,t.data,Uo.none());{let n=t.data,r=Cr.empty(),i=new Vt(bn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new oi(t.key,r,new Tr(i.toArray()),Uo.none())}}function o9(t,e,n){t instanceof Go?function(i,o,s){let a=i.value.clone(),c=Zk(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof oi?function(i,o,s){if(!yp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Zk(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(n1(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Kl(t,e,n,r){return t instanceof Go?function(o,s,a,c){if(!yp(o.precondition,s))return a;let u=o.value.clone(),h=Jk(o.fieldTransforms,c,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof oi?function(o,s,a,c){if(!yp(o.precondition,s))return a;let u=Jk(o.fieldTransforms,c,s),h=s.data;return h.setAll(n1(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return yp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function s9(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=ZP(r.transform,i||null);o!=null&&(n===null&&(n=Cr.empty()),n.set(r.field,o))}return n||null}function Yk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ca(r,i,(o,s)=>i9(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Go=class extends Pa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},oi=class extends Pa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function n1(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Zk(t,e,n){let r=new Map;Xe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,r9(s,a,n[i]))}return r}function Jk(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,n9(o,s,e))}return r}var Sp=class extends Pa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},QE=class extends Pa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var YE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&o9(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=QP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=t1(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Lt())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(n,r)=>Yk(n,r))&&Ca(this.baseMutations,e.baseMutations,(n,r)=>Yk(n,r))}},ZE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length);let i=function(){return Z8}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var JE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var rt,be;function a9(t){switch(t){case L.OK:return fe();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return fe()}}function c9(t){if(t===void 0)return Bo("GRPC error has no .code"),L.UNKNOWN;switch(t){case rt.OK:return L.OK;case rt.CANCELLED:return L.CANCELLED;case rt.UNKNOWN:return L.UNKNOWN;case rt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case rt.INTERNAL:return L.INTERNAL;case rt.UNAVAILABLE:return L.UNAVAILABLE;case rt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case rt.NOT_FOUND:return L.NOT_FOUND;case rt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case rt.ABORTED:return L.ABORTED;case rt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case rt.DATA_LOSS:return L.DATA_LOSS;default:return fe()}}(be=rt||(rt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var uae=new lp([4294967295,4294967295],0);var XE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function eI(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u9(t,e){return eI(t,e.toTimestamp())}function ba(t){return Xe(!!t),Je.fromTimestamp(function(n){let r=ji(n);return new Ft(r.seconds,r.nanos)}(t))}function r1(t,e){return tI(t,e).canonicalString()}function tI(t,e){let n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function d9(t){let e=st.fromString(t);return Xe(_9(e)),e}function nI(t,e){return r1(t.databaseId,e.path)}function h9(t){let e=d9(t);return e.length===4?st.emptyPath():p9(e)}function f9(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function p9(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Xk(t,e,n){return{name:nI(t,e),fields:n.value.mapValue.fields}}function g9(t,e){let n;if(e instanceof Go)n={update:Xk(t,e.key,e.value)};else if(e instanceof Sp)n={delete:nI(t,e.key)};else if(e instanceof oi)n={update:Xk(t,e.key,e.data),updateMask:v9(e.fieldMask)};else{if(!(e instanceof QE))return fe();n={verify:nI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ma)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ka)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:u9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:fe()}(t,e.precondition)),n}function m9(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ba(i.updateTime):ba(o);return s.isEqual(Je.min())&&(s=ba(o)),new KE(s,i.transformResults||[])}(n,e))):[]}function y9(t){let e=h9(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Xe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=i1(p);return m instanceof Bi&&BP(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(T){return new xa(Ea(T.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,QI(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){let m=!!p.before,y=p.values||[];return new Aa(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){let m=!p.before,y=p.values||[];return new Aa(y,m)}(n.endAt)),q8(e,i,s,o,a,"F",c,u)}function i1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ea(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ea(n.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ea(n.unaryFilter.field);return Et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ea(n.unaryFilter.field);return Et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return Et.create(Ea(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bi.create(n.compositeFilter.filters.map(r=>i1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function Ea(t){return bn.fromServerFormat(t.fieldPath)}function v9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var rI=class{constructor(e){this.Tt=e}};function w9(t){let e=y9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?GE(e,e.limit,"L"):e}var Ap=class{constructor(){}At(e,n){this.Rt(e,n),n.Vt()}Rt(e,n){if("nullValue"in e)this.ft(n,5);else if("booleanValue"in e)this.ft(n,10),n.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(n,15),n.gt(ot(e.integerValue));else if("doubleValue"in e){let r=ot(e.doubleValue);isNaN(r)?this.ft(n,13):(this.ft(n,15),Yl(r)?n.gt(0):n.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(n,20),typeof r=="string"&&(r=ji(r)),n.yt(`${r.seconds||""}`),n.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,n),this.St(n);else if("bytesValue"in e)this.ft(n,30),n.bt(Ho(e.bytesValue)),this.St(n);else if("referenceValue"in e)this.Dt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(n,45),n.gt(r.latitude||0),n.gt(r.longitude||0)}else"mapValue"in e?VP(e)?this.ft(n,Number.MAX_SAFE_INTEGER):FP(e)?this.vt(e.mapValue,n):(this.Ct(e.mapValue,n),this.St(n)):"arrayValue"in e?(this.Ft(e.arrayValue,n),this.St(n)):fe()}wt(e,n){this.ft(n,25),this.Mt(e,n)}Mt(e,n){n.yt(e)}Ct(e,n){let r=e.fields||{};this.ft(n,55);for(let i of Object.keys(r))this.wt(i,n),this.Rt(r[i],n)}vt(e,n){var r,i;let o=e.fields||{};this.ft(n,53);let s=Zl,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(n,15),n.gt(ot(a)),this.wt(s,n),this.Rt(o[s],n)}Ft(e,n){let r=e.values||[];this.ft(n,50);for(let i of r)this.Rt(i,n)}Dt(e,n){this.ft(n,37),pe.fromName(e).path.forEach(r=>{this.ft(n,60),this.Mt(r,n)})}ft(e,n){e.gt(n)}St(e){e.gt(2)}};Ap.xt=new Ap;var iI=class{constructor(){this.Tn=new oI}addToCollectionParentIndex(e,n){return this.Tn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve($o.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve($o.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},oI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(st.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(st.comparator)).toArray()}};var dae=new Uint8Array(0);var eP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o1=41943040,Pn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(o1,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);var Xl=class t{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new t(0)}static Kn(){return new t(-1)}};var tP="LruGarbageCollector",E9=1048576;function nP([t,e],[n,r]){let i=De(t,n);return i===0?De(e,r):i}var sI=class{constructor(e){this.Hn=e,this.buffer=new Vt(nP),this.Jn=0}Yn(){return++this.Jn}Zn(e){let n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();nP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},aI=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){G(tP,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){tu(n)?G(tP,"Ignoring IndexedDB error during garbage collection: ",n):yield GI(n)}yield this.er(3e5)}))}},cI=class{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(mP.ae);let r=new sI(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(eP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eP):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,c,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),wa()<=ue.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function I9(t,e){return new cI(t,e)}var lI=class{constructor(){this.changes=new ii(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sa.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var uI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var dI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Kl(r.mutation,i,Tr.empty(),Ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Lt()){let i=Fo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=fp();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Fo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Lt()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Dp(),s=Gl(),a=function(){return Gl()}();return n.forEach((c,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof oi)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Kl(h.mutation,u,h.mutation.getFieldMask(),Ft.now())):s.set(u.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var p;return a.set(u,new uI(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Gl(),i=new Cn((s,a)=>s-a),o=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let h=r.get(c)||Tr.empty();h=a.applyToLocalView(u,h),r.set(c,h);let p=(i.get(a.batchId)||Lt()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,h=c.value,p=QP();h.forEach(m=>{if(!o.has(m)){let y=t1(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):W8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(Fo()),a=Ql,c=o;return s.next(u=>O.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Lt())).next(h=>({batchId:a,changes:KP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=fp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=fp();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,c=>{let u=function(p,m){return new Ra(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,Sa.newInvalidDocument(h)))});let a=fp();return s.forEach((c,u)=>{let h=o.get(c);h!==void 0&&Kl(h.mutation,u,Tr.empty(),Ft.now()),r0(n,u)&&(a=a.insert(c,u))}),a})}};var hI=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return O.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ba(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:w9(i.bundledQuery),readTime:ba(i.readTime)}}(n)),O.resolve()}};var fI=class{constructor(){this.overlays=new Cn(pe.comparator),this.Rr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Fo();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=Fo(),o=n.length+1,s=new pe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Cn((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Fo(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Fo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return O.resolve(a)}Et(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new JE(n,r));let o=this.Rr.get(n);o===void 0&&(o=Lt(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}};var pI=class{constructor(){this.sessionToken=ri.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var eu=class{constructor(){this.Vr=new Vt(it.mr),this.gr=new Vt(it.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){let r=new it(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new it(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){let n=new pe(new st([])),r=new it(n,e),i=new it(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let n=new pe(new st([])),r=new it(n,e),i=new it(n,e+1),o=Lt();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new it(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},it=class{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return pe.comparator(e.key,n.key)||De(e.Cr,n.Cr)}static pr(e,n){return De(e.Cr,n.Cr)||pe.comparator(e.key,n.key)}};var gI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Vt(it.mr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new YE(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Mr=this.Mr.add(new it(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Nr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?KI:this.Fr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{let a=this.Or(s.Cr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(De);return n.forEach(i=>{let o=new it(i,0),s=new it(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),O.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;pe.isDocumentKey(o)||(o=o.child(""));let s=new it(new pe(o),0),a=new Vt(De);return this.Mr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Cr)),!0)},s),O.resolve(this.Br(a))}Br(e){let n=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Xe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return O.forEach(n.mutations,i=>{let o=new it(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){let r=new it(n,0),i=this.Mr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var mI=class{constructor(e){this.kr=e,this.docs=function(){return new Cn(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Sa.newInvalidDocument(n))}getEntries(e,n){let r=Dp();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Sa.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Dp(),s=n.path,a=new pe(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:h}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||T8(C8(h),r)<=0||(i.has(h.key)||r0(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){fe()}qr(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yI(this)}getSize(e){return O.resolve(this.size)}},yI=class extends lI{constructor(e){super(),this.Ir=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}};var vI=class{constructor(e){this.persistence=e,this.Qr=new ii(n=>t0(n),n0),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.$r=0,this.Ur=new eu,this.targetCount=0,this.Kr=Xl.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),O.resolve()}zn(e){this.Qr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Kr=new Xl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.zn(n),O.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Qr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Ur.vr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Ur.containsKey(n))}};var xp=class{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new mP(0),this.zr=!1,this.zr=!0,this.jr=new pI,this.referenceDelegate=e(this),this.Hr=new vI(this),this.indexManager=new iI,this.remoteDocumentCache=function(i){return new mI(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new rI(n),this.Yr=new hI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new gI(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);let i=new _I(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return O.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}},_I=class extends ME{constructor(e){super(),this.currentSequenceNumber=e}},wI=class t{constructor(e){this.persistence=e,this.ti=new eu,this.ni=null}static ri(e){return new t(e)}get ii(){if(this.ni)return this.ni;throw fe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),O.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.ii,r=>{let i=pe.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,Je.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return O.or([()=>O.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}},Rp=class t{constructor(e,n){this.persistence=e,this.oi=new ii(r=>x8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=I9(this,n)}static ri(e,n){return new t(e,n)}Zr(){}Xr(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){let n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return O.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?O.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,Je.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),O.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gp(e.data.value)),n}ar(e,n,r){return O.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.oi.get(n);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var EI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Lt(),i=Lt();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var II=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var bI=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return kN()?8:S8(yt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new II;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(wa()<=ue.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ql(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),O.resolve()):(wa()<=ue.DEBUG&&G("QueryEngine","Query:",ql(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(wa()<=ue.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ql(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vo(n))):O.resolve())}rs(e,n){if(Kk(n))return O.resolve(null);let r=Vo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=GE(n,null,"F"),r=Vo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Lt(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.cs(n,a);return this.ls(n,u,s,c.readTime)?this.rs(e,GE(n,null,"F")):this.hs(e,u,n,c)}))})))}ss(e,n,r,i){return Kk(n)||i.isEqual(Je.min())?O.resolve(null):this.ns.getDocuments(e,r).next(o=>{let s=this.cs(n,o);return this.ls(n,s,r,i)?O.resolve(null):(wa()<=ue.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ql(n)),this.hs(e,s,n,b8(i,Ql)).next(a=>a))})}cs(e,n){let r=new Vt(K8(e));return n.forEach((i,o)=>{r0(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return wa()<=ue.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ql(n)),this.ns.getDocumentsMatchingQuery(e,n,$o.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var b9="LocalStore";var CI=class{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Cn(De),this.Is=new ii(o=>t0(o),n0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}};function C9(t,e,n,r){return new CI(t,e,n,r)}function s1(t,e){return C(this,null,function*(){let n=$e(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Lt();for(let u of i){s.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Rs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function T9(t,e){let n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){let p=u.batch,m=p.keys(),y=O.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(c,T)).next(M=>{let P=u.docVersions.get(T);Xe(P!==null),M.version.compareTo(P)<0&&(p.applyToRemoteDocument(M,u),M.isValidDocument()&&(M.setReadTime(u.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Lt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function D9(t){let e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function S9(t,e){let n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=KI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Np=class{constructor(){this.activeTargetIds=e9()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var TI=class{constructor(){this.ho=new Np,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Np,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var DI=class{To(e){}shutdown(){}};var rP="ConnectivityMonitor",Mp=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){G(rP,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){G(rP,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pp=null;function SI(){return pp===null?pp=function(){return 268435456+Math.round(2147483648*Math.random())}():pp++,"0x"+pp.toString(16)}var EE="RestConnection",A9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},AI=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Cp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){let s=SI(),a=this.bo(e,n.toUriEncodedString());G(EE,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,o),this.vo(e,a,c,r).then(u=>(G(EE,`Received RPC '${e}' ${s}: `,u),u),u=>{throw Hp(EE,`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){let r=A9[e];return`${this.po}/v1/${n}:${r}`}terminate(){}};var xI=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}};var Ot="WebChannelConnection",RI=class extends AI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){let o=SI();return new Promise((s,a)=>{let c=new mE;c.setWithCredentials(!0),c.listenOnce(yE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Hl.NO_ERROR:let h=c.getResponseJson();G(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Hl.TIMEOUT:G(Ot,`RPC '${e}' ${o} timed out`),a(new Z(L.DEADLINE_EXCEEDED,"Request time out"));break;case Hl.HTTP_ERROR:let p=c.getStatus();if(G(Ot,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let T=function(P){let q=P.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(q)>=0?q:L.UNKNOWN}(y.status);a(new Z(T,y.message))}else a(new Z(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Z(L.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{G(Ot,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);G(Ot,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Wo(e,n,r){let i=SI(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=wE(),a=_E(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let h=o.join("");G(Ot,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c),m=!1,y=!1,T=new xI({Fo:P=>{y?G(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(G(Ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),G(Ot,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},Mo:()=>p.close()}),M=(P,q,ie)=>{P.listen(q,ce=>{try{ie(ce)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return M(p,_a.EventType.OPEN,()=>{y||(G(Ot,`RPC '${e}' stream ${i} transport opened.`),T.Qo())}),M(p,_a.EventType.CLOSE,()=>{y||(y=!0,G(Ot,`RPC '${e}' stream ${i} transport closed`),T.Uo())}),M(p,_a.EventType.ERROR,P=>{y||(y=!0,Hp(Ot,`RPC '${e}' stream ${i} transport errored:`,P),T.Uo(new Z(L.UNAVAILABLE,"The operation could not be completed")))}),M(p,_a.EventType.MESSAGE,P=>{var q;if(!y){let ie=P.data[0];Xe(!!ie);let ce=ie,Ke=ce?.error||((q=ce[0])===null||q===void 0?void 0:q.error);if(Ke){G(Ot,`RPC '${e}' stream ${i} received error:`,Ke);let Xn=Ke.status,ft=function(b){let D=rt[b];if(D!==void 0)return c9(D)}(Xn),A=Ke.message;ft===void 0&&(ft=L.INTERNAL,A="Unknown error status: "+Xn+" with message "+Ke.message),y=!0,T.Uo(new Z(ft,A)),p.close()}else G(Ot,`RPC '${e}' stream ${i} received:`,ie),T.Ko(ie)}}),M(a,vE.STAT_EVENT,P=>{P.stat===dp.PROXY?G(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===dp.NOPROXY&&G(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}};function IE(){return typeof document<"u"?document:null}function qp(t){return new XE(t,!0)}var kp=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var iP="PersistentStream",NI=class{constructor(e,n,r,i,o,s,a,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new kp(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return C(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return C(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,n){return C(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Bo(n.toString()),Bo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(n)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{let i=new Z(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){let r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>C(this,null,function*(){this.state=0,this.start()}))}m_(e){return G(iP,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(G(iP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var MI=class extends NI{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let n=m9(e.writeResults,e.commitTime),r=ba(e.commitTime);return this.listener.v_(r,n)}C_(){let e={};e.database=f9(this.serializer),this.I_(e)}b_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>g9(this.serializer,r))};this.I_(n)}};var kI=class{},PI=class extends kI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Z(L.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,tI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(L.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,tI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(L.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},OI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bo(n),this.N_=!1):G("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var nu="RemoteStore",LI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(()=>C(this,null,function*(){iu(this)&&(G(nu,"Restarting streams for network reachability change."),yield function(c){return C(this,null,function*(){let u=$e(c);u.W_.add(4),yield ru(u),u.j_.set("Unknown"),u.W_.delete(4),yield zp(u)})}(this))}))}),this.j_=new OI(r,i)}};function zp(t){return C(this,null,function*(){if(iu(t))for(let e of t.G_)yield e(!0)})}function ru(t){return C(this,null,function*(){for(let e of t.G_)yield e(!1)})}function iu(t){return $e(t).W_.size===0}function a1(t,e,n){return C(this,null,function*(){if(!tu(e))throw e;t.W_.add(1),yield ru(t),t.j_.set("Offline"),n||(n=()=>D9(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){G(nu,"Retrying IndexedDB access"),yield n(),t.W_.delete(1),yield zp(t)}))})}function c1(t,e){return e().catch(n=>a1(t,n,e))}function Wp(t){return C(this,null,function*(){let e=$e(t),n=$i(e),r=e.U_.length>0?e.U_[e.U_.length-1].batchId:KI;for(;x9(e);)try{let i=yield S9(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,R9(e,i)}catch(i){yield a1(e,i)}l1(e)&&u1(e)})}function x9(t){return iu(t)&&t.U_.length<10}function R9(t,e){t.U_.push(e);let n=$i(t);n.c_()&&n.S_&&n.b_(e.mutations)}function l1(t){return iu(t)&&!$i(t).u_()&&t.U_.length>0}function u1(t){$i(t).start()}function N9(t){return C(this,null,function*(){$i(t).C_()})}function M9(t){return C(this,null,function*(){let e=$i(t);for(let n of t.U_)e.b_(n.mutations)})}function k9(t,e,n){return C(this,null,function*(){let r=t.U_.shift(),i=ZE.from(r,e,n);yield c1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Wp(t)})}function P9(t,e){return C(this,null,function*(){e&&$i(t).S_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return a9(s)&&s!==L.ABORTED}(i.code)){let o=r.U_.shift();$i(r).h_(),yield c1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Wp(r)}})}(t,e)),l1(t)&&u1(t)})}function oP(t,e){return C(this,null,function*(){let n=$e(t);n.asyncQueue.verifyOperationInProgress(),G(nu,"RemoteStore received new credentials");let r=iu(n);n.W_.add(3),yield ru(n),r&&n.j_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),yield zp(n)})}function O9(t,e){return C(this,null,function*(){let n=$e(t);e?(n.W_.delete(2),yield zp(n)):e||(n.W_.add(2),yield ru(n),n.j_.set("Unknown"))})}function $i(t){return t.Y_||(t.Y_=function(n,r,i){let o=$e(n);return o.M_(),new MI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:N9.bind(null,t),Lo:P9.bind(null,t),D_:M9.bind(null,t),v_:k9.bind(null,t)}),t.G_.push(e=>C(this,null,function*(){e?(t.Y_.h_(),yield Wp(t)):(yield t.Y_.stop(),t.U_.length>0&&(G(nu,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))}))),t.Y_}var FI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function d1(t,e){if(Bo("AsyncQueue",`${e}: ${t}`),tu(t))return new Z(L.UNAVAILABLE,`${e}: ${t}`);throw t}var VI=class{constructor(){this.queries=sP(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){let i=$e(n),o=i.queries;i.queries=sP(),o.forEach((s,a)=>{for(let c of a.ta)c.onError(r)})})(this,new Z(L.ABORTED,"Firestore shutting down"))}};function sP(){return new ii(t=>WP(t),zP)}function L9(t){t.ia.forEach(e=>{e.next()})}var aP,cP;(cP=aP||(aP={}))._a="default",cP.Cache="cache";var F9="SyncEngine";var UI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new ii(a=>WP(a),zP),this.qa=new Map,this.Qa=new Set,this.$a=new Cn(pe.comparator),this.Ua=new Map,this.Ka=new eu,this.Wa={},this.Ga=new Map,this.za=Xl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function V9(t,e,n){return C(this,null,function*(){let r=$9(t);try{let i=yield function(s,a){let c=$e(s),u=Ft.now(),h=a.reduce((y,T)=>y.add(T.key),Lt()),p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Dp(),M=Lt();return c.ds.getEntries(y,h).next(P=>{T=P,T.forEach((q,ie)=>{ie.isValidDocument()||(M=M.add(q))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,T)).next(P=>{p=P;let q=[];for(let ie of a){let ce=s9(ie,p.get(ie.key).overlayedDocument);ce!=null&&q.push(new oi(ie.key,ce,UP(ce.value.mapValue),Uo.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,q,a)}).next(P=>{m=P;let q=P.applyToLocalDocumentSet(p,M);return c.documentOverlayCache.saveOverlays(y,P.batchId,q)})}).then(()=>({batchId:m.batchId,changes:KP(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Wa[s.currentUser.toKey()];u||(u=new Cn(De)),u=u.insert(a,c),s.Wa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Gp(r,i.changes),yield Wp(r.remoteStore)}catch(i){let o=d1(i,"Failed to persist write");n.reject(o)}})}function lP(t,e,n){let r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ka.forEach((o,s)=>{let a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=$e(s);c.onlineState=a;let u=!1;c.queries.forEach((h,p)=>{for(let m of p.ta)m.sa(a)&&(u=!0)}),u&&L9(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function U9(t,e){return C(this,null,function*(){let n=$e(t),r=e.batch.batchId;try{let i=yield T9(n.localStore,e);f1(n,r,null),h1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Gp(n,i)}catch(i){yield GI(i)}})}function j9(t,e,n){return C(this,null,function*(){let r=$e(t);try{let i=yield function(s,a){let c=$e(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Xe(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);f1(r,e,n),h1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Gp(r,i)}catch(i){yield GI(i)}})}function h1(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function f1(t,e,n){let r=$e(t),i=r.Wa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Gp(t,e,n){return C(this,null,function*(){let r=$e(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,c)=>{s.push(r.Ha(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=n?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);let p=EI.Yi(c.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.La.p_(i),yield function(c,u){return C(this,null,function*(){let h=$e(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(u,m=>O.forEach(m.Hi,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.Ji,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!tu(p))throw p;G(b9,"Failed to update sequence numbers: "+p)}for(let p of u){let m=p.targetId;if(!p.fromCache){let y=h.Ts.get(m),T=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(T);h.Ts=h.Ts.insert(m,M)}}})}(r.localStore,o))})}function B9(t,e){return C(this,null,function*(){let n=$e(t);if(!n.currentUser.isEqual(e)){G(F9,"User change. New user:",e.toKey());let r=yield s1(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(c=>{c.reject(new Z(L.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gp(n,r.Rs)}})}function $9(t){let e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j9.bind(null,e),e}var p1=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return C(this,null,function*(){this.serializer=qp(n.databaseInfo.databaseId),this.sharedClientState=this.Za(n),this.persistence=this.Xa(n),yield this.persistence.start(),this.localStore=this.eu(n),this.gcScheduler=this.tu(n,this.localStore),this.indexBackfillerScheduler=this.nu(n,this.localStore)})}tu(n,r){return null}nu(n,r){return null}eu(n){return C9(this.persistence,new bI,n.initialUser,this.serializer)}Xa(n){return new xp(wI.ri,this.serializer)}Za(n){return new TI}terminate(){return C(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),jI=class extends p1{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Xe(this.persistence.referenceDelegate instanceof Rp);let r=this.persistence.referenceDelegate.garbageCollector;return new aI(r,e.asyncQueue,n)}Xa(e){let n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new xp(r=>Rp.ri(r,n),this.serializer)}};var H9=(()=>{class t{initialize(n,r){return C(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=B9.bind(null,this.syncEngine),yield O9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new VI}()}createDatastore(n){let r=qp(n.databaseInfo.databaseId),i=function(s){return new RI(s)}(n.databaseInfo);return function(s,a,c,u){return new PI(s,a,c,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,c){return new LI(i,o,s,a,c)}(this.localStore,this.datastore,n.asyncQueue,r=>lP(this.syncEngine,r,0),function(){return Mp.D()?new Mp:new DI}())}createSyncEngine(n,r){return function(o,s,a,c,u,h,p){let m=new UI(o,s,a,c,u,h);return p&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var n,r;yield function(o){return C(this,null,function*(){let s=$e(o);G(nu,"RemoteStore shutting down."),s.W_.add(5),yield ru(s),s.z_.shutdown(),s.j_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Hi="FirestoreClient",BI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){G(Hi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G(Hi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=d1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function bE(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),G(Hi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield s1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function uP(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield q9(t);G(Hi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>oP(e.remoteStore,i)),t._onlineComponents=e})}function q9(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Hi,"Using user provided OfflineComponentProvider");try{yield bE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Hp("Error using user provided cache. Falling back to memory cache: "+n),yield bE(t,new p1)}}else G(Hi,"Using default OfflineComponentProvider"),yield bE(t,new jI(void 0));return t._offlineComponents})}function z9(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Hi,"Using user provided OnlineComponentProvider"),yield uP(t,t._uninitializedComponentsProvider._online)):(G(Hi,"Using default OnlineComponentProvider"),yield uP(t,new H9))),t._onlineComponents})}function W9(t){return z9(t).then(e=>e.syncEngine)}function g1(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var dP=new Map;function m1(t,e,n){if(!n)throw new Z(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G9(t,e,n,r){if(e===!0&&r===!0)throw new Z(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hP(t){if(!pe.isDocumentKey(t))throw new Z(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fP(t){if(pe.isDocumentKey(t))throw new Z(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function o0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function y1(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=o0(t);throw new Z(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var v1="firestore.googleapis.com",pP=!0,Pp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v1,this.ssl=pP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:pP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E9)throw new Z(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Oa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CE;switch(r.type){case"firstParty":return new AE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=dP.get(n);r&&(G("ComponentProvider","Removing Datastore"),dP.delete(n),r.terminate())}(this),Promise.resolve()}};function _1(t,e,n,r={}){var i;let o=(t=y1(t,Oa))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==v1&&o.host!==a&&Hp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Nn(c,s)&&(t._setSettings(c),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=wt.MOCK_USER;else{u=Nf(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Z(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new wt(p)}t._authCredentials=new TE(new vp(u,h))}}var $I=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ni=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ui=class t extends $I{constructor(e,n,r){super(e,n,z8(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ni(this.firestore,null,new pe(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function w1(t,e,...n){if(t=_t(t),m1("collection","path",e),t instanceof Oa){let r=st.fromString(e,...n);return fP(r),new Ui(t,null,r)}{if(!(t instanceof ni||t instanceof Ui))throw new Z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(st.fromString(e,...n));return fP(r),new Ui(t.firestore,null,r)}}function E1(t,e,...n){if(t=_t(t),arguments.length===1&&(e=wp.newId()),m1("doc","path",e),t instanceof Oa){let r=st.fromString(e,...n);return hP(r),new ni(t,null,new pe(r))}{if(!(t instanceof ni||t instanceof Ui))throw new Z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(st.fromString(e,...n));return hP(r),new ni(t.firestore,t instanceof Ui?t.converter:null,new pe(r))}}var gP="AsyncQueue",Op=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new kp(this,"async_queue_retry"),this.Su=()=>{let r=IE();r&&G(gP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let n=IE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let n=IE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let n=new ti;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return C(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!tu(e))throw e;G(gP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Bo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);let i=FI.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&fe()}verifyOperationInProgress(){}Mu(){return C(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let n=this.fu.indexOf(e);this.fu.splice(n,1)}};var Lp=class extends Oa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Op,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Op(e),this._firestoreClient=void 0,yield e}})}};function I1(t,e){let n=typeof t=="object"?t:Qr(),r=typeof t=="string"?t:e||Cp,i=Ni(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Rf("firestore");o&&_1(i,...o)}return i}function K9(t){if(t._terminated)throw new Z(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q9(t),t._firestoreClient}function Q9(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,u,h){return new PE(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,g1(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new BI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var Fp=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ri.fromBase64String(e))}catch(n){throw new Z(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Vp=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Up=class{constructor(e){this._methodName=e}};var jp=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var Bp=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Y9=/^__.*__$/,HI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Go(e,this.data,n,this.fieldTransforms)}};function b1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}var qI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return $p(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(b1(this.Lu)&&Y9.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},zI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qp(e)}ju(e,n,r,i=!1){return new qI({Lu:e,methodName:n,zu:r,path:bn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Z9(t){let e=t._freezeSettings(),n=qp(t._databaseId);return new zI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J9(t,e,n,r,i,o={}){let s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);S1("Data must be an object, but it was:",s,r);let a=T1(r,s),c,u;if(o.merge)c=new Tr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=X9(e,p,n);if(!s.contains(m))throw new Z(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);n7(h,m)||h.push(m)}c=new Tr(h),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new HI(new Cr(a),c,u)}function C1(t,e){if(D1(t=_t(t)))return S1("Unsupported field value:",e,t),T1(t,e);if(t instanceof Up)return function(r,i){if(!b1(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=C1(a,i.Ku(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ft.fromDate(r);return{timestampValue:eI(i.serializer,o)}}if(r instanceof Ft){let o=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eI(i.serializer,o)}}if(r instanceof jp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fp)return{bytesValue:l9(i.serializer,r._byteString)};if(r instanceof ni){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:r1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bp)return function(s,a){return{mapValue:{fields:{[JI]:{stringValue:XI},[Zl]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return i0(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${o0(r)}`)}(t,e)}function T1(t,e){let n={};return NP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(t,(r,i)=>{let o=C1(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function D1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof jp||t instanceof Fp||t instanceof ni||t instanceof Up||t instanceof Bp)}function S1(t,e,n){if(!D1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=o0(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function X9(t,e,n){if((e=_t(e))instanceof Vp)return e._internalPath;if(typeof e=="string")return t7(t,e);throw $p("Field path arguments must be of type string or ",t,!1,void 0,n)}var e7=new RegExp("[~\\*/\\[\\]]");function t7(t,e,n){if(e.search(e7)>=0)throw $p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vp(...e.split("."))._internalPath}catch{throw $p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $p(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Z(L.INVALID_ARGUMENT,a+t+c)}function n7(t,e){return t.some(n=>n.isEqual(e))}function r7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function A1(t,e){let n=y1(t.firestore,Lp),r=E1(t),i=r7(t.converter,e);return i7(n,[J9(Z9(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Uo.exists(!1))]).then(()=>r)}function i7(t,e){return function(r,i){let o=new ti;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return V9(yield W9(r),i,o)})),o.promise}(K9(t),e)}(function(e,n=!0){(function(i){La=i})(vr),En(new St("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Lp(new DE(r.getProvider("auth-internal")),new xE(s,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new OE(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Le(Ok,Lk,e),Le(Ok,Lk,"esm2017")})();var Ko=class{constructor(e){return e}},x1="firestore",s0=class{constructor(){return Mi(x1)}};var a0=new $("angularfire2.firestore-instances");function o7(t,e){let n=Ro(x1,t,e);return n&&new Ko(n)}function s7(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ko(r)}}var a7={provide:s0,deps:[[new ht,a0]]},c7={provide:Ko,useFactory:o7,deps:[[new ht,a0],Gn]};function R1(t,...e){return Le("angularfire",_r.full,"fst"),fn([c7,a7,{provide:a0,useFactory:s7(t),multi:!0,deps:[me,Ve,wr,Yr,[new ht,Lo],[new ht,Pi],...e]}])}var N1=In(A1,!0,2);var M1=In(w1,!0,2);var k1=In(I1,!0);var Kp=class t{constructor(e,n){this.firestore=e;this.auth=n}registerUser(e,n,r){return C(this,null,function*(){try{let o=(yield dk(this.auth,n,r)).user,s=M1(this.firestore,"users");return yield N1(s,{uid:o.uid,fullName:e,email:n,createdAt:new Date}),{success:!0,user:o}}catch(i){return console.error("Error al registrar usuario:",i),{success:!1}}})}static \u0275fac=function(n){return new(n||t)(Q(Ko),Q(Oo))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};var Qp=class t{constructor(e,n){this.codetrekService=e;this.router=n}fullName="";email="";password="";confirmPassword="";navigateToLogin(){this.router.navigate(["/login"])}register(){return C(this,null,function*(){if(this.password!==this.confirmPassword){alert("Las contrase\xF1as no coinciden.");return}(yield this.codetrekService.registerUser(this.fullName,this.email,this.password)).success?alert("Usuario registrado correctamente \u{1F389}"):alert("Error: Registration failed.")})}static \u0275fac=function(n){return new(n||t)(z(Kp),z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-register"]],standalone:!1,decls:19,vars:4,consts:[[1,"bg-no-repeat","bg-cover",2,"background-image","url(assets/wallpaper-pixel2.jpg)"],[1,"flex","h-screen","items-center","justify-center"],[1,"flex","flex-col","items-center","space-y-8"],[1,"w-80","rounded-[20px]","bg-white","p-8",2,"box-shadow","#00000057 1px 3px 4px"],[1,"mb-4","text-center","text-3xl","font-bold","text-black",2,"text-shadow","#00000063 0px 3px 5px"],[1,"space-y-4"],["type","text","placeholder","Full Name",1,"w-full","rounded-md","bg-[#E9EFF6]","p-2.5","placeholder:text-[#000000]",2,"box-shadow","rgb(0 0 0 / 21%) 0px 7px 5px 0px",3,"ngModelChange","ngModel"],["type","email","placeholder","Email address",1,"w-full","rounded-md","bg-[#E9EFF6]","p-2.5","placeholder:text-[#000000]",2,"box-shadow","rgb(0 0 0 / 21%) 0px 7px 5px 0px",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",1,"w-full","rounded-md","bg-[#E9EFF6]","p-2.5","placeholder:text-[#000000]",2,"box-shadow","rgb(0 0 0 / 21%) 0px 7px 5px 0px",3,"ngModelChange","ngModel"],["type","password","placeholder","Confirm Password",1,"w-full","rounded-md","bg-[#E9EFF6]","p-2.5","placeholder:text-[#000000]",2,"box-shadow","rgb(0 0 0 / 21%) 0px 7px 5px 0px",3,"ngModelChange","ngModel"],[1,"mb-4","pt-2"],[1,"ml-2","text-[10px]","text-[#228CE0]"],[1,"cursor-pointer","text-[#7337FF]","hover:underline","bg-transparent","border-none",3,"click"],[1,"mb-4","flex","justify-center"],[1,"h-10","w-full","cursor-pointer","rounded-md","bg-gradient-to-br","from-[#1980e6]","to-[#3269FF]","text-white","shadow-md","shadow-blue-950",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),_(5," Create an Account "),w(),v(6,"div",5)(7,"input",6),Gt("ngModelChange",function(o){return nn(r.fullName,o)||(r.fullName=o),o}),w(),v(8,"input",7),Gt("ngModelChange",function(o){return nn(r.email,o)||(r.email=o),o}),w(),v(9,"input",8),Gt("ngModelChange",function(o){return nn(r.password,o)||(r.password=o),o}),w(),v(10,"input",9),Gt("ngModelChange",function(o){return nn(r.confirmPassword,o)||(r.confirmPassword=o),o}),w()(),v(11,"div",10)(12,"span",11),_(13,"Already have an account?"),w(),v(14,"button",12),F("click",function(){return r.navigateToLogin()}),_(15," Sign in "),w()(),v(16,"div",13)(17,"button",14),F("click",function(){return r.register()}),_(18," Register "),w()()()()()()),n&2&&(j(7),Wt("ngModel",r.fullName),j(),Wt("ngModel",r.email),j(),Wt("ngModel",r.password),j(),Wt("ngModel",r.confirmPassword))},dependencies:[kn,br,Qn],encapsulation:2})};function d7(t,e){if(t&1){let n=Be();v(0,"div",40),F("click",function(){let i=Ue(n).$implicit,o=he();return je(o.goToCourseDetail(i))}),K(1,"div",41),v(2,"div")(3,"p",19),_(4),w(),v(5,"p",20),_(6),w()()()}if(t&2){let n=e.$implicit;j(),Hh("background-image","url("+n.image+")"),j(3),Ae(" ",n.title," "),j(2),Ae(" ",n.description," ")}}var Yp=class t{constructor(e){this.router=e}allCourses=[{title:"Python",description:"Learn Python from scratch, covering syntax and basic concepts.",image:"../assets/lenguaje-python.jpg"},{title:"CSharp",description:"Master the fundamentals of C# for software and game development.",image:"../assets/C.jpg"},{title:"VisualBasic",description:"Get started with Visual Basic for simple Windows applications.",image:"../assets/visualBasic.jpg"},{title:"SQL",description:"Understand databases and learn to write SQL queries efficiently.",image:"../assets/SQL.jpg"},{title:"Kotlin",description:"Learn Kotlin, the modern language for Android development.",image:"../assets/Kotlin.png"},{title:"JavaScript",description:"Discover the basics of JavaScript for web development.",image:"../assets/JS-picture.jpg"},{title:"Java",description:"Explore Java programming, from OOP to application development.",image:"../assets/java-picture.jpg"},{title:"HTML",description:"Learn the fundamentals of HTML to build web pages.",image:"../assets/html-picture.jpg"}];displayedCourses=this.allCourses.slice(0,5);allCoursesShown=!1;toggleCourses(){this.allCoursesShown?this.displayedCourses=this.allCourses.slice(0,5):this.displayedCourses=this.allCourses.slice(0,10),this.allCoursesShown=!this.allCoursesShown}goToCourseDetail(e){let n=e.title.replace(/\s+/g,"-").toLowerCase();this.router.navigate(["/course",n])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-home"]],standalone:!1,decls:91,vars:2,consts:[[1,"px-40","flex","flex-1","justify-center","py-5","mt-20","bg-gray-900"],[1,"layout-content-container","flex","flex-col","min-w-[90vw]","flex-1"],[1,"@container"],[1,"@[480px]:p-4"],[1,"flex","min-h-[300px]","sm:min-h-[400px]","md:min-h-[480px]","flex-col","gap-4","sm:gap-6","md:gap-8","bg-cover","bg-center","bg-no-repeat","items-start","justify-end","px-4","pb-6","sm:px-4","md:px-7","rounded-xl",2,"background-image","url('assets/wallpaper-pixel.jpg')"],[1,"text-[#E0E0E0]","text-lg","sm:text-2xl","md:text-4xl","lg:text-5xl","font-bold","leading-tight","tracking-[-0.033em]",2,"font-family","Press Start 2P","-webkit-text-stroke","3px black","text-shadow","1px 1px 1px rgba(0, 0, 0, 0.5)","-webkit-text-stroke","1px black","text-shadow","1px 1px 1px rgba(0, 0, 0, 0.1)","-webkit-text-stroke","1px black","text-shadow","3px 3px 5px rgba(0, 0, 0, 0.7)"],[1,"flex","flex-col","min-w-40","h-12","sm:h-14","w-full","max-w-[480px]"],[1,"flex","w-full","items-center","rounded-xl"],["placeholder","Start typing","value","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-xl","text-white","focus:outline-0","focus:ring-0","border","border-[#3c4753]","bg-[#1c2126]","focus:border-[#3c4753]","h-full","placeholder:text-[#9dabb8]","px-[15px]","rounded-r-none","border-r-0","pr-2","border-l-0","pl-5","text-sm","font-normal","leading-normal","@[480px]:text-base","@[480px]:font-normal","@[480px]:leading-normal"],[1,"flex","items-center","justify-center","rounded-r-xl","border-l-0","border","border-[#3c4753]","bg-[#1c2126]"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-10","px-4","@[480px]:h-12","@[480px]:px-5","bg-[#1980e6]","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","@[480px]:text-base","@[480px]:font-bold","@[480px]:leading-normal","@[480px]:tracking-[0.015em]"],[1,"truncate"],[1,"flex","flex-col","gap-10","px-4","py-10","@container"],[1,"flex","flex-col","gap-4"],[1,"text-white","tracking-light","text-[32px]","font-bold","leading-tight","@[480px]:text-4xl","@[480px]:font-black","@[480px]:leading-tight","@[480px]:tracking-[-0.033em]","max-w-[720px]"],[1,"text-white","text-base","font-normal","leading-normal","max-w-[720px]"],[1,"grid","grid-cols-[repeat(auto-fit,minmax(158px,1fr))]","gap-3"],[1,"flex","flex-col","gap-3","pb-3"],[1,"w-full","bg-center","bg-no-repeat","aspect-video","bg-cover","rounded-xl",2,"background-image","url('https://cdn.usegalileo.ai/sdxl10/843f362b-6a06-4475-aa66-c09b69b4bec0.png')"],[1,"text-white","text-base","font-medium","leading-normal"],[1,"text-[#9dabb8]","text-sm","font-normal","leading-normal"],[1,"w-full","bg-center","bg-no-repeat","aspect-video","bg-cover","rounded-xl",2,"background-image","url('https://cdn.usegalileo.ai/sdxl10/5f3cc7a9-4e08-4935-b5bd-f4c6e2c723c6.png')"],[1,"w-full","bg-center","bg-no-repeat","aspect-video","bg-cover","rounded-xl",2,"background-image","url('https://cdn.usegalileo.ai/sdxl10/6c0fa266-753f-4b27-97ea-27d141770a8b.png')"],[1,"w-full","bg-center","bg-no-repeat","aspect-video","bg-cover","rounded-xl",2,"background-image","url('https://cdn.usegalileo.ai/sdxl10/fca65568-fb61-4d90-9a9d-b928f7995d76.png')"],[1,"text-white","text-[22px]","font-bold","leading-tight","tracking-[-0.015em]","px-4","pb-3","pt-5"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","xl:grid-cols-5","gap-3","p-4"],["class","flex flex-col gap-3 pb-3 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"bottom-4","left-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg",3,"click"],[1,"text-white","text-[22px]","font-bold","leading-tight","tracking-[-0.015em]","px-4","pb-3","pt-5","bg-grey-700"],[1,"flex","items-center","gap-4","bg-grey-700","px-4","min-h-[72px]","py-2","justify-between"],[1,"flex","items-center","gap-4"],[1,"bg-center","bg-no-repeat","aspect-square","bg-cover","rounded-lg","size-14",2,"background-image","url('https://cdn.usegalileo.ai/sdxl10/8d593dc1-b516-4c72-8fe3-e5062e72c1a8.png')"],[1,"flex","flex-col","justify-center"],[1,"text-white","text-base","font-medium","leading-normal","line-clamp-1"],[1,"text-[#9dabb8]","text-sm","font-normal","leading-normal","line-clamp-2"],[1,"shrink-0"],[1,"text-white","text-base","font-normal","leading-normal"],[1,"bg-center","bg-no-repeat","aspect-square","bg-cover","rounded-lg","size-14",2,"background-image","url('https://cdn.usegalileo.ai/sdxl10/219465ed-12c6-45cc-8f32-9d7a498d5034.png')"],[1,"bg-center","bg-no-repeat","aspect-square","bg-cover","rounded-lg","size-14",2,"background-image","url('https://cdn.usegalileo.ai/sdxl10/dcff8e1f-c6bb-4f8f-b7ff-2560961f238a.png')"],[1,"flex","flex-col","gap-3","pb-3","cursor-pointer",3,"click"],[1,"w-full","bg-center","bg-no-repeat","aspect-video","bg-cover","rounded-xl"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),_(6," Learn to code with hands-on exercises in Python, JavaScript, and more... "),w(),v(7,"label",6)(8,"div",7),K(9,"input",8),v(10,"div",9)(11,"button",10)(12,"span",11),_(13,"Search"),w()()()()()()()(),v(14,"div",12)(15,"div",13)(16,"h1",14),_(17," Hands-on coding experience "),w(),v(18,"p",15),_(19," CodeTrek's interactive coding environment makes it easy to learn new languages and concepts. Get started with our free beginner courses or dive into a paid course for a more in-depth learning experience. "),w()(),v(20,"div",16)(21,"div",17),K(22,"div",18),v(23,"div")(24,"p",19),_(25," Practice coding with guided challenges "),w(),v(26,"p",20),_(27," Hundreds of coding challenges for you to solve "),w()()(),v(28,"div",17),K(29,"div",21),v(30,"div")(31,"p",19),_(32," Write and run code in the browser "),w(),v(33,"p",20),_(34," No setup required\u2014just start typing "),w()()(),v(35,"div",17),K(36,"div",22),v(37,"div")(38,"p",19),_(39," Get instant feedback on your work "),w(),v(40,"p",20),_(41," Our automated test suite checks your work "),w()()(),v(42,"div",17),K(43,"div",23),v(44,"div")(45,"p",19),_(46," Save your progress and come back later "),w(),v(47,"p",20),_(48," Create an account to track your progress "),w()()()()(),v(49,"h2",24),_(50," Featured Courses "),w(),v(51,"div",25),Oe(52,d7,7,4,"div",26),w(),v(53,"div",27)(54,"button",28),F("click",function(){return r.toggleCourses()}),_(55),w()(),v(56,"h2",29),_(57," Top Challenges "),w(),v(58,"div",30)(59,"div",31),K(60,"div",32),v(61,"div",33)(62,"p",34),_(63," Python Basics "),w(),v(64,"p",35),_(65," Solve basic programming challenges "),w()()(),v(66,"div",36)(67,"p",37),_(68,"3/14"),w()()(),v(69,"div",30)(70,"div",31),K(71,"div",38),v(72,"div",33)(73,"p",34),_(74," JavaScript Basics "),w(),v(75,"p",35),_(76," Write JavaScript functions "),w()()(),v(77,"div",36)(78,"p",37),_(79,"2/12"),w()()(),v(80,"div",30)(81,"div",31),K(82,"div",39),v(83,"div",33)(84,"p",34),_(85," Web Development Basics "),w(),v(86,"p",35),_(87," Practice using HTML and CSS "),w()()(),v(88,"div",36)(89,"p",37),_(90,"4/16"),w()()()()()),n&2&&(j(52),ee("ngForOf",r.displayedCourses),j(3),Ae(" ",r.allCoursesShown?"See less":"See more"," "))},dependencies:[Jh],styles:[".layout-content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:90vw;flex:1}@media (min-width: 640px){.layout-content-container[_ngcontent-%COMP%]{min-width:80vw}}@media (min-width: 768px){.layout-content-container[_ngcontent-%COMP%]{min-width:70vw}}@media (min-width: 1024px){.layout-content-container[_ngcontent-%COMP%]{min-width:60vw}}@media (min-width: 1280px){.layout-content-container[_ngcontent-%COMP%]{max-width:60vw}}"]})};var Zp=class t{constructor(e){this.router=e}languageSelected=new lt;onLanguageSelect(e){this.router.navigate([`/catalogo/programming-tutorial/${e}`])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-catalogo"]],outputs:{languageSelected:"languageSelected"},standalone:!1,decls:74,vars:0,consts:[[1,"bg-gray-900","text-white"],[1,"w-3/5","mx-auto","p-8","mt-14"],[1,"text-3xl","font-bold","mb-4"],[1,"flex","flex-wrap","gap-2","mb-4"],[1,"px-4","py-2","bg-gray-700","rounded-xl"],[1,"relative","mb-4"],["placeholder","Search courses, projects, resources...","type","text",1,"w-full","px-4","py-2","rounded-xl","bg-gray-700","text-white","focus:outline-none"],[1,"fas","fa-search","absolute","right-4","top-3","text-gray-400"],[1,"flex","flex-wrap","gap-4","mb-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],[3,"click"],[1,"bg-gray-800","rounded-xl","p-4"],["alt","Python programming illustration","height","200","src","assets/lenguaje-python.jpg","width","200",1,"w-full","object-cover","rounded-xl","mb-2"],[1,"text-lg","font-bold"],["alt","JavaScript programming illustration","height","200","src","assets/JS-picture.jpg","width","200",1,"w-full","object-cover","rounded-xl","mb-2"],["alt","Web Development illustration","height","200","src","assets/C.jpg","width","200",1,"w-full","object-cover","rounded-xl","mb-2"],["alt","Data Science illustration","height","200","src","assets/html-picture.jpg","width","200",1,"w-full","object-cover","rounded-xl","mb-2"],["alt","Machine Learning illustration","height","200","src","assets/SQL.jpg","width","200",1,"w-full","object-cover","rounded-xl","mb-2"],["alt","Artificial Intelligence illustration","height","200","src","assets/Kotlin.png","width","200",1,"w-full","object-cover","rounded-xl","mb-2"],["alt","Cybersecurity illustration","height","200","src","assets/java-picture.jpg","width","200",1,"w-full","object-cover","rounded-xl","mb-2"],["alt","Game Development illustration","height","200","src","assets/visualBasic.jpg","width","200",1,"w-full","object-cover","rounded-xl","mb-2"]],template:function(n,r){n&1&&(v(0,"body",0)(1,"main",1)(2,"h1",2),_(3,"Learn programming"),w(),v(4,"div",3)(5,"button",4),_(6,"All topics"),w(),v(7,"button",4),_(8,"Python"),w(),v(9,"button",4),_(10,"JavaScript"),w(),v(11,"button",4),_(12,"Web Development"),w(),v(13,"button",4),_(14,"Data Science"),w(),v(15,"button",4),_(16,"Machine Learning"),w(),v(17,"button",4),_(18," Artificial Intelligence "),w()(),v(19,"div",5),K(20,"input",6)(21,"i",7),w(),v(22,"div",8)(23,"button",4),_(24,"New"),w(),v(25,"button",4),_(26,"Trending"),w(),v(27,"button",4),_(28,"Top Rated"),w(),v(29,"button",4),_(30,"Free"),w(),v(31,"button",4),_(32,"Premium"),w()(),v(33,"div",9)(34,"button",10),F("click",function(){return r.onLanguageSelect("Python")}),v(35,"div",11),K(36,"img",12),v(37,"h2",13),_(38,"Python"),w()()(),v(39,"button",10),F("click",function(){return r.onLanguageSelect("JavaScript")}),v(40,"div",11),K(41,"img",14),v(42,"h2",13),_(43,"JavaScript"),w()()(),v(44,"button",10),F("click",function(){return r.onLanguageSelect("CSharp")}),v(45,"div",11),K(46,"img",15),v(47,"h2",13),_(48,"CSharp"),w()()(),v(49,"button",10),F("click",function(){return r.onLanguageSelect("HTML")}),v(50,"div",11),K(51,"img",16),v(52,"h2",13),_(53,"HTML"),w()()(),v(54,"button",10),F("click",function(){return r.onLanguageSelect("SQL")}),v(55,"div",11),K(56,"img",17),v(57,"h2",13),_(58,"SQL"),w()()(),v(59,"button",10),F("click",function(){return r.onLanguageSelect("Kotlin")}),v(60,"div",11),K(61,"img",18),v(62,"h2",13),_(63,"Kotlin"),w()()(),v(64,"button",10),F("click",function(){return r.onLanguageSelect("Java")}),v(65,"div",11),K(66,"img",19),v(67,"h2",13),_(68,"Java"),w()()(),v(69,"button",10),F("click",function(){return r.onLanguageSelect("VisualBasic")}),v(70,"div",11),K(71,"img",20),v(72,"h2",13),_(73,"VisualBasic"),w()()()()()())},encapsulation:2})};var h7=()=>[1,2,3,4,5];function f7(t,e){if(t&1){let n=Be();v(0,"div",6)(1,"div",7),K(2,"span",8),v(3,"div",9)(4,"div",10)(5,"span",11),_(6,"\u{1F393}"),w(),v(7,"h3",12),_(8),w()(),v(9,"p",13),_(10," Unlock new skills in this exciting level. "),w(),v(11,"div",14)(12,"button",15),F("click",function(){let i=Ue(n).$implicit,o=he();return je(o.goToLevel(i))}),_(13),w()()()()()}if(t&2){let n=e.$implicit;j(8),Ae("Level ",n,""),j(5),Ae(" Start Level ",n," ")}}var Jp=class t{constructor(e,n){this.route=e;this.router=n}courseTitle="";ngOnInit(){this.courseTitle=this.route.snapshot.paramMap.get("title")||"Course not found"}goBack(){this.router.navigate(["/"])}goToLevel(e){this.router.navigate([`/course/${this.courseTitle}/level/${e}`])}static \u0275fac=function(n){return new(n||t)(z(fr),z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-course-detail"]],standalone:!1,decls:10,vars:5,consts:[[1,"flex","flex-col","items-center","justify-center","h-screen"],[1,"text-4xl","font-bold","text-white","mb-6"],[1,"text-lg","text-gray-300","mb-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6"],["class","flex justify-center",4,"ngFor","ngForOf"],[1,"mt-8","px-6","py-3","bg-blue-600","text-white","font-semibold","rounded-lg","shadow-md","hover:bg-blue-700","hover:shadow-lg","transition-all","duration-300",3,"click"],[1,"flex","justify-center"],[1,"relative","cursor-pointer","dark:text-white"],[1,"absolute","top-0","left-0","w-full","h-full","mt-1","ml-1","bg-indigo-500","rounded-lg","dark:bg-gray-200"],[1,"relative","p-6","bg-white","dark:bg-gray-800","border-2","border-indigo-500","dark:border-gray-300","rounded-lg","hover:scale-105","transition","duration-500"],[1,"flex","items-center"],[1,"text-xl"],[1,"my-2","ml-3","text-lg","font-bold","text-gray-800","dark:text-white"],[1,"text-gray-600","dark:text-gray-300"],[1,"text-right","mt-4"],[1,"px-4","py-2","bg-gradient-to-r","from-green-400","to-blue-500","text-white","font-semibold","rounded-lg","shadow-md","hover:scale-105","transition-all",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2),Wh(3,"titlecase"),w(),v(4,"p",2),_(5,"Choose a level to start learning:"),w(),v(6,"div",3),Oe(7,f7,14,2,"div",4),w(),v(8,"button",5),F("click",function(){return r.goBack()}),_(9," Back to Courses "),w()()),n&2&&(j(2),wo(Gh(3,2,r.courseTitle)),j(5),ee("ngForOf",qx(4,h7)))},dependencies:[Jh,Xh],encapsulation:2})};function p7(t,e){if(t&1&&(v(0,"p",10),_(1),w()),t&2){let n=he();j(),Ae(" ",n.feedbackMessage," ")}}function g7(t,e){if(t&1){let n=Be();v(0,"button",11),F("click",function(){Ue(n);let i=he();return je(i.goToNextLevel())}),_(1," Next Level "),w()}}var Xp=class t{constructor(e){this.router=e}courseTitle="python";level=1;feedbackMessage="";checkAnswer(e){e==="option1"?this.feedbackMessage="\u2705 Correct!! You can declare a variable in Python like this: `age = 25`.":this.feedbackMessage="\u274C Incorrect! That\u2019s not correct. Try again."}goToNextLevel(){this.router.navigate([`/course/${this.courseTitle}/level/2`])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-python-level-1"]],standalone:!1,decls:19,vars:2,consts:[[1,"flex","flex-col","items-center","justify-center","h-screen","bg-grey-700","text-center","p-8"],[1,"text-5xl","font-extrabold","text-white","mb-4"],[1,"text-xl","text-white","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-xl","mx-auto"],[1,"text-3xl","font-bold","text-gray-800","mb-4"],[1,"text-lg","text-gray-700","mb-4"],[1,"flex","flex-col","gap-4","mb-6"],[1,"px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-all",3,"click"],["class","text-lg text-gray-700 mt-4",4,"ngIf"],["class","mt-6 px-6 py-3 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-all",3,"click",4,"ngIf"],[1,"text-lg","text-gray-700","mt-4"],[1,"mt-6","px-6","py-3","bg-green-600","text-white","rounded-lg","shadow-md","hover:bg-green-700","transition-all",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2," Python - Level 1: Introduction "),w(),v(3,"p",2),_(4," Let's start learning about variables in Python! "),w(),v(5,"div",3)(6,"h2",4),_(7," What is the correct way to declare a variable in Python? "),w(),v(8,"p",5),_(9," In Python, you declare a variable by assigning a value to a name. Which of the following is the correct way to declare a variable `age` with the value `25`? "),w(),v(10,"div",6)(11,"button",7),F("click",function(){return r.checkAnswer("option1")}),_(12," age = 25 "),w(),v(13,"button",7),F("click",function(){return r.checkAnswer("option2")}),_(14," 25 = age "),w(),v(15,"button",7),F("click",function(){return r.checkAnswer("option3")}),_(16," int age = 25 "),w()(),Oe(17,p7,2,1,"p",8)(18,g7,2,0,"button",9),w()()),n&2&&(j(17),ee("ngIf",r.feedbackMessage),j(),ee("ngIf",r.feedbackMessage.includes("Correct")))},dependencies:[nt],styles:[".bg-gradient-to-r[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#4c6ef5,#7b61ff)}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-shadow:2px 2px 4px rgba(0,0,0,.3)}button[_ngcontent-%COMP%]{transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#2d6a4f}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem}.text-5xl[_ngcontent-%COMP%]{font-size:3rem}.text-white[_ngcontent-%COMP%]{color:#fff}.text-gray-700[_ngcontent-%COMP%]{color:#4a5568}.text-gray-800[_ngcontent-%COMP%]{color:#2d3748}"]})};function m7(t,e){if(t&1){let n=Be();v(0,"button",8),F("click",function(){Ue(n);let i=he();return je(i.goToNextLevel())}),_(1," Next Level "),w()}}var eg=class t{constructor(e){this.router=e}courseTitle="python";level=2;feedbackMessage="";answer=null;correctAnswer=45;checkAnswer(){this.answer===this.correctAnswer?this.feedbackMessage="\u2705 Correct! Great job, you nailed the operation.":this.feedbackMessage="\u274C Incorrect! That\u2019s not correct. Try again."}goToNextLevel(){this.router.navigate([`/course/${this.courseTitle}/level/3`])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-python-level-2"]],standalone:!1,decls:17,vars:9,consts:[[1,"flex","flex-col","items-center","justify-center","h-screen","text-center"],[1,"text-4xl","font-bold","text-white"],[1,"text-lg","text-gray-300","mt-4"],[1,"text-white","mt-4"],["type","number","placeholder","Your answer",1,"mt-4","px-4","py-2","rounded-lg",2,"width","200px",3,"ngModelChange","ngModel"],[1,"mt-4","px-4","py-2","bg-green-600","text-white","rounded-lg",3,"click"],[1,"mt-4","text-white"],["class","mt-6 px-4 py-2 bg-blue-600 text-white rounded-lg",3,"click",4,"ngIf"],[1,"mt-6","px-4","py-2","bg-blue-600","text-white","rounded-lg",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2),Wh(3,"titlecase"),w(),v(4,"p",2),_(5),w(),v(6,"p",3),_(7," What is the result of the following operation in Python? "),K(8,"br"),v(9,"code"),_(10,"8 * (4 + 2) - 6 / 2"),w()(),v(11,"input",4),Gt("ngModelChange",function(o){return nn(r.answer,o)||(r.answer=o),o}),w(),v(12,"button",5),F("click",function(){return r.checkAnswer()}),_(13," Check Answer "),w(),v(14,"p",6),_(15),w(),Oe(16,m7,2,0,"button",7),w()),n&2&&(j(2),qh("",Gh(3,7,r.courseTitle)," - Level ",r.level,""),j(3),qh(" Welcome to Level ",r.level," of ",r.courseTitle,"! Let's work with math operations. "),j(6),Wt("ngModel",r.answer),j(4),wo(r.feedbackMessage),j(),ee("ngIf",r.feedbackMessage.includes("Correct")))},dependencies:[nt,kn,gE,br,Qn,Xh],encapsulation:2})};function y7(t,e){if(t&1&&(v(0,"p",15),_(1),w()),t&2){let n=he();j(),Ae(" ",n.feedbackMessage," ")}}function v7(t,e){if(t&1){let n=Be();v(0,"button",16),F("click",function(){Ue(n);let i=he();return je(i.goToNextLevel())}),_(1," Next Level "),w()}}var tg=class t{constructor(e){this.router=e}courseTitle="python";level=3;feedbackMessage="";checkAnswer(e){e==="option1"?this.feedbackMessage="\u2705 Correct! Breakdown: (a or b) \u2192 True, (b and c) \u2192 False, not False \u2192 True. So, True and True \u2192 True.":this.feedbackMessage="\u274C Incorrect. Hint: Break the expression into steps and evaluate them one by one."}goToNextLevel(){this.router.navigate([`/course/${this.courseTitle}/level/4`])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-python-level-3"]],standalone:!1,decls:58,vars:2,consts:[[1,"flex","flex-col","items-center","justify-center","h-screen","bg-gray-700","text-center","p-8"],[1,"text-5xl","font-extrabold","text-white","mb-4"],[1,"text-xl","text-white","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-xl","mx-auto"],[1,"text-3xl","font-bold","text-gray-800","mb-4"],[1,"text-lg","text-gray-700","mb-4","font-mono","bg-gray-200","p-4","rounded-md"],[1,"text-blue-500"],[1,"text-green-500"],[1,"text-red-500"],[1,"text-yellow-600"],[1,"text-black"],[1,"flex","flex-col","gap-4","mb-6"],[1,"px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-all",3,"click"],["class","text-lg text-gray-700 mt-4",4,"ngIf"],["class","mt-6 px-6 py-3 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-all",3,"click",4,"ngIf"],[1,"text-lg","text-gray-700","mt-4"],[1,"mt-6","px-6","py-3","bg-green-600","text-white","rounded-lg","shadow-md","hover:bg-green-700","transition-all",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2," Python - Level 3: Logical Operators "),w(),v(3,"p",2),_(4," Let's test your knowledge of logical operators! "),w(),v(5,"div",3)(6,"h2",4),_(7," What will be the output of this Python expression? "),w(),v(8,"p",5)(9,"span",6),_(10,"a"),w(),_(11," = "),v(12,"span",7),_(13,"True"),w(),K(14,"br"),v(15,"span",6),_(16,"b"),w(),_(17," = "),v(18,"span",8),_(19,"False"),w(),K(20,"br"),v(21,"span",6),_(22,"c"),w(),_(23," = "),v(24,"span",7),_(25,"True"),w(),K(26,"br"),v(27,"span",9),_(28,"print"),w(),_(29,"(("),v(30,"span",6),_(31,"a"),w(),v(32,"span",10),_(33," or "),w(),v(34,"span",6),_(35,"b"),w(),_(36,") "),v(37,"span",10),_(38," and "),w(),v(39,"span",10),_(40,"not "),w(),_(41," ("),v(42,"span",6),_(43,"b"),w(),v(44,"span",10),_(45," and "),w(),v(46,"span",6),_(47,"c"),w(),_(48,")) "),w(),v(49,"div",11)(50,"button",12),F("click",function(){return r.checkAnswer("option1")}),_(51," True "),w(),v(52,"button",12),F("click",function(){return r.checkAnswer("option2")}),_(53," False "),w(),v(54,"button",12),F("click",function(){return r.checkAnswer("option3")}),_(55," None "),w()(),Oe(56,y7,2,1,"p",13)(57,v7,2,0,"button",14),w()()),n&2&&(j(56),ee("ngIf",r.feedbackMessage),j(),ee("ngIf",r.feedbackMessage.includes("Correct")))},dependencies:[nt],encapsulation:2})};function _7(t,e){if(t&1&&(v(0,"p",18),_(1),w()),t&2){let n=he();j(),Ae(" ",n.feedbackMessage," ")}}function w7(t,e){if(t&1){let n=Be();v(0,"button",19),F("click",function(){Ue(n);let i=he();return je(i.goToNextLevel())}),_(1," Next Level "),w()}}var ng=class t{constructor(e){this.router=e}courseTitle="python";level=4;feedbackMessage="";checkAnswer(e){e==="option1"?this.feedbackMessage="\u2705 Correct! Breakdown: Append 60, remove 20, then slice [1:4] \u2192 [30, 40, 50].":this.feedbackMessage="\u274C Incorrect. Hint: Remember how slicing works in lists."}checkTupleAnswer(e){e==="tupleOption2"?this.feedbackMessage="\u2705 Yes! Tuples are immutable, meaning their values cannot be changed.":this.feedbackMessage="\u274C Incorrect. Hint: Tuples cannot be modified after creation."}goToNextLevel(){this.router.navigate([`/course/${this.courseTitle}/level/5`])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-python-level-4"]],standalone:!1,decls:67,vars:2,consts:[[1,"flex","flex-col","items-center","justify-center","min-h-screen","bg-gray-700","text-center","p-8","mt-20"],[1,"text-5xl","font-extrabold","text-white","mb-4"],[1,"text-xl","text-white","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-xl","mx-auto"],[1,"text-3xl","font-bold","text-gray-800","mb-4"],[1,"text-lg","text-gray-700","mb-4","font-mono","bg-gray-200","p-4","rounded-md"],[1,"text-blue-500"],[1,"text-black"],[1,"text-yellow-500"],[1,"text-green-600"],[1,"text-yellow-600"],[1,"text-red-500"],[1,"flex","flex-col","gap-4","mb-6"],[1,"px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-all",3,"click"],[1,"text-2xl","font-bold","text-gray-800","mt-8","mb-4"],[1,"text-lg","text-gray-700","mb-4"],["class","text-lg text-gray-700 mt-4",4,"ngIf"],["class","mt-6 px-6 py-3 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-all",3,"click",4,"ngIf"],[1,"text-lg","text-gray-700","mt-4"],[1,"mt-6","px-6","py-3","bg-green-600","text-white","rounded-lg","shadow-md","hover:bg-green-700","transition-all",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2," Python - Level 4: Lists & Tuples "),w(),v(3,"p",2),_(4," Let's test your knowledge of lists and tuples in Python! "),w(),v(5,"div",3)(6,"h2",4),_(7," What will be the output of this Python code? "),w(),v(8,"p",5)(9,"span",6),_(10,"my_list"),w(),_(11," = "),v(12,"span",7),_(13,"[10, 20, 30, 40, 50]"),w(),K(14,"br"),v(15,"span",6),_(16,"my_list"),w(),_(17,"."),v(18,"span",8),_(19,"append"),w(),_(20,"("),v(21,"span",9),_(22,"60"),w(),_(23,") "),K(24,"br"),v(25,"span",6),_(26,"my_list"),w(),_(27,"."),v(28,"span",8),_(29,"remove"),w(),_(30,"("),v(31,"span",9),_(32,"20"),w(),_(33,") "),K(34,"br"),v(35,"span",10),_(36,"print"),w(),_(37,"("),v(38,"span",6),_(39,"my_list"),w(),_(40,"["),v(41,"span",11),_(42,"1"),w(),_(43,":"),v(44,"span",11),_(45,"4"),w(),_(46,"]) "),w(),v(47,"div",12)(48,"button",13),F("click",function(){return r.checkAnswer("option1")}),_(49," [30, 40, 50] "),w(),v(50,"button",13),F("click",function(){return r.checkAnswer("option2")}),_(51," [10, 30, 40] "),w(),v(52,"button",13),F("click",function(){return r.checkAnswer("option3")}),_(53," [30, 40, 50, 60] "),w()(),v(54,"h2",14),_(55," Which statement about tuples is true? "),w(),v(56,"p",15),_(57," Choose the correct answer about tuples in Python. "),w(),v(58,"div",12)(59,"button",13),F("click",function(){return r.checkTupleAnswer("tupleOption1")}),_(60," Tuples are mutable, just like lists. "),w(),v(61,"button",13),F("click",function(){return r.checkTupleAnswer("tupleOption2")}),_(62," Tuples are immutable, meaning their values cannot be changed. "),w(),v(63,"button",13),F("click",function(){return r.checkTupleAnswer("tupleOption3")}),_(64," Tuples do not allow duplicates. "),w()(),Oe(65,_7,2,1,"p",16)(66,w7,2,0,"button",17),w()()),n&2&&(j(65),ee("ngIf",r.feedbackMessage),j(),ee("ngIf",r.feedbackMessage.includes("Yes")))},dependencies:[nt],encapsulation:2})};var E7=(t,e)=>({"text-green-600":t,"text-red-600":e});function I7(t,e){if(t&1&&(v(0,"p",9),_(1),w()),t&2){let n=he();ee("ngClass",Gs(2,E7,n.isCorrect,!n.isCorrect)),j(),Ae(" ",n.feedbackMessage," ")}}function b7(t,e){if(t&1){let n=Be();v(0,"button",14),F("click",function(){Ue(n);let i=he(2);return je(i.showHintMessage())}),_(1," Need a Hint? "),w()}}function C7(t,e){if(t&1&&(v(0,"p",15),_(1),w()),t&2){let n=he(2);j(),Ae(" ",n.hintMessage," ")}}function T7(t,e){if(t&1){let n=Be();v(0,"button",16),F("click",function(){Ue(n);let i=he(2);return je(i.goHome())}),_(1," \u{1F389} Congratulations! Go to Home "),w()}}function D7(t,e){if(t&1&&(v(0,"div",10),Oe(1,b7,2,0,"button",11)(2,C7,2,1,"p",12)(3,T7,2,0,"button",13),w()),t&2){let n=he();j(),ee("ngIf",n.showHint),j(),ee("ngIf",n.hintMessage),j(),ee("ngIf",n.isCorrect)}}var rg=class t{constructor(e){this.router=e}userCode="";feedbackMessage="";hintMessage="";isCorrect=!1;failedAttempts=0;showHint=!1;checkCode(){/def square\s*\(\s*n\s*\)\s*:\s*return\s*n\s*\*\s*n/g.test(this.userCode.trim())?(this.isCorrect=!0,this.feedbackMessage="\u2705 Correct! Your function is working perfectly!"):(this.isCorrect=!1,this.feedbackMessage="\u274C Incorrect. Try again.",this.failedAttempts++,this.failedAttempts>=2&&(this.showHint=!0))}showHintMessage(){this.hintMessage="Hint: You need to define a function and return n * n."}goHome(){this.router.navigate(["/"])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-python-level-5"]],standalone:!1,decls:13,vars:3,consts:[[1,"flex","flex-col","items-center","justify-center","min-h-screen","text-center","p-8"],[1,"text-5xl","font-extrabold","text-white","mb-4"],[1,"text-xl","text-white","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-xl","mx-auto"],[1,"text-2xl","font-bold","text-gray-800","mb-4"],["rows","5","placeholder",`def square(n):
    # Your code here`,1,"w-full","p-3","border","border-gray-300","rounded-lg","text-gray-800","font-mono",3,"ngModelChange","ngModel"],[1,"mt-4","px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-all",3,"click"],["class","text-lg mt-4",3,"ngClass",4,"ngIf"],["class","mt-6 flex flex-col items-center gap-4",4,"ngIf"],[1,"text-lg","mt-4",3,"ngClass"],[1,"mt-6","flex","flex-col","items-center","gap-4"],["class","px-6 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-all",3,"click",4,"ngIf"],["class","text-lg text-gray-700 mt-4 italic",4,"ngIf"],["class","px-6 py-3 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-all",3,"click",4,"ngIf"],[1,"px-6","py-3","bg-yellow-500","text-white","rounded-lg","hover:bg-yellow-600","transition-all",3,"click"],[1,"text-lg","text-gray-700","mt-4","italic"],[1,"px-6","py-3","bg-green-600","text-white","rounded-lg","shadow-md","hover:bg-green-700","transition-all",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2," Python - Final Level: Coding Challenge "),w(),v(3,"p",2),_(4," Write a Python function that returns the square of a number. "),w(),v(5,"div",3)(6,"h2",4),_(7," Enter your code below: "),w(),v(8,"textarea",5),Gt("ngModelChange",function(o){return nn(r.userCode,o)||(r.userCode=o),o}),w(),v(9,"button",6),F("click",function(){return r.checkCode()}),_(10," Run Code "),w(),Oe(11,I7,2,5,"p",7)(12,D7,4,3,"div",8),w()()),n&2&&(j(8),Wt("ngModel",r.userCode),j(3),ee("ngIf",r.feedbackMessage),j(),ee("ngIf",r.isCorrect||r.showHint))},dependencies:[Ys,nt,kn,br,Qn],encapsulation:2})};function S7(t,e){if(t&1&&(v(0,"p",10),_(1),w()),t&2){let n=he();j(),Ae(" ",n.feedbackMessage," ")}}function A7(t,e){if(t&1){let n=Be();v(0,"button",11),F("click",function(){Ue(n);let i=he();return je(i.goToNextLevel())}),_(1," Next Level "),w()}}var ig=class t{constructor(e){this.router=e}courseTitle="csharp";level=1;feedbackMessage="";checkAnswer(e){e==="option3"?this.feedbackMessage="\u2705 Correct! You can declare an int variable like this: `double number = 25.3;`":this.feedbackMessage="\u274C Incorrect! That\u2019s not correct. Try again."}goToNextLevel(){this.router.navigate([`/course/${this.courseTitle}/level/2`])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-csharp-level-1"]],standalone:!1,decls:19,vars:2,consts:[[1,"flex","flex-col","items-center","justify-center","h-screen","bg-gray-700","text-center","p-8"],[1,"text-5xl","font-extrabold","text-white","mb-4"],[1,"text-xl","text-white","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-xl","mx-auto"],[1,"text-3xl","font-bold","text-gray-800","mb-4"],[1,"text-lg","text-gray-700","mb-4"],[1,"flex","flex-col","gap-4","mb-6"],[1,"px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-all",3,"click"],["class","text-lg text-gray-700 mt-4",4,"ngIf"],["class","mt-6 px-6 py-3 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-all",3,"click",4,"ngIf"],[1,"text-lg","text-gray-700","mt-4"],[1,"mt-6","px-6","py-3","bg-green-600","text-white","rounded-lg","shadow-md","hover:bg-green-700","transition-all",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2," C# - Level 1: Variables and Data Types "),w(),v(3,"p",2),_(4," In this level, let's start learning about variables and data types in C#. "),w(),v(5,"div",3)(6,"h2",4),_(7," What is the correct way to declare a variable in C#? "),w(),v(8,"p",5),_(9," In C#, you declare a variable by specifying the type and the name. Choose the correct way to declare a variable of type `double` with the value `25.3`: "),w(),v(10,"div",6)(11,"button",7),F("click",function(){return r.checkAnswer("option1")}),_(12," double 25.3 = number; "),w(),v(13,"button",7),F("click",function(){return r.checkAnswer("option2")}),_(14," 25.3 = number double; "),w(),v(15,"button",7),F("click",function(){return r.checkAnswer("option3")}),_(16," double number = 25.3; "),w()(),Oe(17,S7,2,1,"p",8)(18,A7,2,0,"button",9),w()()),n&2&&(j(17),ee("ngIf",r.feedbackMessage),j(),ee("ngIf",r.feedbackMessage.includes("Correct")))},dependencies:[nt],encapsulation:2})};function x7(t,e){if(t&1&&(v(0,"p",11),_(1),w()),t&2){let n=he();j(),Ae(" ",n.feedbackMessage," ")}}function R7(t,e){if(t&1){let n=Be();v(0,"button",12),F("click",function(){Ue(n);let i=he();return je(i.goToNextLevel())}),_(1," Next Level "),w()}}var og=class t{constructor(e){this.router=e}courseTitle="csharp";level=2;feedbackMessage="";checkAnswer(e){e==="option1"?this.feedbackMessage="\u2705 Correct! The result of a + b * 2 is 20 because multiplication has higher precedence than addition.":this.feedbackMessage="\u274C Incorrect! That\u2019s not correct. Try again."}goToNextLevel(){this.router.navigate([`/course/${this.courseTitle}/level/3`])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-csharp-level-2"]],standalone:!1,decls:27,vars:2,consts:[[1,"flex","flex-col","items-center","justify-center","h-screen","bg-gray-700","text-center","p-8","mt-6"],[1,"text-5xl","font-extrabold","text-white","mb-4"],[1,"text-xl","text-white","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-xl","mx-auto"],[1,"text-3xl","font-bold","text-gray-800","mb-4"],[1,"text-lg","text-gray-700","mb-4","font-mono","bg-gray-200","p-4","rounded-md"],[1,"text-lg","text-gray-700","mb-4"],[1,"flex","flex-col","gap-4","mb-6"],[1,"px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-all",3,"click"],["class","text-lg text-gray-700 mt-4",4,"ngIf"],["class","mt-6 px-6 py-3 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-all",3,"click",4,"ngIf"],[1,"text-lg","text-gray-700","mt-4"],[1,"mt-6","px-6","py-3","bg-green-600","text-white","rounded-lg","shadow-md","hover:bg-green-700","transition-all",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2," C# - Level 2: Operators and Expressions "),w(),v(3,"p",2),_(4," Now let's learn about operators and expressions in C#. "),w(),v(5,"div",3)(6,"h2",4),_(7," What will be the result of this C# expression? "),w(),v(8,"p",5),_(9," int a = 10; "),K(10,"br"),_(11," int b = 5; "),K(12,"br"),_(13," int result = a + b * 2; "),K(14,"br"),_(15," Console.WriteLine(result); "),w(),v(16,"p",6),_(17," What will be the output of the above code? Choose the correct answer: "),w(),v(18,"div",7)(19,"button",8),F("click",function(){return r.checkAnswer("option1")}),_(20," 20 "),w(),v(21,"button",8),F("click",function(){return r.checkAnswer("option2")}),_(22," 30 "),w(),v(23,"button",8),F("click",function(){return r.checkAnswer("option3")}),_(24," 25 "),w()(),Oe(25,x7,2,1,"p",9)(26,R7,2,0,"button",10),w()()),n&2&&(j(25),ee("ngIf",r.feedbackMessage),j(),ee("ngIf",r.feedbackMessage.includes("Correct")))},dependencies:[nt],encapsulation:2})};function N7(t,e){if(t&1&&(v(0,"p",15),_(1),w()),t&2){let n=he();j(),Ae(" ",n.feedbackMessage," ")}}function M7(t,e){if(t&1){let n=Be();v(0,"button",16),F("click",function(){Ue(n);let i=he();return je(i.goToNextLevel())}),_(1," Next Level "),w()}}var sg=class t{constructor(e){this.router=e}courseTitle="csharp";level=3;feedbackMessage="";checkAnswer(e){e==="option1"?this.feedbackMessage="\u2705 Correct! The while loop prints the values of a: 1, 2, and 3.":this.feedbackMessage="\u274C Incorrect! That\u2019s not correct. Try again."}goToNextLevel(){this.router.navigate([`/course/${this.courseTitle}/level/4`])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-csharp-level-3"]],standalone:!1,decls:38,vars:2,consts:[[1,"flex","flex-col","items-center","justify-center","h-screen","bg-gray-700","text-center","p-8","mt-10"],[1,"text-5xl","font-extrabold","text-white","mb-4"],[1,"text-xl","text-white","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-xl","mx-auto"],[1,"text-3xl","font-bold","text-gray-800","mb-4"],[1,"text-lg","text-gray-700","mb-4","font-mono","bg-gray-200","p-4","rounded-md"],[1,"text-green-500"],[1,"text-blue-500"],[1,"text-yellow-500"],[1,"text-red-500"],[1,"text-lg","text-gray-700","mb-4"],[1,"flex","flex-col","gap-4","mb-6"],[1,"px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-all",3,"click"],["class","text-lg text-gray-700 mt-4",4,"ngIf"],["class","mt-6 px-6 py-3 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-all",3,"click",4,"ngIf"],[1,"text-lg","text-gray-700","mt-4"],[1,"mt-6","px-6","py-3","bg-green-600","text-white","rounded-lg","shadow-md","hover:bg-green-700","transition-all",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2," C# - Level 3: Control Structures "),w(),v(3,"p",2),_(4," Let's dive into control structures: conditionals and loops. "),w(),v(5,"div",3)(6,"h2",4),_(7," What will be the output of this C# code? "),w(),v(8,"p",5)(9,"span",6),_(10,"int a = 1;"),w(),K(11,"br"),v(12,"span",7),_(13,"while"),w(),_(14," (a <= 3) "),K(15,"br"),_(16," \xA0\xA0\xA0"),v(17,"span",8),_(18,"Console.WriteLine"),w(),_(19,"(a); "),K(20,"br"),_(21," \xA0\xA0\xA0"),v(22,"span",9),_(23,"a++"),w(),_(24,"; "),K(25,"br")(26,"br"),w(),v(27,"p",10),_(28," What will be the output of the above code? Choose the correct answer: "),w(),v(29,"div",11)(30,"button",12),F("click",function(){return r.checkAnswer("option1")}),_(31," 1 2 3 "),w(),v(32,"button",12),F("click",function(){return r.checkAnswer("option2")}),_(33," 3 2 1 "),w(),v(34,"button",12),F("click",function(){return r.checkAnswer("option3")}),_(35," 1 1 1 "),w()(),Oe(36,N7,2,1,"p",13)(37,M7,2,0,"button",14),w()()),n&2&&(j(36),ee("ngIf",r.feedbackMessage),j(),ee("ngIf",r.feedbackMessage.includes("Correct")))},dependencies:[nt],encapsulation:2})};function k7(t,e){if(t&1){let n=Be();v(0,"button",15),F("click",function(){Ue(n);let i=he();return je(i.goToNextLevel())}),_(1," Next Level "),w()}}var ag=class t{constructor(e){this.router=e}feedbackMessage="";courseTitle="csharp";level=4;attempts=0;checkAnswer(e){this.attempts++,e==="option1"?this.feedbackMessage="\u2705 Correct! The output is: 3 10 30 40 50.":this.feedbackMessage="\u274C Incorrect! That\u2019s not correct. Try again.",this.attempts>2&&(this.feedbackMessage+=" Hint: Remember to check how the list is modified.")}goToNextLevel(){this.router.navigate([`/course/${this.courseTitle}/level/5`])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-csharp-level-4"]],standalone:!1,decls:47,vars:2,consts:[[1,"flex","flex-col","items-center","justify-center","h-screen","bg-gray-700","text-center","p-8","mt-16"],[1,"text-5xl","font-extrabold","text-white","mb-4"],[1,"text-xl","text-white","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-xl","mx-auto"],[1,"text-3xl","font-bold","text-gray-800","mb-4"],[1,"text-lg","text-gray-700","mb-4","font-mono","bg-gray-200","p-4","rounded-md"],[1,"text-blue-600"],[1,"text-green-600"],[1,"text-red-600"],[1,"text-orange-500"],[1,"text-blue-500"],[1,"flex","flex-col","gap-4","mb-6"],[1,"px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-all",3,"click"],[1,"text-lg","text-gray-700","mt-4",3,"innerHTML"],["class","mt-6 px-6 py-3 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-all",3,"click",4,"ngIf"],[1,"mt-6","px-6","py-3","bg-green-600","text-white","rounded-lg","shadow-md","hover:bg-green-700","transition-all",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2," C# - Level 4: Arreglos y Listas "),w(),v(3,"p",2),_(4," Let's explore arrays and lists in C#! "),w(),v(5,"div",3)(6,"h2",4),_(7," What will be the output of this C# code? "),w(),v(8,"p",5)(9,"span",6),_(10,"string[]"),w(),_(11," arr = "),v(12,"span",7),_(13,"( 10, 20, 30, 40, 50 )"),w(),_(14,"; "),K(15,"br"),_(16," arr["),v(17,"span",8),_(18,"2"),w(),_(19,"] = "),v(20,"span",9),_(21,"25"),w(),_(22,"; "),K(23,"br"),v(24,"span",6),_(25,"foreach"),w(),_(26," ("),v(27,"span",6),_(28,"var"),w(),_(29," item "),v(30,"span",6),_(31,"in"),w(),_(32," arr) "),K(33,"br"),v(34,"span",10),_(35,"Console.WriteLine"),w(),_(36,"(item); "),K(37,"br"),w(),v(38,"div",11)(39,"button",12),F("click",function(){return r.checkAnswer("option1")}),_(40," 10 20 25 40 50 "),w(),v(41,"button",12),F("click",function(){return r.checkAnswer("option2")}),_(42," 10 20 30 40 50 "),w(),v(43,"button",12),F("click",function(){return r.checkAnswer("option3")}),_(44," 25 20 30 40 50 "),w()(),K(45,"p",13),Oe(46,k7,2,0,"button",14),w()()),n&2&&(j(45),ee("innerHTML",r.feedbackMessage,OA),j(),ee("ngIf",r.feedbackMessage.includes("Correct")))},dependencies:[nt],encapsulation:2})};var P7=(t,e)=>({"text-green-600":t,"text-red-600":e});function O7(t,e){if(t&1&&(v(0,"p",9),_(1),w()),t&2){let n=he();ee("ngClass",Gs(2,P7,n.isCorrect,!n.isCorrect)),j(),Ae(" ",n.feedbackMessage," ")}}function L7(t,e){if(t&1){let n=Be();v(0,"button",14),F("click",function(){Ue(n);let i=he(2);return je(i.showHintMessage())}),_(1," Need a Hint? "),w()}}function F7(t,e){if(t&1&&(v(0,"p",15),_(1),w()),t&2){let n=he(2);j(),Ae(" ",n.hintMessage," ")}}function V7(t,e){if(t&1){let n=Be();v(0,"button",16),F("click",function(){Ue(n);let i=he(2);return je(i.goHome())}),_(1," \u{1F389} Congratulations! Go to Home "),w()}}function U7(t,e){if(t&1&&(v(0,"div",10),Oe(1,L7,2,0,"button",11)(2,F7,2,1,"p",12)(3,V7,2,0,"button",13),w()),t&2){let n=he();j(),ee("ngIf",n.showHint),j(),ee("ngIf",n.hintMessage),j(),ee("ngIf",n.isCorrect)}}var cg=class t{constructor(e){this.router=e}userCode="";feedbackMessage="";isCorrect=!1;showHint=!1;hintMessage="";attempts=0;checkCode(){this.feedbackMessage="",this.hintMessage="",this.isCorrect=!1,this.attempts++,this.userCode.includes("Array.Reverse(arr)")&&this.userCode.includes("Console.WriteLine")?(this.isCorrect=!0,this.feedbackMessage="\u{1F389} Correct! You have successfully reversed the array."):(this.feedbackMessage="Oops! That\u2019s not correct. Try again.",this.attempts>=2&&(this.showHint=!0))}showHintMessage(){this.hintMessage="Hint: Make sure you are using Array.Reverse() and printing each element with Console.WriteLine()."}goHome(){this.router.navigate(["/"])}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-csharp-level-final"]],standalone:!1,decls:13,vars:3,consts:[[1,"flex","flex-col","items-center","justify-center","min-h-screen","text-center","p-8"],[1,"text-5xl","font-extrabold","text-white","mb-4"],[1,"text-xl","text-white","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-xl","mx-auto"],[1,"text-2xl","font-bold","text-gray-800","mb-4"],["rows","5","placeholder","Hint: Reverse the array and then print each element.",1,"w-full","p-3","border","border-gray-300","rounded-lg","text-gray-800","font-mono",3,"ngModelChange","ngModel"],[1,"mt-4","px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-all",3,"click"],["class","text-lg mt-4",3,"ngClass",4,"ngIf"],["class","mt-6 flex flex-col items-center gap-4",4,"ngIf"],[1,"text-lg","mt-4",3,"ngClass"],[1,"mt-6","flex","flex-col","items-center","gap-4"],["class","px-6 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-all",3,"click",4,"ngIf"],["class","text-lg text-gray-700 mt-4 italic",4,"ngIf"],["class","mt-6 px-6 py-3 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-all",3,"click",4,"ngIf"],[1,"px-6","py-3","bg-yellow-500","text-white","rounded-lg","hover:bg-yellow-600","transition-all",3,"click"],[1,"text-lg","text-gray-700","mt-4","italic"],[1,"mt-6","px-6","py-3","bg-green-600","text-white","rounded-lg","shadow-md","hover:bg-green-700","transition-all",3,"click"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),_(2," C# - Final Level: Coding Challenge "),w(),v(3,"p",2),_(4," Write a C# program that reverses an array and prints the elements. "),w(),v(5,"div",3)(6,"h2",4),_(7," Enter your code below: "),w(),v(8,"textarea",5),Gt("ngModelChange",function(o){return nn(r.userCode,o)||(r.userCode=o),o}),w(),v(9,"button",6),F("click",function(){return r.checkCode()}),_(10," Run Code "),w(),Oe(11,O7,2,5,"p",7)(12,U7,4,3,"div",8),w()()),n&2&&(j(8),Wt("ngModel",r.userCode),j(3),ee("ngIf",r.feedbackMessage),j(),ee("ngIf",r.isCorrect||r.showHint))},dependencies:[Ys,nt,kn,br,Qn],encapsulation:2})};var lg=class t{constructor(e,n,r){this.route=e;this.router=n;this.sanitizer=r}language="SQL";videoUrl="";safeUrl;documentation="";ngOnInit(){this.route.params.subscribe(e=>{this.language=e.title,this.setContent()})}sanitizeUrl(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}navigateToProgrammingTutorial(e){this.language=e,this.setContent()}navigateToCourse(e){this.router.navigate([`/course/${e}`])}setContent(){let n={Python:{videoUrl:"https://www.youtube.com/embed/kqtD5dpn9C8?autoplay=1&controls=1&showinfo=0&modestbranding=1&rel=0",documentation:`\u{1F40D} Python is a high-level, versatile, and easy-to-learn programming language, widely used in web development, data science, artificial intelligence, automation, and cybersecurity. Its clear syntax makes it accessible to both beginners and experts.

Its features include simple syntax, support for multiple programming paradigms, being an interpreted language, and having an extensive standard library. It is cross-platform and has a large community for support.

Python is fundamental in web development with frameworks like Django and Flask, and in data analysis with tools like Pandas, NumPy, and TensorFlow. It is also used in automation, game development, cybersecurity, and the Internet of Things with devices like Raspberry Pi.

Its advantages include ease of learning, higher productivity, compatibility with other languages, and being open source. Companies like Google, Netflix, Facebook, and NASA use it in various applications.

Thanks to its power and flexibility, Python is one of the best options for those looking to start programming or develop complex projects across various industries.`},CSharp:{videoUrl:"https://www.youtube.com/embed/gfkTfcpWqAY?autoplay=1&controls=1&showinfo=0&modestbranding=1&rel=0",documentation:`C# is a programming language developed by Microsoft, widely used in desktop application development, video games with Unity, and enterprise applications.

Its main features include modern syntax, support for object-oriented programming, and deep integration with the .NET platform. C# is known for its performance and robustness in building large-scale applications.

It is the primary language for creating video games in Unity, enabling the development of 2D and 3D games. It is also common in enterprise application development and mobile app development via Xamarin.`},VisualBasic:{videoUrl:"https://www.youtube.com/embed/HFWQdGn5DaU?autoplay=1&controls=1&showinfo=0&modestbranding=1&rel=0",documentation:`Visual Basic is a programming language developed by Microsoft, designed to be easy to learn and widely used in desktop and enterprise applications.

Through its integration with the Visual Studio development environment, Visual Basic allows for the creation of Windows applications, databases, and process automation. Although not as popular as other languages, it is still used in many legacy systems and enterprise environments.

Its key features are ease of use, simple syntax, and rapid creation of graphical interfaces through the use of visual forms.`},SQL:{videoUrl:"https://www.youtube.com/embed/7S_tz1z_5bA?autoplay=1&controls=1&showinfo=0&modestbranding=1&rel=0",documentation:`SQL (Structured Query Language) is a language used to manage relational databases. It allows you to create, read, update, and delete data (CRUD) from databases.

SQL is widely used in applications that require storage and manipulation of large amounts of data. With SQL, you can perform complex queries, join tables, aggregate data, and filter efficiently.

There are several database management systems (DBMS) that implement SQL, such as MySQL, PostgreSQL, Microsoft SQL Server, and Oracle Database.`},Kotlin:{videoUrl:"https://www.youtube.com/embed/F9UC9DY-vIU?autoplay=1&controls=1&showinfo=0&modestbranding=1&rel=0",documentation:`Kotlin is a modern and concise programming language, primarily used in Android app development. It is fully interoperable with Java and allows for cleaner code with fewer errors.

Kotlin is known for its modern, safe syntax that reduces common errors like NullPointerException. It also supports functional and object-oriented programming, making it a versatile and powerful language.

In addition to Android, Kotlin is also used to develop web apps, server apps, and cross-platform applications using frameworks like Kotlin Multiplatform.`},JavaScript:{videoUrl:"https://www.youtube.com/embed/W6NZfCO5SIk?autoplay=1&controls=1&showinfo=0&modestbranding=1&rel=0",documentation:`JavaScript is the primary programming language for web development. It allows you to add interactivity to web pages, handle events, and make asynchronous requests to the server, all in real-time.

Along with HTML and CSS, JavaScript is the backbone of modern web development. With the advent of Node.js, JavaScript has also gained popularity in server-side development.

Today, JavaScript is the most widely used language for developing interactive web applications and is widely used in frameworks like React, Angular, and Vue.js.`},Java:{videoUrl:"https://www.youtube.com/embed/eIrMbAQSU34?autoplay=1&controls=1&showinfo=0&modestbranding=1&rel=0",documentation:`Java is an object-oriented programming language widely used for enterprise applications, mobile apps, and backend systems.

It is known for its robustness, portability, and compatibility with various platforms. Java allows you to write code once and run it anywhere, making it a great option for distributed systems and large-scale applications.

Java is widely used in Android app development and in enterprise server environments. Frameworks like Spring and Hibernate have solidified it as a reliable choice in the software industry.`},HTML:{videoUrl:"https://www.youtube.com/embed/qz0aGYrrlhU?autoplay=1&controls=1&showinfo=0&modestbranding=1&rel=0",documentation:`HTML (HyperText Markup Language) is the standard markup language used to structure web page content. It defines the elements that make up a web page, such as headers, paragraphs, links, and lists.

Along with CSS and JavaScript, HTML is fundamental to the development of interactive websites. It is the foundation of any modern web page and serves to describe content in a hierarchical and semantic manner.

HTML5 is the latest version of HTML and has introduced new tags to improve accessibility and interactivity on web pages.`}}[this.language];this.safeUrl=this.sanitizeUrl(n.videoUrl),this.documentation=n.documentation}static \u0275fac=function(n){return new(n||t)(z(fr),z(ae),z(l_))};static \u0275cmp=_e({type:t,selectors:[["app-programming-tutorial"]],inputs:{language:"language",videoUrl:"videoUrl"},standalone:!1,decls:10,vars:4,consts:[[1,"w-3/5","mx-auto","p-8","mt-24"],["frameborder","0","allow","autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"w-full","h-96","rounded-lg","shadow-lg",3,"src"],[1,"mt-10"],[1,"text-3xl","font-bold","mb-4","text-white"],[1,"text-white","text-lg","leading-relaxed"],[1,"mt-10","flex","flex-col","items-center","bg-blue-600","flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-20","px-4","bg-[#1980e6]","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]",3,"click"],[1,"text-2xl","font-bold","mt-4","mb-4"]],template:function(n,r){n&1&&(v(0,"main",0),K(1,"iframe",1),v(2,"section",2)(3,"h1",3),_(4),w(),v(5,"p",4),_(6),w()(),v(7,"div",5),F("click",function(){return r.navigateToCourse(r.language)}),v(8,"h5",6),_(9),w()()()),n&2&&(j(),ee("src",r.safeUrl,LA),j(3),Ae("Learn ",r.language,""),j(2),wo(r.documentation),j(3),Ae("Go to ",r.language," course"))},styles:["iframe[_ngcontent-%COMP%]{max-width:100%}h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}"]})};var j7=[{path:"",component:Yp},{path:"login",component:cp},{path:"register",component:Qp},{path:"catalogo",component:Zp},{path:"catalogo/programming-tutorial/:title",component:lg},{path:"course/:title",component:Jp},{path:"course/python/level/1",component:Xp},{path:"course/python/level/2",component:eg},{path:"course/python/level/3",component:tg},{path:"course/python/level/4",component:ng},{path:"course/python/level/5",component:rg},{path:"course/csharp/level/1",component:ig},{path:"course/csharp/level/2",component:og},{path:"course/csharp/level/3",component:sg},{path:"course/csharp/level/4",component:ag},{path:"course/csharp/level/5",component:cg}],ug=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=tn({type:t});static \u0275inj=en({imports:[G_.forRoot(j7),G_]})};var B7=(t,e)=>({"translate-x-0":t,"translate-x-full":e}),dg=class t{constructor(e){this.router=e}title="codeTrek";isMenuOpen=!1;navigateToLogin(){this.router.navigate(["/login"])}navigateToCatalog(){this.router.navigate(["/catalogo"])}navigateToHome(){this.router.navigate(["/"])}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}static \u0275fac=function(n){return new(n||t)(z(ae))};static \u0275cmp=_e({type:t,selectors:[["app-root"]],standalone:!1,decls:45,vars:4,consts:[[1,"relative","flex","min-h-screen","flex-col","bg-gray-900","dark","group/design-root","overflow-x-hidden"],[1,"layout-container","flex","flex-col"],[1,"fixed","top-0","left-0","w-full","flex","items-center","justify-between","whitespace-nowrap","border-b","border-solid","border-b-[#293038]","px-6","py-3","bg-gray-800","z-50"],[3,"click"],[1,"flex","items-center","gap-4","text-xl","md:text-2xl","lg:text-3xl","xl:text-4xl",2,"font-family","'Press Start 2P'","background","linear-gradient(to right, white, #008cff)","-webkit-background-clip","text","background-clip","text","-webkit-text-fill-color","transparent"],[1,"md:hidden","flex","items-center","justify-center","p-2","rounded-lg","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2","fill","none","stroke-linecap","round","stroke-linejoin","round"],["x1","3","y1","6","x2","21","y2","6"],["x1","3","y1","12","x2","21","y2","12"],["x1","3","y1","18","x2","21","y2","18"],[1,"hidden","md:flex","flex-1","justify-end","gap-1"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-10","px-4","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]",3,"click"],[1,"truncate"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-10","px-4","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-xl","h-10","px-4","bg-[#1980e6]","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]",3,"click"],[1,"hidden","md:flex"],["src","../assets/profile_icon.webp","alt","imagen de perfil",1,"rounded-full","h-10","w-10","bg-[#1980e6]","ml-4"],[1,"fixed","top-0","right-0","h-full","w-64","bg-gray-900","text-white","transform","transition-transform","duration-300","ease-in-out","z-50",3,"ngClass"],[1,"p-4","flex","flex-col","space-y-4","flex","gap-2","sm:gap-4"],[1,"self-end","text-gray-400","hover:text-white",3,"click"],[1,"flex","items-center","justify-center","bg-grey-700"],["src","../assets/profile_icon.webp","alt","imagen de perfil",1,"rounded-full","h-10","w-10","bg-[#1980e6]"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","overflow-hidden","rounded-xl","h-10","px-4","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","overflow-hidden","rounded-xl","h-10","px-4","bg-[#1980e6]","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"div",1)(2,"header",2)(3,"button",3),F("click",function(){return r.navigateToHome()}),v(4,"div",4),_(5," CODETREK "),w()(),v(6,"button",5),F("click",function(){return r.toggleMenu()}),AS(),v(7,"svg",6),K(8,"line",7)(9,"line",8)(10,"line",9),w()(),xS(),v(11,"div",10)(12,"button",11),F("click",function(){return r.navigateToHome()}),v(13,"span",12),_(14,"Home"),w()(),v(15,"button",11),F("click",function(){return r.navigateToCatalog()}),v(16,"span",12),_(17,"Catalog"),w()(),v(18,"button",13)(19,"span",12),_(20,"Challenges"),w()(),v(21,"button",14),F("click",function(){return r.navigateToLogin()}),v(22,"span",12),_(23,"Sign In"),w()()(),v(24,"button",15),K(25,"img",16),w()(),v(26,"div",17)(27,"div",18)(28,"button",19),F("click",function(){return r.toggleMenu()}),_(29," \u2715 "),w(),v(30,"button",20),K(31,"img",21),w(),v(32,"button",22)(33,"span",12),_(34,"Home"),w()(),v(35,"button",22)(36,"span",12),_(37,"Catalog"),w()(),v(38,"button",22)(39,"span",12),_(40,"Challenges"),w()(),v(41,"button",23)(42,"span",12),_(43,"Sign In"),w()()()()(),K(44,"router-outlet"),w()),n&2&&(j(26),ee("ngClass",Gs(1,B7,r.isMenuOpen,!r.isMenuOpen)))},dependencies:[Ys,B_],styles:[".layout-content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:90vw;flex:1}@media (min-width: 640px){.layout-content-container[_ngcontent-%COMP%]{min-width:80vw}}@media (min-width: 768px){.layout-content-container[_ngcontent-%COMP%]{min-width:70vw}}@media (min-width: 1024px){.layout-content-container[_ngcontent-%COMP%]{min-width:60vw}}@media (min-width: 1280px){.layout-content-container[_ngcontent-%COMP%]{max-width:60vw}}"]})};var $7={apiKey:"AIzaSyCsoICy4ccu-xV0ZQDU7PWiiTxgI0j8oug",authDomain:"codetrek-f4fe6.firebaseapp.com",projectId:"codetrek-f4fe6",storageBucket:"codetrek-f4fe6.firebasestorage.app",messagingSenderId:"810373237387",appId:"1:810373237387:web:e00266c09cb0b40375e28e"},P1=Tl($7);var O1="@firebase/database",L1="1.0.14";var ob="";function H7(t){ob=t}var g0=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),vt(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:la(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var m0=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return mr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var pO=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new g0(e)}}catch{}return new m0},Yo=pO("localStorage"),y0=pO("sessionStorage");var Ba=new Mn("@firebase/database"),q7=function(){let t=1;return function(){return t++}}(),gO=function(t){let e=jN(t),n=new Af;n.update(e);let r=n.digest();return ua.encodeByteArray(r)},yu=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=yu.apply(null,r):typeof r=="object"?e+=vt(r):e+=r,e+=" "}return e},Zo=null,F1=!0,z7=function(t,e){B(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ba.logLevel=ue.VERBOSE,Zo=Ba.log.bind(Ba),e&&y0.set("logging_enabled",!0)):typeof t=="function"?Zo=t:(Zo=null,y0.remove("logging_enabled"))},Ut=function(...t){if(F1===!0&&(F1=!1,Zo===null&&y0.get("logging_enabled")===!0&&z7(!0)),Zo){let e=yu.apply(null,t);Zo(e)}},vu=function(t){return function(...e){Ut(t,...e)}},v0=function(...t){let e="FIREBASE INTERNAL ERROR: "+yu(...t);Ba.error(e)},ai=function(...t){let e=`FIREBASE FATAL ERROR: ${yu(...t)}`;throw Ba.error(e),new Error(e)},Tn=function(...t){let e="FIREBASE WARNING: "+yu(...t);Ba.warn(e)},W7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mO=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},G7=function(t){if(gr()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ha="[MIN_NAME]",Jo="[MAX_NAME]",Ya=function(t,e){if(t===e)return 0;if(t===Ha||e===Jo)return-1;if(e===Ha||t===Jo)return 1;{let n=V1(t),r=V1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},K7=function(t,e){return t===e?0:t<e?-1:1},ou=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+vt(e))},sb=function(t){if(typeof t!="object"||t===null)return vt(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=vt(e[r]),n+=":",n+=sb(t[e[r]]);return n+="}",n},yO=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Fn(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var vO=function(t){B(!mO(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let u=[];for(c=n;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();let h=u.join(""),p="";for(c=0;c<64;c+=8){let m=parseInt(h.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},Q7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Y7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var Z7=new RegExp("^-?(0*)\\d{1,10}$"),J7=-2147483648,X7=2147483647,V1=function(t){if(Z7.test(t)){let e=Number(t);if(e>=J7&&e<=X7)return e}return null},_u=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Tn("Exception was thrown by user callback.",n),e},Math.floor(0))}},eK=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},uu=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var _0=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,kt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Tn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var w0=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tn(e)}},du=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),fg="5",_O="v",wO="s",EO="r",IO="f",bO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CO="ls",TO="p",E0="ac",DO="websocket",SO="long_polling";var pg=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function tK(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function AO(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let r;if(e===DO)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===SO)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);tK(t)&&(n.ns=t.namespace);let i=[];return Fn(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var I0=class{constructor(){this.counters_={}}incrementCounter(e,n=1){mr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return SN(this.counters_)}};var c0={},l0={};function ab(t){let e=t.toString();return c0[e]||(c0[e]=new I0),c0[e]}function nK(t,e){let n=t.toString();return l0[n]||(l0[n]=e()),l0[n]}var b0=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&_u(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var U1="start",rK="close",iK="pLPCommand",oK="pRTLPCB",xO="id",RO="pw",NO="ser",sK="cb",aK="seg",cK="ts",lK="d",uK="dframe",MO=1870,kO=30,dK=MO-kO,hK=25e3,fK=3e4,C0=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vu(e),this.stats_=ab(n),this.urlFn=c=>(this.appCheckToken&&(c[E0]=this.appCheckToken),AO(n,SO,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new b0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fK)),G7(()=>{if(this.isClosed_)return;this.scriptTagHolder=new T0((...o)=>{let[s,a,c,u,h]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===U1)this.id=a,this.password=c;else if(s===rK)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[U1]="t",r[NO]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[sK]=this.scriptTagHolder.uniqueCallbackIdentifier),r[_O]=fg,this.transportSessionId&&(r[wO]=this.transportSessionId),this.lastSessionId&&(r[CO]=this.lastSessionId),this.applicationId&&(r[TO]=this.applicationId),this.appCheckToken&&(r[E0]=this.appCheckToken),typeof location<"u"&&location.hostname&&bO.test(location.hostname)&&(r[EO]=IO);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return gr()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Q7()&&!Y7()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=vt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=J_(n),i=yO(r,dK);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(gr())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[uK]="t",r[xO]=e,r[RO]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=vt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},T0=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,gr())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=q7(),window[iK+this.uniqueCallbackIdentifier]=e,window[oK+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ut("frame writing exception"),a.stack&&Ut(a.stack),Ut(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ut("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[xO]=this.myID,e[RO]=this.myPW,e[NO]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kO+r.length<=MO;){let s=this.pendingSegs.shift();r=r+"&"+aK+i+"="+s.seg+"&"+cK+i+"="+s.ts+"&"+lK+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(hK)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){gr()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var pK=16384,gK=45e3,gg=null;typeof MozWebSocket<"u"?gg=MozWebSocket:typeof WebSocket<"u"&&(gg=WebSocket);var su=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vu(this.connId),this.stats_=ab(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[_O]=fg,!gr()&&typeof location<"u"&&location.hostname&&bO.test(location.hostname)&&(a[EO]=IO),r&&(a[wO]=r),i&&(a[CO]=i),o&&(a[E0]=o),s&&(a[TO]=s),AO(n,DO,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yo.set("previous_websocket_failure",!0);try{let i;if(gr()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${fg}/${ob}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new gg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&gg!==null&&!t.forceDisallow_}static previouslyFailed(){return Yo.isInMemoryStorage||Yo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=la(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(B(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=vt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=yO(r,pK);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(gK))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),mK=(()=>{class t{static get ALL_TRANSPORTS(){return[C0,su]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=su&&su.isAvailable(),i=r&&!su.previouslyFailed();if(n.webSocketOnly&&(r||Tn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[su];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),yK=6e4,vK=5e3,_K=10*1024,wK=100*1024,u0="t",j1="d",EK="s",B1="r",IK="e",$1="o",H1="a",q1="n",z1="p",bK="h",D0=class{constructor(e,n,r,i,o,s,a,c,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vu("c:"+this.id+":"),this.transportManager_=new mK(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=uu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wK?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_K?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(u0 in e){let n=e[u0];n===H1?this.upgradeIfSecondaryHealthy_():n===B1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ou("t",e),r=ou("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:z1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:H1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:q1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ou("t",e),r=ou("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ou(u0,e);if(j1 in e){let r=e[j1];if(n===bK){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===q1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===EK?this.onConnectionShutdown_(r):n===B1?this.onReset_(r):n===IK?v0("Server Error: "+r):n===$1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):v0("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),fg!==r&&Tn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),uu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yK))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(vK))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:z1,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var mg=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var yg=class{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var vg=class t extends yg{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yl()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var W1=32,G1=768,Fe=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Me(){return new Fe("")}function Ce(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function zi(t){return t.pieces_.length-t.pieceNum_}function ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Fe(t.pieces_,e)}function PO(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function CK(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function OO(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function LO(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Fe(e,0)}function It(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Fe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Fe(n,0)}function we(t){return t.pieceNum_>=t.pieces_.length}function On(t,e){let n=Ce(t),r=Ce(e);if(n===null)return e;if(n===r)return On(ze(t),ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function FO(t,e){if(zi(t)!==zi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Zn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(zi(t)>zi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var S0=class{constructor(e,n){this.errorPrefix_=n,this.parts_=OO(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=El(this.parts_[r]);VO(this)}};function TK(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=El(e),VO(t)}function DK(t){let e=t.parts_.pop();t.byteLength_-=El(e),t.parts_.length>0&&(t.byteLength_-=1)}function VO(t){if(t.byteLength_>G1)throw new Error(t.errorPrefix_+"has a key path longer than "+G1+" bytes ("+t.byteLength_+").");if(t.parts_.length>W1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+W1+") or object contains a cycle "+Qo(t))}function Qo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var A0=class t extends yg{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}};var au=1e3,SK=60*5*1e3,K1=30*1e3,AK=1.3,xK=3e4,RK="server_kill",Q1=3,cb=(()=>{class t extends mg{constructor(n,r,i,o,s,a,c,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=vu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=au,this.maxReconnectDelay_=SK,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!gr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");A0.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&vg.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(vt(s)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new pr,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let u=c.d,h=c.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(h,u))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&mr(n,"w")){let i=Do(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Tn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||FN(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=K1)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=LN(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+vt(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):v0("Unrecognized action received from server: "+vt(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=au,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=au,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>xK&&(this.reconnectDelay_=au),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*AK)}this.onConnectStatus_(!1)}establishConnection_(){return C(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,u=function(){c?c.close():(a=!0,i())},h=function(m){B(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:u,sendRequest:h};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[m,y]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?Ut("getToken() completed but was canceled"):(Ut("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,c=new D0(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,T=>{Tn(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(RK)},s))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Tn(m),u())}}})}interrupt(n){Ut("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ut("Resuming connection for reason: "+n),delete this.interruptReasons_[n],_l(this.interruptReasons_)&&(this.reconnectDelay_=au,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>sb(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new Fe(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ut("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Q1&&(this.reconnectDelay_=K1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ut("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Q1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";gr()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+ob.replace(/\./g,"-")]=1,yl()?n["framework.cordova"]=1:Mf()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=vg.getInstance().currentlyOnline();return _l(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Te=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var qa=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Te(Ha,e),i=new Te(Ha,n);return this.compare(r,i)!==0}minPost(){return Te.MIN}};var hg,_g=class extends qa{static get __EMPTY_NODE(){return hg}static set __EMPTY_NODE(e){hg=e}compare(e,n){return Ya(e.name,n.name)}isDefinedOn(e){throw To("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Te.MIN}maxPost(){return new Te(Jo,hg)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new Te(e,hg)}toString(){return".key"}},$a=new _g;var Ua=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Yn=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Ln.EMPTY_NODE,this.right=s??Ln.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ln.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ln.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),x0=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Yn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ln=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Yn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ua(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ua(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ua(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ua(this.root_,null,this.comparator_,!0,e)}};Ln.EMPTY_NODE=new x0;function NK(t,e){return Ya(t.name,e.name)}function lb(t,e){return Ya(t,e)}var R0;function MK(t){R0=t}var UO=function(t){return typeof t=="number"?"number:"+vO(t):"string:"+t},jO=function(t){if(t.isLeafNode()){let e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mr(e,".sv"),"Priority must be a string or number.")}else B(t===R0||t.isEmpty(),"priority of unexpected type.");B(t===R0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Y1,za=(()=>{class t{static set __childrenNodeConstructor(n){Y1=n}static get __childrenNodeConstructor(){return Y1}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jO(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return we(n)?this:Ce(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Ce(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(B(i!==".priority"||zi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+UO(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=vO(this.value_):n+=this.value_,this.lazyHash_=gO(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(B(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return B(o>=0,"Unknown leaf type: "+r),B(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),BO,$O;function kK(t){BO=t}function PK(t){$O=t}var N0=class extends qa{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ya(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Te.MIN}maxPost(){return new Te(Jo,new za("[PRIORITY-POST]",$O))}makePost(e,n){let r=BO(e);return new Te(n,new za("[PRIORITY-POST]",r))}toString(){return".priority"}},Bt=new N0;var OK=Math.log(2),M0=class{constructor(e){let n=o=>parseInt(Math.log(o)/OK,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},wg=function(t,e,n,r){t.sort(e);let i=function(c,u){let h=u-c,p,m;if(h===0)return null;if(h===1)return p=t[c],m=n?n(p):p,new Yn(m,p.node,Yn.BLACK,null,null);{let y=parseInt(h/2,10)+c,T=i(c,y),M=i(y+1,u);return p=t[y],m=n?n(p):p,new Yn(m,p.node,Yn.BLACK,T,M)}},o=function(c){let u=null,h=null,p=t.length,m=function(T,M){let P=p-T,q=p;p-=T;let ie=i(P+1,q),ce=t[P],Ke=n?n(ce):ce;y(new Yn(Ke,ce.node,M,null,ie))},y=function(T){u?(u.left=T,u=T):(h=T,u=T)};for(let T=0;T<c.count;++T){let M=c.nextBitIsOne(),P=Math.pow(2,c.count-(T+1));M?m(P,Yn.BLACK):(m(P,Yn.BLACK),m(P,Yn.RED))}return h},s=new M0(t.length),a=o(s);return new Ln(r||e,a)};var d0,Va={},Wa=class t{static get Default(){return B(Va&&Bt,"ChildrenNode.ts has not been loaded"),d0=d0||new t({".priority":Va},{".priority":Bt}),d0}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Do(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ln?n:null}hasIndex(e){return mr(this.indexSet_,e.toString())}addIndex(e,n){B(e!==$a,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(Te.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=wg(r,e.getCompare()):a=Va;let c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;let h=Object.assign({},this.indexes_);return h[c]=a,new t(h,u)}addToIndexes(e,n){let r=wl(this.indexes_,(i,o)=>{let s=Do(this.indexSet_,o);if(B(s,"Missing index implementation for "+o),i===Va)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(Te.Wrap),u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),wg(a,s.getCompare())}else return Va;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new Te(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=wl(this.indexes_,i=>{if(i===Va)return i;{let o=n.get(e.name);return o?i.remove(new Te(e.name,o)):i}});return new t(r,this.indexSet_)}};var cu,Qe=(()=>{class t{static get EMPTY_NODE(){return cu||(cu=new t(new Ln(lb),null,Wa.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&jO(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cu}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?cu:r}}getChild(n){let r=Ce(n);return r===null?this:this.getImmediateChild(r).getChild(ze(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(B(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Te(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?cu:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=Ce(n);if(i===null)return r;{B(Ce(n)!==".priority"||zi(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ze(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Bt,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+UO(this.getPriority().val())+":"),this.forEachChild(Bt,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":gO(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new Te(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Te(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Te(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Te.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Te.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===wu?-1:0}withIndex(n){if(n===$a||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===$a||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Bt),o=r.getIterator(Bt),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===$a?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),k0=class extends Qe{constructor(){super(new Ln(lb),Qe.EMPTY_NODE,Wa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Qe.EMPTY_NODE}isEmpty(){return!1}},wu=new k0;Object.defineProperties(Te,{MIN:{value:new Te(Ha,Qe.EMPTY_NODE)},MAX:{value:new Te(Jo,wu)}});_g.__EMPTY_NODE=Qe.EMPTY_NODE;za.__childrenNodeConstructor=Qe;MK(wu);PK(wu);var LK=!0;function jt(t,e=null){if(t===null)return Qe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new za(n,jt(e))}if(!(t instanceof Array)&&LK){let n=[],r=!1;if(Fn(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=jt(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Te(s,c)))}}),n.length===0)return Qe.EMPTY_NODE;let o=wg(n,NK,s=>s.name,lb);if(r){let s=wg(n,Bt.getCompare());return new Qe(o,jt(e),new Wa({".priority":s},{".priority":Bt}))}else return new Qe(o,jt(e),Wa.Default)}else{let n=Qe.EMPTY_NODE;return Fn(t,(r,i)=>{if(mr(t,r)&&r.substring(0,1)!=="."){let o=jt(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(jt(e))}}kK(jt);var P0=class extends qa{constructor(e){super(),this.indexPath_=e,B(!we(e)&&Ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ya(e.name,n.name):o}makePost(e,n){let r=jt(e),i=Qe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Te(n,i)}maxPost(){let e=Qe.EMPTY_NODE.updateChild(this.indexPath_,wu);return new Te(Jo,e)}toString(){return OO(this.indexPath_,0).join("/")}};var O0=class extends qa{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ya(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Te.MIN}maxPost(){return Te.MAX}makePost(e,n){let r=jt(e);return new Te(n,r)}toString(){return".value"}},FK=new O0;function VK(t){return{type:"value",snapshotNode:t}}function UK(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function jK(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Z1(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function BK(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var L0=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ha}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bt}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function J1(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Bt?n="$priority":t.index_===FK?n="$value":t.index_===$a?n="$key":(B(t.index_ instanceof P0,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=vt(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=vt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+vt(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=vt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+vt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function X1(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Bt&&(e.i=t.index_.toString()),e}var F0=class t extends mg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=vu("p:rest:"),this.listens_={}}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=J1(e._queryParams);this.restRequest_(o+".json",c,(u,h)=>{let p=h;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(o,p,!1,r),Do(this.listens_,s)===a){let m;u?u===401?m="permission_denied":m="rest_error:"+u:m="ok",i(m,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=J1(e._queryParams),r=e._path.toString(),i=new pr;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+So(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=la(a.responseText)}catch{Tn("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Tn("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var V0=class{constructor(){this.rootNode_=Qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Eg(){return{value:null,children:new Map}}function HO(t,e,n){if(we(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=Ce(e);t.children.has(r)||t.children.set(r,Eg());let i=t.children.get(r);e=ze(e),HO(i,e,n)}}function U0(t,e,n){t.value!==null?n(e,t.value):$K(t,(r,i)=>{let o=new Fe(e.toString()+"/"+r);U0(i,o,n)})}function $K(t,e){t.children.forEach((n,r)=>{e(r,n)})}var j0=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Fn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var eO=10*1e3,HK=30*1e3,qK=5*60*1e3,B0=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new j0(e);let r=eO+(HK-eO)*Math.random();uu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Fn(e,(i,o)=>{o>0&&mr(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),uu(this.reportStats_.bind(this),Math.floor(Math.random()*2*qK))}};var si=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(si||{});function qO(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function zO(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function WO(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var $0=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=si.ACK_USER_WRITE,this.source=qO()}operationForChild(e){if(we(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Fe(e));return new t(Me(),n,this.revert)}}else return B(Ce(this.path)===e,"operationForChild called for unrelated child."),new t(ze(this.path),this.affectedTree,this.revert)}};var Ga=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=si.OVERWRITE}operationForChild(e){return we(this.path)?new t(this.source,Me(),this.snap.getImmediateChild(e)):new t(this.source,ze(this.path),this.snap)}};var Ig=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=si.MERGE}operationForChild(e){if(we(this.path)){let n=this.children.subtree(new Fe(e));return n.isEmpty()?null:n.value?new Ga(this.source,Me(),n.value):new t(this.source,Me(),n)}else return B(Ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var pu=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(we(e))return this.isFullyInitialized()&&!this.filtered_;let n=Ce(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function zK(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(BK(s.childName,s.snapshotNode))}),lu(t,i,"child_removed",e,r,n),lu(t,i,"child_added",e,r,n),lu(t,i,"child_moved",o,r,n),lu(t,i,"child_changed",e,r,n),lu(t,i,"value",e,r,n),i}function lu(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>GK(t,a,c)),s.forEach(a=>{let c=WK(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,t.query_))})})}function WK(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function GK(t,e,n){if(e.childName==null||n.childName==null)throw To("Should only compare child_ events.");let r=new Te(e.childName,e.snapshotNode),i=new Te(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function GO(t,e){return{eventCache:t,serverCache:e}}function hu(t,e,n,r){return GO(new pu(e,n,r),t.serverCache)}function KO(t,e,n,r){return GO(t.eventCache,new pu(e,n,r))}function H0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var h0,KK=()=>(h0||(h0=new Ln(K7)),h0),rn=class t{static fromObject(e){let n=new t(null);return Fn(e,(r,i)=>{n=n.set(new Fe(r),i)}),n}constructor(e,n=KK()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Me(),value:this.value};if(we(e))return null;{let r=Ce(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ze(e),n);return o!=null?{path:It(new Fe(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(we(e))return this;{let n=Ce(e),r=this.children.get(n);return r!==null?r.subtree(ze(e)):new t(null)}}set(e,n){if(we(e))return new t(n,this.children);{let r=Ce(e),o=(this.children.get(r)||new t(null)).set(ze(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(we(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=Ce(e),r=this.children.get(n);if(r){let i=r.remove(ze(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(we(e))return this.value;{let n=Ce(e),r=this.children.get(n);return r?r.get(ze(e)):null}}setTree(e,n){if(we(e))return n;{let r=Ce(e),o=(this.children.get(r)||new t(null)).setTree(ze(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(Me(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(It(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Me(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(we(e))return null;{let o=Ce(e),s=this.children.get(o);return s?s.findOnPath_(ze(e),It(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Me(),n)}foreachOnPath_(e,n,r){if(we(e))return this;{this.value&&r(n,this.value);let i=Ce(e),o=this.children.get(i);return o?o.foreachOnPath_(ze(e),It(n,i),r):new t(null)}}foreach(e){this.foreach_(Me(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(It(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Jn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new rn(null))}};function fu(t,e,n){if(we(e))return new Jn(new rn(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=On(i,e);return o=o.updateChild(s,n),new Jn(t.writeTree_.set(i,o))}else{let i=new rn(n),o=t.writeTree_.setTree(e,i);return new Jn(o)}}}function tO(t,e,n){let r=t;return Fn(n,(i,o)=>{r=fu(r,It(e,i),o)}),r}function nO(t,e){if(we(e))return Jn.empty();{let n=t.writeTree_.setTree(e,new rn(null));return new Jn(n)}}function q0(t,e){return es(t,e)!=null}function es(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(On(n.path,e)):null}function rO(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Bt,(r,i)=>{e.push(new Te(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Te(r,i.value))}),e}function qi(t,e){if(we(e))return t;{let n=es(t,e);return n!=null?new Jn(new rn(n)):new Jn(t.writeTree_.subtree(e))}}function z0(t){return t.writeTree_.isEmpty()}function Ka(t,e){return QO(Me(),t.writeTree_,e)}function QO(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(B(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=QO(It(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(It(t,".priority"),r)),n}}function YO(t,e){return tL(e,t)}function QK(t,e,n,r,i){B(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=fu(t.visibleWrites,e,n)),t.lastWriteId=r}function YK(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function ZK(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&JK(a,r.path)?i=!1:Zn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return XK(t),!0;if(r.snap)t.visibleWrites=nO(t.visibleWrites,r.path);else{let a=r.children;Fn(a,c=>{t.visibleWrites=nO(t.visibleWrites,It(r.path,c))})}return!0}else return!1}function JK(t,e){if(t.snap)return Zn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Zn(It(t.path,n),e))return!0;return!1}function XK(t){t.visibleWrites=ZO(t.allWrites,eQ,Me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function eQ(t){return t.visible}function ZO(t,e,n){let r=Jn.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Zn(n,s)?(a=On(n,s),r=fu(r,a,o.snap)):Zn(s,n)&&(a=On(s,n),r=fu(r,Me(),o.snap.getChild(a)));else if(o.children){if(Zn(n,s))a=On(n,s),r=tO(r,a,o.children);else if(Zn(s,n))if(a=On(s,n),we(a))r=tO(r,Me(),o.children);else{let c=Do(o.children,Ce(a));if(c){let u=c.getChild(ze(a));r=fu(r,Me(),u)}}}else throw To("WriteRecord should have .snap or .children")}}return r}function JO(t,e,n,r,i){if(!r&&!i){let o=es(t.visibleWrites,e);if(o!=null)return o;{let s=qi(t.visibleWrites,e);if(z0(s))return n;if(n==null&&!q0(s,Me()))return null;{let a=n||Qe.EMPTY_NODE;return Ka(s,a)}}}else{let o=qi(t.visibleWrites,e);if(!i&&z0(o))return n;if(!i&&n==null&&!q0(o,Me()))return null;{let s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Zn(u.path,e)||Zn(e,u.path))},a=ZO(t.allWrites,s,e),c=n||Qe.EMPTY_NODE;return Ka(a,c)}}}function tQ(t,e,n){let r=Qe.EMPTY_NODE,i=es(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Bt,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=qi(t.visibleWrites,e);return n.forEachChild(Bt,(s,a)=>{let c=Ka(qi(o,new Fe(s)),a);r=r.updateImmediateChild(s,c)}),rO(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=qi(t.visibleWrites,e);return rO(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function nQ(t,e,n,r,i){B(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=It(e,n);if(q0(t.visibleWrites,o))return null;{let s=qi(t.visibleWrites,o);return z0(s)?i.getChild(n):Ka(s,i.getChild(n))}}function rQ(t,e,n,r){let i=It(e,n),o=es(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=qi(t.visibleWrites,i);return Ka(s,r.getNode().getImmediateChild(n))}else return null}function iQ(t,e){return es(t.visibleWrites,e)}function oQ(t,e,n,r,i,o,s){let a,c=qi(t.visibleWrites,e),u=es(c,Me());if(u!=null)a=u;else if(n!=null)a=Ka(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let h=[],p=s.getCompare(),m=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),y=m.getNext();for(;y&&h.length<i;)p(y,r)!==0&&h.push(y),y=m.getNext();return h}else return[]}function sQ(){return{visibleWrites:Jn.empty(),allWrites:[],lastWriteId:-1}}function W0(t,e,n,r){return JO(t.writeTree,t.treePath,e,n,r)}function XO(t,e){return tQ(t.writeTree,t.treePath,e)}function iO(t,e,n,r){return nQ(t.writeTree,t.treePath,e,n,r)}function bg(t,e){return iQ(t.writeTree,It(t.treePath,e))}function aQ(t,e,n,r,i,o){return oQ(t.writeTree,t.treePath,e,n,r,i,o)}function ub(t,e,n){return rQ(t.writeTree,t.treePath,e,n)}function eL(t,e){return tL(It(t.treePath,e),t.writeTree)}function tL(t,e){return{treePath:t,writeTree:e}}var G0=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Z1(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,jK(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,UK(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Z1(r,e.snapshotNode,i.oldSnap));else throw To("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var K0=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},nL=new K0,gu=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new pu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ub(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xo(this.viewCache_),o=aQ(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function cQ(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lQ(t,e,n,r,i){let o=new G0,s,a;if(n.type===si.OVERWRITE){let u=n;u.source.fromUser?s=Q0(t,e,u.path,u.snap,r,i,o):(B(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!we(u.path),s=Cg(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===si.MERGE){let u=n;u.source.fromUser?s=dQ(t,e,u.path,u.children,r,i,o):(B(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Y0(t,e,u.path,u.children,r,i,a,o))}else if(n.type===si.ACK_USER_WRITE){let u=n;u.revert?s=pQ(t,e,u.path,r,i,o):s=hQ(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===si.LISTEN_COMPLETE)s=fQ(t,e,n.path,r,o);else throw To("Unknown operation type: "+n.type);let c=o.getChanges();return uQ(e,s,c),{viewCache:s,changes:c}}function uQ(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=H0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(VK(H0(e)))}}function rL(t,e,n,r,i,o){let s=e.eventCache;if(bg(r,n)!=null)return e;{let a,c;if(we(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=Xo(e),h=u instanceof Qe?u:Qe.EMPTY_NODE,p=XO(r,h);a=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{let u=W0(r,Xo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{let u=Ce(n);if(u===".priority"){B(zi(n)===1,"Can't have a priority with additional path components");let h=s.getNode();c=e.serverCache.getNode();let p=iO(r,n,h,c);p!=null?a=t.filter.updatePriority(h,p):a=s.getNode()}else{let h=ze(n),p;if(s.isCompleteForChild(u)){c=e.serverCache.getNode();let m=iO(r,n,s.getNode(),c);m!=null?p=s.getNode().getImmediateChild(u).updateChild(h,m):p=s.getNode().getImmediateChild(u)}else p=ub(r,u,e.serverCache);p!=null?a=t.filter.updateChild(s.getNode(),u,p,h,i,o):a=s.getNode()}}return hu(e,a,s.isFullyInitialized()||we(n),t.filter.filtersNodes())}}function Cg(t,e,n,r,i,o,s,a){let c=e.serverCache,u,h=s?t.filter:t.filter.getIndexedFilter();if(we(n))u=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){let y=c.getNode().updateChild(n,r);u=h.updateFullNode(c.getNode(),y,null)}else{let y=Ce(n);if(!c.isCompleteForPath(n)&&zi(n)>1)return e;let T=ze(n),P=c.getNode().getImmediateChild(y).updateChild(T,r);y===".priority"?u=h.updatePriority(c.getNode(),P):u=h.updateChild(c.getNode(),y,P,T,nL,null)}let p=KO(e,u,c.isFullyInitialized()||we(n),h.filtersNodes()),m=new gu(i,p,o);return rL(t,p,n,i,m,a)}function Q0(t,e,n,r,i,o,s){let a=e.eventCache,c,u,h=new gu(i,e,o);if(we(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=hu(e,u,!0,t.filter.filtersNodes());else{let p=Ce(n);if(p===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=hu(e,u,a.isFullyInitialized(),a.isFiltered());else{let m=ze(n),y=a.getNode().getImmediateChild(p),T;if(we(m))T=r;else{let M=h.getCompleteChild(p);M!=null?PO(m)===".priority"&&M.getChild(LO(m)).isEmpty()?T=M:T=M.updateChild(m,r):T=Qe.EMPTY_NODE}if(y.equals(T))c=e;else{let M=t.filter.updateChild(a.getNode(),p,T,m,h,s);c=hu(e,M,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function oO(t,e){return t.eventCache.isCompleteForChild(e)}function dQ(t,e,n,r,i,o,s){let a=e;return r.foreach((c,u)=>{let h=It(n,c);oO(e,Ce(h))&&(a=Q0(t,a,h,u,i,o,s))}),r.foreach((c,u)=>{let h=It(n,c);oO(e,Ce(h))||(a=Q0(t,a,h,u,i,o,s))}),a}function sO(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Y0(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;we(n)?u=r:u=new rn(null).setTree(n,r);let h=e.serverCache.getNode();return u.children.inorderTraversal((p,m)=>{if(h.hasChild(p)){let y=e.serverCache.getNode().getImmediateChild(p),T=sO(t,y,m);c=Cg(t,c,new Fe(p),T,i,o,s,a)}}),u.children.inorderTraversal((p,m)=>{let y=!e.serverCache.isCompleteForChild(p)&&m.value===null;if(!h.hasChild(p)&&!y){let T=e.serverCache.getNode().getImmediateChild(p),M=sO(t,T,m);c=Cg(t,c,new Fe(p),M,i,o,s,a)}}),c}function hQ(t,e,n,r,i,o,s){if(bg(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(we(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Cg(t,e,n,c.getNode().getChild(n),i,o,a,s);if(we(n)){let u=new rn(null);return c.getNode().forEachChild($a,(h,p)=>{u=u.set(new Fe(h),p)}),Y0(t,e,n,u,i,o,a,s)}else return e}else{let u=new rn(null);return r.foreach((h,p)=>{let m=It(n,h);c.isCompleteForPath(m)&&(u=u.set(h,c.getNode().getChild(m)))}),Y0(t,e,n,u,i,o,a,s)}}function fQ(t,e,n,r,i){let o=e.serverCache,s=KO(e,o.getNode(),o.isFullyInitialized()||we(n),o.isFiltered());return rL(t,s,n,r,nL,i)}function pQ(t,e,n,r,i,o){let s;if(bg(r,n)!=null)return e;{let a=new gu(r,e,i),c=e.eventCache.getNode(),u;if(we(n)||Ce(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=W0(r,Xo(e));else{let p=e.serverCache.getNode();B(p instanceof Qe,"serverChildren would be complete if leaf node"),h=XO(r,p)}h=h,u=t.filter.updateFullNode(c,h,o)}else{let h=Ce(n),p=ub(r,h,e.serverCache);p==null&&e.serverCache.isCompleteForChild(h)&&(p=c.getImmediateChild(h)),p!=null?u=t.filter.updateChild(c,h,p,ze(n),a,o):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(c,h,Qe.EMPTY_NODE,ze(n),a,o):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=W0(r,Xo(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||bg(r,Me())!=null,hu(e,u,s,t.filter.filtersNodes())}}function gQ(t,e){let n=Xo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!we(e)&&!n.getImmediateChild(Ce(e)).isEmpty())?n.getChild(e):null}function aO(t,e,n,r){e.type===si.MERGE&&e.source.queryId!==null&&(B(Xo(t.viewCache_),"We should always have a full cache before handling merges"),B(H0(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=lQ(t.processor_,i,e,n,r);return cQ(t.processor_,o.viewCache),B(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,mQ(t,o.changes,o.viewCache.eventCache.getNode(),null)}function mQ(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return zK(t.eventGenerator_,e,n,i)}var cO;function yQ(t){B(!cO,"__referenceConstructor has already been defined"),cO=t}function db(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return B(o!=null,"SyncTree gave us an op for an invalid query."),aO(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(aO(s,e,n,r));return o}}function hb(t,e){let n=null;for(let r of t.views.values())n=n||gQ(r,e);return n}var lO;function vQ(t){B(!lO,"__referenceConstructor has already been defined"),lO=t}var Tg=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rn(null),this.pendingWriteTree_=sQ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function _Q(t,e,n,r,i){return QK(t.pendingWriteTree_,e,n,r,i),i?Sg(t,new Ga(qO(),e,n)):[]}function ja(t,e,n=!1){let r=YK(t.pendingWriteTree_,e);if(ZK(t.pendingWriteTree_,e)){let o=new rn(null);return r.snap!=null?o=o.set(Me(),!0):Fn(r.children,s=>{o=o.set(new Fe(s),!0)}),Sg(t,new $0(r.path,o,n))}else return[]}function Dg(t,e,n){return Sg(t,new Ga(zO(),e,n))}function wQ(t,e,n){let r=rn.fromObject(n);return Sg(t,new Ig(zO(),e,r))}function EQ(t,e,n,r){let i=aL(t,r);if(i!=null){let o=cL(i),s=o.path,a=o.queryId,c=On(s,e),u=new Ga(WO(a),c,n);return lL(t,s,u)}else return[]}function IQ(t,e,n,r){let i=aL(t,r);if(i){let o=cL(i),s=o.path,a=o.queryId,c=On(s,e),u=rn.fromObject(n),h=new Ig(WO(a),c,u);return lL(t,s,h)}else return[]}function iL(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=On(s,e),u=hb(a,c);if(u)return u});return JO(i,e,o,n,!0)}function Sg(t,e){return oL(e,t.syncPointTree_,null,YO(t.pendingWriteTree_,Me()))}function oL(t,e,n,r){if(we(t.path))return sL(t,e,n,r);{let i=e.get(Me());n==null&&i!=null&&(n=hb(i,Me()));let o=[],s=Ce(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let u=n?n.getImmediateChild(s):null,h=eL(r,s);o=o.concat(oL(a,c,u,h))}return i&&(o=o.concat(db(i,t,r,n))),o}}function sL(t,e,n,r){let i=e.get(Me());n==null&&i!=null&&(n=hb(i,Me()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,u=eL(r,s),h=t.operationForChild(s);h&&(o=o.concat(sL(h,a,c,u)))}),i&&(o=o.concat(db(i,t,r,n))),o}function aL(t,e){return t.tagToQueryMap.get(e)}function cL(t){let e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Fe(t.substr(0,e))}}function lL(t,e,n){let r=t.syncPointTree_.get(e);B(r,"Missing sync point for query tag that we're tracking");let i=YO(t.pendingWriteTree_,e);return db(r,n,i,null)}var Z0=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},J0=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=It(this.path_,e);return new t(this.syncTree_,n)}node(){return iL(this.syncTree_,this.path_)}},bQ=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},uO=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return CQ(t[".sv"],e,n);if(typeof t[".sv"]=="object")return TQ(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},CQ=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},TQ=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);let i=e.node();if(B(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},DQ=function(t,e,n,r){return fb(e,new J0(n,t),r)},SQ=function(t,e,n){return fb(t,new Z0(e),n)};function fb(t,e,n){let r=t.getPriority().val(),i=uO(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=uO(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new za(a,jt(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new za(i))),s.forEachChild(Bt,(a,c)=>{let u=fb(c,e.getImmediateChild(a),n);u!==c&&(o=o.updateImmediateChild(a,u))}),o}}var mu=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function pb(t,e){let n=e instanceof Fe?e:new Fe(e),r=t,i=Ce(n);for(;i!==null;){let o=Do(r.node.children,i)||{children:{},childCount:0};r=new mu(i,r,o),n=ze(n),i=Ce(n)}return r}function Za(t){return t.node.value}function uL(t,e){t.node.value=e,X0(t)}function dL(t){return t.node.childCount>0}function AQ(t){return Za(t)===void 0&&!dL(t)}function Ag(t,e){Fn(t.node.children,(n,r)=>{e(new mu(n,t,r))})}function hL(t,e,n,r){n&&!r&&e(t),Ag(t,i=>{hL(i,e,!0,r)}),n&&r&&e(t)}function xQ(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Eu(t){return new Fe(t.parent===null?t.name:Eu(t.parent)+"/"+t.name)}function X0(t){t.parent!==null&&RQ(t.parent,t.name,t)}function RQ(t,e,n){let r=AQ(n),i=mr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,X0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,X0(t))}var NQ=/[\[\].#$\/\u0000-\u001F\u007F]/,MQ=/[\[\].#$\u0000-\u001F\u007F]/,f0=10*1024*1024,fL=function(t){return typeof t=="string"&&t.length!==0&&!NQ.test(t)},kQ=function(t){return typeof t=="string"&&t.length!==0&&!MQ.test(t)},PQ=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),kQ(t)};var pL=function(t,e,n){let r=n instanceof Fe?new S0(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Qo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Qo(r)+" with contents = "+e.toString());if(mO(e))throw new Error(t+"contains "+e.toString()+" "+Qo(r));if(typeof e=="string"&&e.length>f0/3&&El(e)>f0)throw new Error(t+"contains a string greater than "+f0+" utf8 bytes "+Qo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Fn(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!fL(s)))throw new Error(t+" contains an invalid key ("+s+") "+Qo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);TK(r,s),pL(t,a,r),DK(r)}),i&&o)throw new Error(t+' contains ".value" child '+Qo(r)+" in addition to actual children.")}};var OQ=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!fL(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!PQ(n))throw new Error(UN(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var eb=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function LQ(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!FO(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ts(t,e,n){LQ(t,n),FQ(t,r=>Zn(r,e)||Zn(e,r))}function FQ(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(VQ(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function VQ(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Zo&&Ut("event: "+n.toString()),_u(r)}}}var UQ="repo_interrupt",jQ=25,tb=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Eg(),this.transactionQueueTree_=new mu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function BQ(t,e,n){if(t.stats_=ab(t.repoInfo_),t.forceRestClient_||eK())t.server_=new F0(t.repoInfo_,(r,i,o,s)=>{dO(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>hO(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{vt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new cb(t.repoInfo_,e,(r,i,o,s)=>{dO(t,r,i,o,s)},r=>{hO(t,r)},r=>{HQ(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=nK(t.repoInfo_,()=>new B0(t.stats_,t.server_)),t.infoData_=new V0,t.infoSyncTree_=new Tg({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Dg(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),gb(t,"connected",!1),t.serverSyncTree_=new Tg({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let u=s(a,c);ts(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function $Q(t){let n=t.infoData_.getNode(new Fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function gL(t){return bQ({timestamp:$Q(t)})}function dO(t,e,n,r,i){t.dataUpdateCount++;let o=new Fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=wl(n,u=>jt(u));s=IQ(t.serverSyncTree_,o,c,i)}else{let c=jt(n);s=EQ(t.serverSyncTree_,o,c,i)}else if(r){let c=wl(n,u=>jt(u));s=wQ(t.serverSyncTree_,o,c)}else{let c=jt(n);s=Dg(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=yb(t,o)),ts(t.eventQueue_,a,s)}function hO(t,e){gb(t,"connected",e),e===!1&&zQ(t)}function HQ(t,e){Fn(e,(n,r)=>{gb(t,n,r)})}function gb(t,e,n){let r=new Fe("/.info/"+e),i=jt(n);t.infoData_.updateSnapshot(r,i);let o=Dg(t.infoSyncTree_,r,i);ts(t.eventQueue_,r,o)}function qQ(t){return t.nextWriteId_++}function zQ(t){mL(t,"onDisconnectEvents");let e=gL(t),n=Eg();U0(t.onDisconnect_,Me(),(i,o)=>{let s=DQ(i,o,t.serverSyncTree_,e);HO(n,i,s)});let r=[];U0(n,Me(),(i,o)=>{r=r.concat(Dg(t.serverSyncTree_,i,o));let s=QQ(t,i);yb(t,s)}),t.onDisconnect_=Eg(),ts(t.eventQueue_,Me(),r)}function WQ(t){t.persistentConnection_&&t.persistentConnection_.interrupt(UQ)}function mL(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ut(n,...e)}function yL(t,e,n){return iL(t.serverSyncTree_,e,n)||Qe.EMPTY_NODE}function mb(t,e=t.transactionQueueTree_){if(e||xg(t,e),Za(e)){let n=_L(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&GQ(t,Eu(e),n)}else dL(e)&&Ag(e,n=>{mb(t,n)})}function GQ(t,e,n){let r=n.map(u=>u.currentWriteId),i=yL(t,e,r),o=i,s=i.hash();for(let u=0;u<n.length;u++){let h=n[u];B(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;let p=On(e,h.path);o=o.updateChild(p,h.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,u=>{mL(t,"transaction put response",{path:c.toString(),status:u});let h=[];if(u==="ok"){let p=[];for(let m=0;m<n.length;m++)n[m].status=2,h=h.concat(ja(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&p.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();xg(t,pb(t.transactionQueueTree_,e)),mb(t,t.transactionQueueTree_),ts(t.eventQueue_,e,h);for(let m=0;m<p.length;m++)_u(p[m])}else{if(u==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Tn("transaction at "+c.toString()+" failed: "+u);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=u}yb(t,e)}},s)}function yb(t,e){let n=vL(t,e),r=Eu(n),i=_L(t,n);return KQ(t,i,r),r}function KQ(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],u=On(n,c.path),h=!1,p;if(B(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,p=c.abortReason,i=i.concat(ja(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=jQ)h=!0,p="maxretry",i=i.concat(ja(t.serverSyncTree_,c.currentWriteId,!0));else{let m=yL(t,c.path,s);c.currentInputSnapshot=m;let y=e[a].update(m.val());if(y!==void 0){pL("transaction failed: Data returned ",y,c.path);let T=jt(y);typeof y=="object"&&y!=null&&mr(y,".priority")||(T=T.updatePriority(m.getPriority()));let P=c.currentWriteId,q=gL(t),ie=SQ(T,m,q);c.currentOutputSnapshotRaw=T,c.currentOutputSnapshotResolved=ie,c.currentWriteId=qQ(t),s.splice(s.indexOf(P),1),i=i.concat(_Q(t.serverSyncTree_,c.path,ie,c.currentWriteId,c.applyLocally)),i=i.concat(ja(t.serverSyncTree_,P,!0))}else h=!0,p="nodata",i=i.concat(ja(t.serverSyncTree_,c.currentWriteId,!0))}ts(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,function(m){setTimeout(m,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(p),!1,null))))}xg(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)_u(r[a]);mb(t,t.transactionQueueTree_)}function vL(t,e){let n,r=t.transactionQueueTree_;for(n=Ce(e);n!==null&&Za(r)===void 0;)r=pb(r,n),e=ze(e),n=Ce(e);return r}function _L(t,e){let n=[];return wL(t,e,n),n.sort((r,i)=>r.order-i.order),n}function wL(t,e,n){let r=Za(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ag(e,i=>{wL(t,i,n)})}function xg(t,e){let n=Za(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,uL(e,n.length>0?n:void 0)}Ag(e,r=>{xg(t,r)})}function QQ(t,e){let n=Eu(vL(t,e)),r=pb(t.transactionQueueTree_,e);return xQ(r,i=>{p0(t,i)}),p0(t,r),hL(r,i=>{p0(t,i)}),n}function p0(t,e){let n=Za(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(B(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(B(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ja(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?uL(e,void 0):n.length=o+1,ts(t.eventQueue_,Eu(e),i);for(let s=0;s<r.length;s++)_u(r[s])}}function YQ(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function ZQ(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Tn(`Invalid query segment '${n}' in query '${t}'`)}return e}var fO=function(t,e){let n=JQ(t),r=n.namespace;n.domain==="firebase.com"&&ai(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||W7();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new pg(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Fe(n.pathString)}},JQ=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(i=YQ(t.substring(h,p)));let m=ZQ(t.substring(Math.min(t.length,p)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;let y=e.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{let T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),n=e.substring(T+1),o=r}"ns"in m&&(o=m.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var nb=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return we(this._path)?null:PO(this._path)}get ref(){return new Qa(this._repo,this._path)}get _queryIdentifier(){let e=X1(this._queryParams),n=sb(e);return n==="{}"?"default":n}get _queryObject(){return X1(this._queryParams)}isEqual(e){if(e=_t(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=FO(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+CK(this._path)}};var Qa=class t extends nb{constructor(e,n){super(e,n,new L0,!1)}get parent(){let e=LO(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};yQ(Qa);vQ(Qa);var XQ="FIREBASE_DATABASE_EMULATOR_HOST",rb={},eY=!1;function tY(t,e,n,r){t.repoInfo_=new pg(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function nY(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ut("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=fO(o,i),a=s.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[XQ]),u?(c=!0,o=`http://${u}?ns=${a.namespace}`,s=fO(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let h=i&&c?new du(du.OWNER):new w0(t.name,t.options,e);OQ("Invalid Firebase Database URL",s),we(s.path)||ai("Database URL must point to the root of a Firebase Database (not including a child path).");let p=iY(a,t,h,new _0(t,n));return new ib(p,t)}function rY(t,e){let n=rb[e];(!n||n[t.key]!==t)&&ai(`Database ${e}(${t.repoInfo_}) has already been deleted.`),WQ(t),delete n[t.key]}function iY(t,e,n,r){let i=rb[e.name];i||(i={},rb[e.name]=i);let o=i[t.toURLString()];return o&&ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new tb(t,eY,n,r),i[t.toURLString()]=o,o}var ib=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BQ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qa(this._repo,Me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rY(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ai("Cannot call "+e+" on a deleted database.")}};function EL(t=Qr(),e){let n=Ni(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Rf("database");r&&IL(n,...r)}return n}function IL(t,e,n,r={}){t=_t(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Nn(r,o.repoInfo_.emulatorOptions))return;ai("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ai('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new du(du.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:Nf(r.mockUserToken,t.app.options.projectId);s=new du(a)}tY(o,i,r,s)}function oY(t){H7(vr),En(new St("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return nY(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Le(O1,L1,t),Le(O1,L1,"esm2017")}cb.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};cb.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};oY();var Iu=class{constructor(e){return e}},bL="database",vb=class{constructor(){return Mi(bL)}};var _b=new $("angularfire2.database-instances");function sY(t,e){let n=Ro(bL,t,e);return n&&new Iu(n)}function aY(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Iu(r)}}var cY={provide:vb,deps:[[new ht,_b]]},lY={provide:Iu,useFactory:sY,deps:[[new ht,_b],Gn]};function CL(t,...e){return Le("angularfire",_r.full,"rtdb"),fn([lY,cY,{provide:_b,useFactory:aY(t),multi:!0,deps:[me,Ve,wr,Yr,[new ht,Lo],[new ht,Pi],...e]}])}var TL=In(EL,!0);var Rg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=tn({type:t,bootstrap:[dg]});static \u0275inj=en({providers:[MR(NR()),{provide:"FirebaseApp",useValue:P1},rM(()=>iM({projectId:"codetrek-f4fe6",appId:"1:810373237387:web:e00266c09cb0b40375e28e",storageBucket:"codetrek-f4fe6.firebasestorage.app",apiKey:"AIzaSyCsoICy4ccu-xV0ZQDU7PWiiTxgI0j8oug",authDomain:"codetrek-f4fe6.firebaseapp.com",messagingSenderId:"810373237387"})),uk(()=>np()),R1(()=>k1()),CL(()=>TL())],imports:[xR,ug,Nk]})};AR().bootstrapModule(Rg,{ngZoneEventCoalescing:!0}).catch(t=>console.error(t));
